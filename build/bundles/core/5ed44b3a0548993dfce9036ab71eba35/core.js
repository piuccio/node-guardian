"format register";System.register("github:rich-nguyen/systemjs-script-plugin@0.1.9/script",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,e.locate=function(e){return System.locate(e)},e.fetch=function(e){return new Promise(function(t,n){function o(e){s.readyState&&"loaded"!==s.readyState&&"complete"!=s.readyState||(i(),t(""))}function r(e){i(),n(e)}function i(){s.detachEvent?s.detachEvent("onreadystatechange",o):(s.removeEventListener("load",o,!1),s.removeEventListener("error",r,!1)),a.removeChild(s)}var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.async=!0,s.attachEvent?s.attachEvent("onreadystatechange",o):(s.addEventListener("load",o,!1),s.addEventListener("error",r,!1)),s.src=e.address,a.appendChild(s)})},n.define=o,t.exports}),System.register("github:rich-nguyen/systemjs-script-plugin@0.1.9",["github:rich-nguyen/systemjs-script-plugin@0.1.9/script"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports=require("github:rich-nguyen/systemjs-script-plugin@0.1.9/script"),n.define=o,t.exports}),function(){function e(){}e.amd={},!function(t,n){"use strict";function o(e,t){var n,o;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(o in t)d(t,o)&&(n[o]=t[o]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(r){}}function r(e){this.name="RavenConfigError",this.message=e}function i(e){var t=K.exec(e),n={},o=7;try{for(;o--;)n[G[o]]=t[o]||""}catch(i){throw new r("Invalid DSN: "+e)}if(n.pass)throw new r("Do not specify your private key in the DSN!");return n}function a(e){return"undefined"==typeof e}function s(e){return"function"==typeof e}function c(e){return"string"==typeof e}function l(e){return"object"==typeof e&&null!==e}function u(e){for(var t in e)return!1;return!0}function p(e){return l(e)&&"[object Error]"===q.toString.call(e)||e instanceof Error}function d(e,t){return q.hasOwnProperty.call(e,t)}function m(e,t){var n,o;if(a(e.length))for(n in e)d(e,n)&&t.call(null,n,e[n]);else if(o=e.length)for(n=0;o>n;n++)t.call(null,n,e[n])}function f(){F="?sentry_version=4&sentry_client=raven-js/"+W.VERSION+"&sentry_key="+L}function h(e,t){var n=[];e.stack&&e.stack.length&&m(e.stack,function(e,t){var o=g(t);o&&n.push(o)}),o("handle",{stackInfo:e,options:t}),b(e.name,e.message,e.url,e.lineno,n,t)}function g(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},o=v(e);if(o){var r=["pre_context","context_line","post_context"];for(t=3;t--;)n[r[t]]=o[t]}return n.in_app=!(!H.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n}}function v(e){if(e.context&&H.fetchContext){for(var t=e.context,n=~~(t.length/2),o=t.length,r=!1;o--;)if(t[o].length>300){r=!0;break}if(r){if(a(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}}function b(e,t,n,o,r,i){var a,s;t+="",("Error"!==e||t)&&(H.ignoreErrors.test(t)||(r&&r.length?(n=r[0].filename||n,r.reverse(),a={frames:r}):n&&(a={frames:[{filename:n,lineno:o,in_app:!0}]}),t=E(t,H.maxMessageLength),H.ignoreUrls&&H.ignoreUrls.test(n)||(!H.whitelistUrls||H.whitelistUrls.test(n))&&(s=o?t+" at "+o:t,_(y({exception:{type:e,value:t},stacktrace:a,culprit:n,message:s},i)))))}function y(e,t){return t?(m(t,function(t,n){e[t]=n}),e):e}function E(e,t){return e.length<=t?e:e.substr(0,t)+"\u2026"}function w(){return+new Date}function C(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(e.headers.Referer=document.referrer),e}function _(e){k()&&(e=y({project:V,logger:H.logger,platform:"javascript",request:C()},e),e.tags=y(y({},H.tags),e.tags),e.extra=y(y({},H.extra),e.extra),e.extra=y({"session:duration":w()-$},e.extra),u(e.tags)&&delete e.tags,A&&(e.user=A),H.release&&(e.release=H.release),s(H.dataCallback)&&(e=H.dataCallback(e)),(!s(H.shouldSendCallback)||H.shouldSendCallback(e))&&(j=e.event_id||(e.event_id=N()),x(e)))}function x(e){var t=new Image,n=P+F+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.crossOrigin="anonymous",t.onload=function(){o("success",{data:e,src:n})},t.onerror=t.onabort=function(){o("failure",{data:e,src:n})},t.src=n}function k(){return B?P?!0:(D("error","Error: Raven has not been configured."),!1):!1}function S(e){for(var t,n=[],o=0,r=e.length;r>o;o++)t=e[o],c(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function N(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function D(e,n){t.console&&console[e]&&W.debug&&console[e](n)}function R(){var e=t.RavenConfig;e&&W.config(e.dsn,e.config).install()}var O={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},M=[].slice,T="?";O.wrap=function(e){function t(){try{return e.apply(this,arguments)}catch(t){throw O.report(t),t}}return t},O.report=function(){function e(e){s(),f.push(e)}function o(e){for(var t=f.length-1;t>=0;--t)f[t]===e&&f.splice(t,1)}function r(){c(),f=[]}function i(e,t){var n=null;if(!t||O.collectWindowErrors){for(var o in f)if(d(f,o))try{f[o].apply(null,[e].concat(M.call(arguments,2)))}catch(r){n=r}if(n)throw n}}function a(e,t,n,o,r){var a=null;if(v)O.computeStackTrace.augmentStackTraceWithInitialElement(v,t,n,e),l();else if(r)a=O.computeStackTrace(r),i(a,!0);else{var s={url:t,line:n,column:o};s.func=O.computeStackTrace.guessFunctionName(s.url,s.line),s.context=O.computeStackTrace.gatherContext(s.url,s.line),a={message:e,url:document.location.href,stack:[s]},i(a,!0)}return p?p.apply(this,arguments):!1}function s(){m||(p=t.onerror,t.onerror=a,m=!0)}function c(){m&&(t.onerror=p,m=!1,p=n)}function l(){var e=v,t=h;h=null,v=null,g=null,i.apply(null,[e,!1].concat(t))}function u(e,n){var o=M.call(arguments,1);if(v){if(g===e)return;l()}var r=O.computeStackTrace(e);if(v=r,g=e,h=o,t.setTimeout(function(){g===e&&l()},r.incomplete?2e3:0),n!==!1)throw e}var p,m,f=[],h=null,g=null,v=null;return u.subscribe=e,u.unsubscribe=o,u.uninstall=r,u}(),O.computeStackTrace=function(){function e(e){if(!O.remoteFetching)return"";try{var n=function(){try{return new t.XMLHttpRequest}catch(e){return new t.ActiveXObject("Microsoft.XMLHTTP")}},o=n();return o.open("GET",e,!1),o.send(""),o.responseText}catch(r){return""}}function n(t){if(!c(t))return[];if(!d(E,t)){var n="";-1!==t.indexOf(document.domain)&&(n=e(t)),E[t]=n?n.split("\n"):[]}return E[t]}function o(e,t){var o,r=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",c=10,l=n(e);if(!l.length)return T;for(var u=0;c>u;++u)if(s=l[t-u]+s,!a(s)){if(o=i.exec(s))return o[1];if(o=r.exec(s))return o[1]}return T}function r(e,t){var o=n(e);if(!o.length)return null;var r=[],i=Math.floor(O.linesOfContext/2),s=i+O.linesOfContext%2,c=Math.max(0,t-i-1),l=Math.min(o.length,t+s-1);t-=1;for(var u=c;l>u;++u)a(o[u])||r.push(o[u]);return r.length>0?r:null}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function s(e){return i(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(e,t){for(var o,r,i=0,a=t.length;a>i;++i)if((o=n(t[i])).length&&(o=o.join("\n"),r=e.exec(o)))return{url:t[i],line:o.substring(0,r.index).split("\n").length,column:r.index-o.lastIndexOf("\n",r.index)-1};return null}function u(e,t,o){var r,a=n(t),s=new RegExp("\\b"+i(e)+"\\b");return o-=1,a&&a.length>o&&(r=s.exec(a[o]))?r.index:null}function p(e){for(var n,o,r,a,c=[t.location.href],u=document.getElementsByTagName("script"),p=""+e,d=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,m=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,f=0;f<u.length;++f){var h=u[f];h.src&&c.push(h.src)}if(r=d.exec(p)){var g=r[1]?"\\s+"+r[1]:"",v=r[2].split(",").join("\\s*,\\s*");n=i(r[3]).replace(/;$/,";?"),o=new RegExp("function"+g+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else o=new RegExp(i(p).replace(/\s+/g,"\\s+"));if(a=l(o,c))return a;if(r=m.exec(p)){var b=r[1];if(n=s(r[2]),o=new RegExp("on"+b+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),a=l(o,c[0]))return a;if(o=new RegExp(n),a=l(o,c))return a}return null}function m(e){if(!e.stack)return null;for(var t,n,i=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,c=e.stack.split("\n"),l=[],p=/^(.*) is undefined$/.exec(e.message),d=0,m=c.length;m>d;++d){if(t=s.exec(c[d]))n={url:t[3],func:t[1]||T,args:t[2]?t[2].split(","):"",line:+t[4],column:t[5]?+t[5]:null};else{if(!(t=i.exec(c[d])))continue;n={url:t[2],func:t[1]||T,line:+t[3],column:t[4]?+t[4]:null}}!n.func&&n.line&&(n.func=o(n.url,n.line)),n.line&&(n.context=r(n.url,n.line)),l.push(n)}return l.length?(l[0].line&&!l[0].column&&p?l[0].column=u(p[1],l[0].url,l[0].line):l[0].column||a(e.columnNumber)||(l[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:document.location.href,stack:l}):null}function f(e){for(var t,n=e.stacktrace,i=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,a=n.split("\n"),s=[],c=0,l=a.length;l>c;c+=2)if(t=i.exec(a[c])){var u={line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[],url:t[6]};if(!u.func&&u.line&&(u.func=o(u.url,u.line)),u.line)try{u.context=r(u.url,u.line)}catch(p){}u.context||(u.context=[a[c+1]]),s.push(u)}return s.length?{name:e.name,message:e.message,url:document.location.href,stack:s}:null}function h(e){var i=e.message.split("\n");if(i.length<4)return null;var a,c,u,p,m=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,f=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of function script\s*$/i,g=[],v=document.getElementsByTagName("script"),b=[];for(c in v)d(v,c)&&!v[c].src&&b.push(v[c]);for(c=2,u=i.length;u>c;c+=2){var y=null;if(a=m.exec(i[c]))y={url:a[2],func:a[3],line:+a[1]};else if(a=f.exec(i[c])){y={url:a[3],func:a[4]};var E=+a[1],w=b[a[2]-1];if(w&&(p=n(y.url))){p=p.join("\n");var C=p.indexOf(w.innerText);C>=0&&(y.line=E+p.substring(0,C).split("\n").length)}}else if(a=h.exec(i[c])){var _=t.location.href.replace(/#.*$/,""),x=a[1],k=new RegExp(s(i[c+1]));p=l(k,[_]),y={url:_,line:p?p.line:x,func:""}}if(y){y.func||(y.func=o(y.url,y.line));var S=r(y.url,y.line),N=S?S[Math.floor(S.length/2)]:null;y.context=S&&N.replace(/^\s*/,"")===i[c+1].replace(/^\s*/,"")?S:[i[c+1]],g.push(y)}}return g.length?{name:e.name,message:i[0],url:document.location.href,stack:g}:null}function g(e,t,n,i){var a={url:t,line:n};if(a.url&&a.line){e.incomplete=!1,a.func||(a.func=o(a.url,a.line)),a.context||(a.context=r(a.url,a.line));var s=/ '([^']+)' /.exec(i);if(s&&(a.column=u(s[1],a.url,a.line)),e.stack.length>0&&e.stack[0].url===a.url){if(e.stack[0].line===a.line)return!1;if(!e.stack[0].line&&e.stack[0].func===a.func)return e.stack[0].line=a.line,e.stack[0].context=a.context,!1}return e.stack.unshift(a),e.partial=!0,!0}return e.incomplete=!0,!1}function v(e,t){for(var n,r,i,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],c={},l=!1,d=v.caller;d&&!l;d=d.caller)if(d!==b&&d!==O.report){if(r={url:null,func:T,line:null,column:null},d.name?r.func=d.name:(n=a.exec(d.toString()))&&(r.func=n[1]),i=p(d)){r.url=i.url,r.line=i.line,r.func===T&&(r.func=o(r.url,r.line));var m=/ '([^']+)' /.exec(e.message||e.description);m&&(r.column=u(m[1],i.url,i.line))}c[""+d]?l=!0:c[""+d]=!0,s.push(r)}t&&s.splice(0,t);var f={name:e.name,message:e.message,url:document.location.href,stack:s};return g(f,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),f}function b(e,t){var n=null;t=null==t?0:+t;try{if(n=f(e))return n}catch(o){if(y)throw o}try{if(n=m(e))return n}catch(o){if(y)throw o}try{if(n=h(e))return n}catch(o){if(y)throw o}try{if(n=v(e,t+1))return n}catch(o){if(y)throw o}return{}}var y=!1,E={};return b.augmentStackTraceWithInitialElement=g,b.computeStackTraceFromStackProp=m,b.guessFunctionName=o,b.gatherContext=r,b}();var I,j,P,A,L,V,F,U=t.Raven,B=!("object"!=typeof JSON||!JSON.stringify),H={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},maxMessageLength:100,extra:{}},z=!1,q=Object.prototype,$=w(),W={VERSION:"1.1.18",debug:!0,noConflict:function(){return t.Raven=U,W},config:function(e,t){if(P)return D("error","Error: Raven has already been configured"),W;if(!e)return W;var n=i(e),o=n.path.lastIndexOf("/"),r=n.path.substr(1,o);return t&&m(t,function(e,t){H[e]=t}),H.ignoreErrors.push(/^Script error\.?$/),H.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),H.ignoreErrors=S(H.ignoreErrors),H.ignoreUrls=H.ignoreUrls.length?S(H.ignoreUrls):!1,H.whitelistUrls=H.whitelistUrls.length?S(H.whitelistUrls):!1,H.includePaths=S(H.includePaths),L=n.user,V=n.path.substr(o+1),P="//"+n.host+(n.port?":"+n.port:"")+"/"+r+"api/"+V+"/store/",n.protocol&&(P=n.protocol+":"+P),H.fetchContext&&(O.remoteFetching=!0),H.linesOfContext&&(O.linesOfContext=H.linesOfContext),O.collectWindowErrors=!!H.collectWindowErrors,f(),W},install:function(){return k()&&!z&&(O.report.subscribe(h),z=!0),W},context:function(e,t,o){return s(e)&&(o=t||[],t=e,e=n),W.wrap(e,t).apply(this,o)},wrap:function(e,t){function o(){for(var n=[],o=arguments.length,r=!e||e&&e.deep!==!1;o--;)n[o]=r?W.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,n)}catch(i){throw W.captureException(i,e),i}}if(a(t)&&!s(e))return e;if(s(e)&&(t=e,e=n),!s(t))return t;if(t.__raven__)return t;for(var r in t)d(t,r)&&(o[r]=t[r]);return o.__raven__=!0,o.__inner__=t,o},uninstall:function(){return O.report.uninstall(),z=!1,W},captureException:function(e,t){if(!p(e))return W.captureMessage(e,t);I=e;try{O.report(e,t)}catch(n){if(e!==n)throw n}return W},captureMessage:function(e,t){return H.ignoreErrors.test&&H.ignoreErrors.test(e)?void 0:(_(y({message:e+""},t)),W)},setUserContext:function(e){return A=e,W},setExtraContext:function(e){return H.extra=e||{},W},setTagsContext:function(e){return H.tags=e||{},W},setReleaseContext:function(e){return H.release=e,W},lastException:function(){return I},lastEventId:function(){return j},isSetup:function(){return k()}};W.setUser=W.setUserContext;var G="source protocol user pass host port path".split(" "),K=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;r.prototype=new Error,r.prototype.constructor=r,R(),"function"==typeof e&&e.amd?(t.Raven=W,System.register("github:getsentry/raven-js@1.1.18/dist/raven.min",[],!1,function(e,t,n){return function(){return W}.call(this)})):"object"==typeof module?module.exports=W:"object"==typeof exports?exports=W:t.Raven=W}(window)}(),function(){function e(){}e.amd={},function(t){"use strict";function n(){this.frames=[],this.lastId=0,this.raf=o,this.batch={hash:{},read:[],write:[],mode:null}}var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};n.prototype.read=function(e,t){var n=this.add("read",e,t),o=n.id;this.batch.read.push(n.id);var r="reading"===this.batch.mode||this.batch.scheduled;return r?o:(this.scheduleBatch(),o)},n.prototype.write=function(e,t){var n=this.add("write",e,t),o=this.batch.mode,r=n.id;this.batch.write.push(n.id);var i="writing"===o||"reading"===o||this.batch.scheduled;return i?r:(this.scheduleBatch(),r)},n.prototype.defer=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=1);var o=this,r=e-1;return this.schedule(r,function(){o.run({fn:t,ctx:n})})},n.prototype.clear=function(e){if("function"==typeof e)return this.clearFrame(e);e=Number(e);var t=this.batch.hash[e];if(t){var n=this.batch[t.type],o=n.indexOf(e);delete this.batch.hash[e],~o&&n.splice(o,1)}},n.prototype.clearFrame=function(e){var t=this.frames.indexOf(e);~t&&this.frames.splice(t,1)},n.prototype.scheduleBatch=function(){var e=this;this.schedule(0,function(){e.batch.scheduled=!1,e.runBatch()}),this.batch.scheduled=!0},n.prototype.uniqueId=function(){return++this.lastId},n.prototype.flush=function(e){for(var t;t=e.shift();)this.run(this.batch.hash[t])},n.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(e){throw this.runBatch(),e}},n.prototype.add=function(e,t,n){var o=this.uniqueId();return this.batch.hash[o]={id:o,fn:t,ctx:n,type:e}},n.prototype.run=function(e){var t=e.ctx||this,n=e.fn;if(delete this.batch.hash[e.id],!this.onError)return n.call(t);try{n.call(t)}catch(o){this.onError(o)}},n.prototype.loop=function(){var e=this,t=this.raf;this.looping||(t(function n(){var o=e.frames.shift();e.frames.length?t(n):e.looping=!1,o&&o()}),this.looping=!0)},n.prototype.schedule=function(e,t){return this.frames[e]?this.schedule(e+1,t):(this.loop(),this.frames[e]=t)},t=t||new n,"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof e&&e.amd?System.register("github:wilsonpage/fastdom@0.8.6/index",[],!1,function(){return t}):window.fastdom=t}(window.fastdom)}(),System.register("npm:process@0.10.1/browser",[],!0,function(require,e,t){function n(){if(!c){c=!0;for(var e,t=s.length;t;){e=s,s=[];for(var n=-1;++n<t;)e[n]();t=s.length}c=!1}}function o(){}var r=System.global,i=r.define;r.define=void 0;var a=t.exports={},s=[],c=!1;return a.nextTick=function(e){s.push(e),c||setTimeout(n,0)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0},r.define=i,t.exports}),System.register("npm:bonzo@1.4.0/bonzo",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,function(e,n,o){"undefined"!=typeof t&&t.exports?t.exports=o():"function"==typeof define&&define.amd?define(o):n[e]=o()}("bonzo",this,function(){function e(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function t(t,n,o){var r,i,a;if("string"==typeof t)return w.create(t);if(e(t)&&(t=[t]),o){for(a=[],r=0,i=t.length;i>r;r++)a[r]=v(n,t[r]);return a}return t}function n(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function o(e,t,n,o){for(var r,i=0,a=e.length;a>i;i++)r=o?e.length-i-1:i,t.call(n||e[r],e[r],r,e);return e}function r(t,n,o){for(var i=0,a=t.length;a>i;i++)e(t[i])&&(r(t[i].childNodes,n,o),n.call(o||t[i],t[i],i,t));return t}function i(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function a(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function s(e){e[$]("data-node-uid")||e[q]("data-node-uid",++U);var t=e[$]("data-node-uid");return F[t]||(F[t]={})}function c(e){var t=e[$]("data-node-uid");t&&delete F[t]}function l(e){var t;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(t=parseFloat(e))==e?t:e}catch(n){}return void 0}function u(e,t,n){for(var o=0,r=e.length;r>o;++o)if(t.call(n||null,e[o],o,e))return!0;return!1}function p(e){return"transform"==e&&(e=G.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=G.transform+"Origin")||"float"==e&&(e=G.cssFloat),e?i(e):null}function d(e,n,r,i){var a=0,s=n||this,c=[],l=J&&"string"==typeof e&&"<"!=e.charAt(0)?J(e):e;return o(t(l),function(e,t){o(s,function(n){r(e,c[a++]=t>0?v(s,n):n)},null,i)},this,i),s.length=a,o(c,function(e){s[--a]=e},null,!i),s}function m(e,t,n){var o=w(e),r=o.css("position"),i=o.offset(),a="relative",s=r==a,c=[parseInt(o.css("left"),10),parseInt(o.css("top"),10)];"static"==r&&(o.css("position",a),r=a),isNaN(c[0])&&(c[0]=s?0:e.offsetLeft),isNaN(c[1])&&(c[1]=s?0:e.offsetTop),null!=t&&(e.style.left=t-i.left+c[0]+z),null!=n&&(e.style.top=n-i.top+c[1]+z)}function f(e,t){return"function"==typeof t?t(e):t}function h(e,t,n){var o=this[0];return o?null==e&&null==t?(b(o)?y():{x:o.scrollLeft,y:o.scrollTop})[n]:(b(o)?k.scrollTo(e,t):(null!=e&&(o.scrollLeft=e),null!=t&&(o.scrollTop=t)),this):this}function g(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function v(e,t){var n,o,r,i=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(i).cloneEvents(t),n=e.$(i).find("*"),o=e.$(t).find("*"),r=0;r<o.length;r++)e.$(n[r]).cloneEvents(o[r]);return i}function b(e){return e===k||/^(?:body|html)$/i.test(e.tagName)}function y(){return{x:k.pageXOffset||N.scrollLeft,y:k.pageYOffset||N.scrollTop}}function E(e){var t=document.createElement("script"),n=e.match(M);return t.src=n[1],t}function w(e){return new g(e)}var C,_,x,k=window,S=k.document,N=S.documentElement,D="parentNode",R=/^(checked|value|selected|disabled)$/i,O=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,M=/\s*<script +src=['"]([^'"]+)['"]>/,T=["<table>","</table>",1],I=["<table><tbody><tr>","</tr></tbody></table>",3],j=["<select>","</select>",1],P=["_","",0,1],A={thead:T,tbody:T,tfoot:T,colgroup:T,caption:T,tr:["<table><tbody>","</tbody></table>",2],th:I,td:I,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:j,optgroup:j,script:P,style:P,link:P,param:P,base:P},L=/^(checked|selected|disabled)$/,V=/msie/i.test(navigator.userAgent),F={},U=0,B=/^-?[\d\.]+$/,H=/^data-(.+)$/,z="px",q="setAttribute",$="getAttribute",W="getElementsByTagName",G=function(){var e=S.createElement("p");return e.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:"#x"!=e[W]("a")[0][$]("href"),autoTbody:0!==e[W]("tbody").length,computedStyle:S.defaultView&&S.defaultView.getComputedStyle,cssFloat:e[W]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e,opasity:function(){return"undefined"!=typeof S.createElement("a").style.opacity}()}}(),K=/(^\s*|\s*$)/g,Y=/\s+/,Q=String.prototype.toString,X={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},J=S.querySelectorAll&&function(e){return S.querySelectorAll(e)},Z=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(K,"")},ee=G.computedStyle?function(e,t){var n=null,o=S.defaultView.getComputedStyle(e,"");return o&&(n=o[t]),e.style[t]||n}:V&&N.currentStyle?function(e,t){var n,o;if("opacity"==t&&!G.opasity){n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{n=e.filters("alpha").opacity}catch(i){}}return n/100}return o=e.currentStyle?e.currentStyle[t]:null,e.style[t]||o}:function(e,t){return e.style[t]};return G.classList?(C=function(e,t){return e.classList.contains(t)},_=function(e,t){e.classList.add(t)},x=function(e,t){e.classList.remove(t)}):(C=function(e,t){return n(t).test(e.className)},_=function(e,t){e.className=Z(e.className+" "+t)},x=function(e,t){e.className=Z(e.className.replace(n(t)," "))}),g.prototype={get:function(e){return this[e]||null},each:function(e,t){return o(this,e,t)},deepEach:function(e,t){return r(this,e,t)},map:function(e,t){var n,o,r=[];for(o=0;o<this.length;o++)n=e.call(this,this[o],o),t?t(n)&&r.push(n):r.push(n);return r},html:function(e,n){var r=n?void 0===N.textContent?"innerText":"textContent":"innerHTML",i=this,a=function(n,r){o(t(e,i,r),function(e){n.appendChild(e)})},s=function(t,o){try{if(n||"string"==typeof e&&!O.test(t.tagName))return t[r]=e}catch(i){}a(t,o)};return"undefined"!=typeof e?this.empty().each(s):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var n=this;return this.each(function(r,i){o(t(e,n,i),function(e){r.appendChild(e)})})},prepend:function(e){var n=this;return this.each(function(r,i){var a=r.firstChild;o(t(e,n,i),function(e){r.insertBefore(e,a)})})},appendTo:function(e,t){return d.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return d.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var n=this;return this.each(function(r,i){o(t(e,n,i),function(e){r[D].insertBefore(e,r)})})},after:function(e){var n=this;return this.each(function(r,i){o(t(e,n,i),function(e){r[D].insertBefore(e,r.nextSibling)},null,1)})},insertBefore:function(e,t){return d.call(this,e,t,function(e,t){e[D].insertBefore(t,e)})},insertAfter:function(e,t){return d.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[D].insertBefore(t,n):e[D].appendChild(t)},1)},replaceWith:function(e){return w(this[0].parentNode.replaceChild(w(t(e))[0],this[0]))},clone:function(e){var t,n,o=[];for(n=0,t=this.length;t>n;n++)o[n]=v(e||this,this[n]);return w(o)},addClass:function(e){return e=Q.call(e).split(Y),this.each(function(t){o(e,function(e){e&&!C(t,f(t,e))&&_(t,f(t,e))})})},removeClass:function(e){return e=Q.call(e).split(Y),this.each(function(t){o(e,function(e){e&&C(t,f(t,e))&&x(t,f(t,e))})})},hasClass:function(e){return e=Q.call(e).split(Y),u(this,function(t){return u(e,function(e){return e&&C(t,e)})})},toggleClass:function(e,t){return e=Q.call(e).split(Y),this.each(function(n){o(e,function(e){e&&("undefined"!=typeof t?t?!C(n,e)&&_(n,e):x(n,e):C(n,e)?x(n,e):_(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return w(this.length?this[0]:[])},last:function(){return w(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(D)},related:function(e){return w(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(e,t){function n(e,t,n){for(var o in r)if(r.hasOwnProperty(o)){n=r[o],(t=p(o))&&B.test(n)&&!(t in X)&&(n+=z);try{e.style[t]=f(e,n)}catch(i){}}}var o,r=e;return void 0===t&&"string"==typeof e?(t=this[0],t?t===S||t===k?(o=t===S?w.doc():w.viewport(),"width"==e?o.width:"height"==e?o.height:""):(e=p(e))?ee(t,e):null:null):("string"==typeof e&&(r={},r[e]=t),!G.opasity&&"opacity"in r&&(r.filter=null!=r.opacity&&""!==r.opacity?"alpha(opacity="+100*r.opacity+")":"",r.zoom=e.zoom||1,delete r.opacity),this.each(n))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){m(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){m(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],o=n.ownerDocument.documentElement,r=n.getBoundingClientRect(),i=y(),a=n.offsetWidth,s=n.offsetHeight,c=r.top+i.y-Math.max(0,o&&o.clientTop,S.body.clientTop),l=r.left+i.x-Math.max(0,o&&o.clientLeft,S.body.clientLeft);return{top:c,left:l,height:s,width:a}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),o=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,r=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:r,width:o}},attr:function(e,t){var n,o=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?o?R.test(e)?L.test(e)&&"string"==typeof o[e]?!0:o[e]:"href"!=e&&"src"!=e||!G.hrefExtended?o[$](e):o[$](e,2):null:this.each(function(n){R.test(e)?n[e]=f(n,t):n[q](e,f(n,t))})},removeAttr:function(e){return this.each(function(t){L.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,r,c=this[0];return"undefined"==typeof t?c?(n=s(c),"undefined"==typeof e?(o(c.attributes,function(e){(r=(""+e.name).match(H))&&(n[i(r[1])]=l(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=l(this.attr("data-"+a(e)))),n[e])):null:this.each(function(n){s(n)[e]=t})},remove:function(){return this.deepEach(c),this.detach()},empty:function(){return this.each(function(e){for(r(e.childNodes,c);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[D]&&e[D].removeChild(e)})},scrollTop:function(e){return h.call(this,null,e,"y")},scrollLeft:function(e){return h.call(this,e,null,"x")}},w.setQueryEngine=function(e){J=e,delete w.setQueryEngine},w.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||g.prototype)[n]=e[n])},w.create=function(t){return"string"==typeof t&&""!==t?function(){if(M.test(t))return[E(t)];var e=t.match(/^\s*<([^\s>]+)/),n=S.createElement("div"),r=[],i=e?A[e[1].toLowerCase()]:null,a=i?i[2]+1:1,s=i&&i[3],c=D,l=G.autoTbody&&i&&"<table>"==i[0]&&!/<tbody/i.test(t);for(n.innerHTML=i?i[0]+t+i[1]:t;a--;)n=n.firstChild;s&&n&&1!==n.nodeType&&(n=n.nextSibling);do e&&1!=n.nodeType||l&&(!n.tagName||"TBODY"==n.tagName)||r.push(n);while(n=n.nextSibling);return o(r,function(e){e[c]&&e[c].removeChild(e)}),r}():e(t)?[t.cloneNode(!0)]:[]},w.doc=function(){var e=w.viewport();return{width:Math.max(S.body.scrollWidth,N.scrollWidth,e.width),height:Math.max(S.body.scrollHeight,N.scrollHeight,e.height)}},w.firstChild=function(e){for(var t,n=e.childNodes,o=0,r=n&&n.length||0;r>o;o++)1===n[o].nodeType&&(t=n[r=o]);return t},w.viewport=function(){return{width:V?N.clientWidth:k.innerWidth,height:V?N.clientHeight:k.innerHeight}},w.isAncestor="compareDocumentPosition"in N?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in N?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t[D];)if(t===e)return!0;return!1},w}),n.define=o,t.exports}),System.register("npm:qwery@3.4.2/qwery",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,function(e,n,o){"undefined"!=typeof t&&t.exports?t.exports=o():"function"==typeof define&&define.amd?define(o):n[e]=o()}("qwery",this,function(){function e(){this.c={}}function t(e){return K.g(e)||K.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function n(e,t){for(var n=0,o=e.length;o>n;n++)t(e[n])}function o(e){for(var t=[],n=0,o=e.length;o>n;++n)h(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function r(e){for(var t=0,n=e.length,o=[];n>t;t++)o[t]=e[t];return o}function i(e){for(;(e=e.previousSibling)&&1!=e[D];);return e}function a(e){return e.match(W)}function s(e,n,o,r,i,a,s,c,u,p,d){var m,f,h,g,v;if(1!==this[D])return!1;if(n&&"*"!==n&&this[N]&&this[N].toLowerCase()!==n)return!1;if(o&&(f=o.match(R))&&f[1]!==this.id)return!1;if(o&&(v=o.match(O)))for(m=v.length;m--;)if(!t(v[m].slice(1)).test(this.className))return!1;if(u&&b.pseudos[u]&&!b.pseudos[u](this,d))return!1;if(r&&!s){g=this.attributes;for(h in g)if(Object.prototype.hasOwnProperty.call(g,h)&&(g[h].name||h)==i)return this}return r&&!l(a,Z(this,i)||"",s)?!1:this}function c(e){return Y.g(e)||Y.s(e,e.replace(F,"\\$1"))}function l(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(Q.g("^="+n)||Q.s("^="+n,"^"+c(n),1));
case"$=":return t.match(Q.g("$="+n)||Q.s("$="+n,c(n)+"$",1));case"*=":return t.match(Q.g(n)||Q.s(n,c(n),1));case"~=":return t.match(Q.g("~="+n)||Q.s("~="+n,"(?:^|\\s+)"+c(n)+"(?:\\s+|$)",1));case"|=":return t.match(Q.g("|="+n)||Q.s("|="+n,"^"+c(n)+"(-|$)",1))}return 0}function u(e,t){var o,r,i,c,l,u,p,m=[],f=[],h=t,g=X.g(e)||X.s(e,e.split($)),b=e.match(q);if(!g.length)return m;if(c=(g=g.slice(0)).pop(),g.length&&(i=g[g.length-1].match(M))&&(h=v(t,i[1])),!h)return m;for(u=a(c),l=h!==t&&9!==h[D]&&b&&/^[+~]$/.test(b[b.length-1])?function(e){for(;h=h.nextSibling;)1==h[D]&&(u[1]?u[1]==h[N].toLowerCase():1)&&(e[e.length]=h);return e}([]):h[x](u[1]||"*"),o=0,r=l.length;r>o;o++)(p=s.apply(l[o],u))&&(m[m.length]=p);return g.length?(n(m,function(e){d(e,g,b)&&(f[f.length]=e)}),f):m}function p(e,t,n){if(m(t))return e==t;if(h(t))return!!~o(t).indexOf(e);for(var r,i,c=t.split(",");t=c.pop();)if(r=X.g(t)||X.s(t,t.split($)),i=t.match(q),r=r.slice(0),s.apply(e,a(r.pop()))&&(!r.length||d(e,r,i,n)))return!0;return!1}function d(e,t,n,o){function r(e,o,c){for(;c=G[n[o]](c,e);)if(m(c)&&s.apply(c,a(t[o]))){if(!o)return c;if(i=r(c,o-1,c))return i}}var i;return(i=r(e,t.length-1,e))&&(!o||J(i,o))}function m(e,t){return e&&"object"==typeof e&&(t=e[D])&&(1==t||9==t)}function f(e){var t,n,o=[];e:for(t=0;t<e.length;++t){for(n=0;n<o.length;++n)if(o[n]==e[t])continue e;o[o.length]=e[t]}return o}function h(e){return"object"==typeof e&&isFinite(e.length)}function g(e){return e?"string"==typeof e?b(e)[0]:!e[D]&&h(e)?e[0]:e:w}function v(e,t,n){return 9===e[D]?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&J(n,e)&&n||!J(e,e.ownerDocument)&&E('[id="'+t+'"]',e)[0])}function b(e,t){var n,i,a=g(t);if(!a||!e)return[];if(e===window||m(e))return!t||e!==window&&m(a)&&J(e,a)?[e]:[];if(e&&h(e))return o(e);if(n=e.match(z)){if(n[1])return(i=v(a,n[1]))?[i]:[];if(n[2])return r(a[x](n[2]));if(ee&&n[3])return r(a[_](n[3]))}return E(e,a)}function y(e,t){return function(n){var o,r;return P.test(n)?void(9!==e[D]&&((r=o=e.getAttribute("id"))||e.setAttribute("id",r="__qwerymeupscotty"),n='[id="'+r+'"]'+n,t(e.parentNode||e,n,!0),o||e.removeAttribute("id"))):void(n.length&&t(e,n,!1))}}var E,w=document,C=w.documentElement,_="getElementsByClassName",x="getElementsByTagName",k="querySelectorAll",S="useNativeQSA",N="tagName",D="nodeType",R=/#([\w\-]+)/,O=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,T=/^\.([\w\-]+)$/,I=/^([\w\-]+)$/,j=/^([\w]+)?\.([\w\-]+)$/,P=/(^|,)\s*[>~+]/,A=/^\s+|\s*([,\s\+\~>]|$)\s*/g,L=/[\s\>\+\~]/,V=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,F=/([.*+?\^=!:${}()|\[\]\/\\])/g,U=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,B=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,H=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,z=new RegExp(M.source+"|"+I.source+"|"+T.source),q=new RegExp("("+L.source+")"+V.source,"g"),$=new RegExp(L.source+V.source),W=new RegExp(U.source+"("+B.source+")?("+H.source+")?"),G={" ":function(e){return e&&e!==C&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,o){return e?(n=i(e))&&(o=i(t))&&n==o&&n:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var K=new e,Y=new e,Q=new e,X=new e,J="compareDocumentPosition"in C?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:"contains"in C?function(e,t){return t=9===t[D]||t==window?C:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},Z=function(){var e=w.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,t){return"class"===t?e.className:"href"===t||"src"===t?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),ee=!!w[_],te=w.querySelector&&w[k],ne=function(e,t){var o,i,a=[];try{return 9!==t[D]&&P.test(e)?(n(o=e.split(","),y(t,function(e,t){i=e[k](t),1==i.length?a[a.length]=i.item(0):i.length&&(a=a.concat(r(i)))})),o.length>1&&a.length>1?f(a):a):r(t[k](e))}catch(s){}return oe(e,t)},oe=function(e,o){var r,i,a,s,c,l,p=[];if(e=e.replace(A,"$1"),i=e.match(j)){for(c=t(i[2]),r=o[x](i[1]||"*"),a=0,s=r.length;s>a;a++)c.test(r[a].className)&&(p[p.length]=r[a]);return p}return n(l=e.split(","),y(o,function(e,t,n){for(c=u(t,e),a=0,s=c.length;s>a;a++)(9===e[D]||n||J(c[a],o))&&(p[p.length]=c[a])})),l.length>1&&p.length>1?f(p):p},re=function(e){"undefined"!=typeof e[S]&&(E=e[S]&&te?ne:oe)};return re({useNativeQSA:!0}),b.configure=re,b.uniq=f,b.is=p,b.pseudos={},b}),n.define=o,t.exports}),function(){function define(){}define.amd={},!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?System.register("github:ded/reqwest@1.1.5/reqwest",[],!1,"function"==typeof n?n:function(){return n}):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||window.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,o=t.headers||{};o.Accept=o.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var r="function"==typeof FormData&&t.data instanceof FormData;t.crossOrigin||o[requestedWith]||(o[requestedWith]=defaultHeaders.requestedWith),o[contentType]||r||(o[contentType]=t.contentType||defaultHeaders.contentType);for(n in o)o.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,o[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,o){var r=uniqid++,i=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(r),s=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),c=o.match(s),l=doc.createElement("script"),u=0,p=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?o=o.replace(s,"$1="+a):a=c[3]:o=urlappend(o,i+"="+a),win[a]=generalCallback,l.type="text/javascript",l.src=o,l.async=!0,"undefined"==typeof l.onreadystatechange||p||(l.htmlFor=l.id="_reqwest_"+r),l.onload=l.onreadystatechange=function(){return l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u?!1:(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(u=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(e,t){var n,o=this.o,r=(o.method||"GET").toUpperCase(),i="string"==typeof o?o:o.url,a=o.processData!==!1&&o.data&&"string"!=typeof o.data?reqwest.toQueryString(o.data):o.data||null,s=!1;return"jsonp"!=o.type&&"GET"!=r||!a||(i=urlappend(i,a),a=null),"jsonp"==o.type?handleJsonp(o,e,t,i):(n=o.xhr&&o.xhr(o)||xhr(o),n.open(r,i,o.async===!1?!1:!0),setHeaders(n,o),setCredentials(n,o),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),o.before&&o.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,o,r,i,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),o=/radio/i.test(e.type),r=e.value,(!(n||o)||e.checked)&&t(a,normalize(n&&""===r?"on":r)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&c(e.options[i])}}function eachFormElement(){var e,t,n=this,o=function(e,t){var o,r,i;for(o=0;o<t.length;o++)for(i=e[byTag](t[o]),r=0;r<i.length;r++)serial(i[r],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),o(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,o){var r,i,a,s=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)a=t[i],n||s.test(e)?o(e,a):buildParams(e+"["+("object"==typeof a?i:"")+"]",a,n,o);else if(t&&"[object Object]"===t.toString())for(r in t)buildParams(e+"["+r+"]",t[r],n,o);else o(e,t)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,o,r=t||!1,i=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=a(e)+"="+a(t)};if(isArray(e))for(o=0;e&&o<e.length;o++)s(e[o].name,e[o].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],r,s);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})}(),function(){function e(){}e.amd={},System.register("common/utils/pad",[],!1,function(){return function(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}})}(),function(){function e(){}e.amd={},function(){"use strict";function t(){}function n(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}var r=t.prototype,i=this,a=i.EventEmitter;r.getListeners=function(e){var t,n,o=this._getEvents();if(e instanceof RegExp){t={};for(n in o)o.hasOwnProperty(n)&&e.test(n)&&(t[n]=o[n])}else t=o[e]||(o[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,t){var o,r=this.getListenersAsObject(e),i="object"==typeof t;for(o in r)r.hasOwnProperty(o)&&-1===n(r[o],t)&&r[o].push(i?t:{listener:t,once:!1});return this},r.on=o("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=o("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var o,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&(o=n(i[r],t),-1!==o&&i[r].splice(o,1));return this},r.off=o("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var o,r,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(o=n.length;o--;)i.call(this,t,n[o]);else for(o in t)t.hasOwnProperty(o)&&(r=t[o])&&("function"==typeof r?i.call(this,o,r):a.call(this,o,r));return this},r.removeEvent=function(e){var t,n=typeof e,o=this._getEvents();if("string"===n)delete o[e];else if(e instanceof RegExp)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},r.removeAllListeners=o("removeEvent"),r.emitEvent=function(e,t){var n,o,r,i,a=this.getListenersAsObject(e);for(r in a)if(a.hasOwnProperty(r))for(o=a[r].length;o--;)n=a[r][o],n.once===!0&&this.removeListener(e,n.listener),i=n.listener.apply(this,t||[]),i===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=o("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=a,t},"function"==typeof e&&e.amd?System.register("github:Wolfy87/EventEmitter@4.2.11/EventEmitter",[],!1,function(){return t}):"object"==typeof module&&module.exports?module.exports=t:i.EventEmitter=t}.call(this)}(),function(){function e(){}e.amd={},System.register("common/utils/get-property",["common/utils/_"],!1,function(e,t,n){return function(e){return function(t,n,o){var r=e.reduce(n.split("."),function(t,n){return e.has(t,n)?t[n]:void 0},t);return void 0!==r?r:void 0!==o?o:!1}}.call(this,e("common/utils/_"))})}(),function(){function e(){}e.amd={},System.register("common/utils/cookies",["common/utils/_"],!1,function(e,t,n){return function(e){function t(){return p().domain.replace(/^(www|dev)\./,".")}function n(t){e.forEach(t,function(e){o(e)})}function o(e,n){p().cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",n||(p().cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT; domain="+t()+";")}function r(e,t,n){var o=new Date;n?o.setDate(o.getDate()+n):(o.setMonth(o.getMonth()+5),o.setDate(1)),p().cookie=e+"="+t+"; path=/; expires="+o.toUTCString()+";"+i()}function i(){var e=t();return"localhost"===e?"":" domain="+e+";"}function a(e,t,n){if(n){var o=new Date;o.setMinutes(o.getMinutes()+n),p().cookie=e+"="+t+"; path=/; expires="+o.toUTCString()+";"+i()}else r(e,t)}function s(e,t){p().cookie=e+"="+t+"; path=/;"+i()}function c(t){var n=[],o=t+"=",r=p().cookie.split(";");return e.forEach(r,function(e){for(;" "===e.charAt(0);)e=e.substring(1,e.length);0===e.indexOf(o)&&n.push(e.substring(o.length,e.length))}),n}function l(e){var t=c(e);return t.length>0?t[0]:null}function u(e){d=e}function p(){return d||document}var d;return{cleanUp:n,add:r,addSessionCookie:s,addForMinutes:a,remove:o,get:l,test:{setDocument:u}}}.call(this,e("common/utils/_"))})}(),function(){function e(){}e.amd={},System.register("common/utils/robust",["github:getsentry/raven-js@1.1.18"],!1,function(e,t,n){return function(e){function t(t,n,o){o||(o=e.captureException);try{n()}catch(r){o(r,{tags:{module:t}}),window.console.error(r)}}return t}.call(this,e("github:getsentry/raven-js@1.1.18"))})}(),function(){function e(){}e.amd={},System.register("common/utils/storage",["common/utils/_"],!1,function(e,t,n){return function(e){var t,n=window,o=function(e){this.type=e};return o.prototype.setWindow=function(e){n=e},o.prototype.isStorageAvailable=function(n){return(e.isUndefined(t)||n)&&(t=this.isAvailable()),t},o.prototype.isAvailable=function(e){var t="local-storage-module-test",o=e||"test";try{return n[this.type].setItem(t,o),n[this.type].removeItem(t),!0}catch(r){return!1}},o.prototype.set=function(e,t,o){if(this.isStorageAvailable()){if(!n[this.type])return;var r=o||{},i=JSON.stringify({value:t,expires:r.expires});return this.isAvailable(i)?n[this.type].setItem(e,i):!1}},o.prototype.get=function(e){if(this.isStorageAvailable()){var t,o;if(!n[this.type])return;if(t=n[this.type].getItem(e),null===t)return null;try{o=JSON.parse(t)}catch(r){return this.remove(e),null}return o.expires&&new Date>new Date(o.expires)?(this.remove(e),null):o.value}},o.prototype.getRaw=function(e){return this.isStorageAvailable()?n[this.type].getItem(e):void 0},o.prototype.remove=function(e){return this.isStorageAvailable()?n[this.type].removeItem(e):void 0},o.prototype.removeAll=function(){return this.isStorageAvailable()?n[this.type].clear():void 0},o.prototype.length=function(){return this.isStorageAvailable()?n[this.type].length:void 0},o.prototype.getKey=function(e){return this.isStorageAvailable()?n[this.type].key(e):void 0},o.prototype.clearByPrefix=function(e){if(this.isStorageAvailable()){var t,n;for(t=this.length()-1;t>-1;--t)n=this.getKey(t),0===n.indexOf(e)&&this.remove(n)}},{local:new o("localStorage"),session:new o("sessionStorage")}}.call(this,e("common/utils/_"))})}(),function(){function e(){}e.amd={},System.register("common/utils/template",["common/utils/_"],!1,function(e,t,n){return function(e){return e.template.bind(e)}.call(this,e("common/utils/_"))})}(),function(){function e(){}e.amd={},System.register("common/utils/fastdom-errors",["github:wilsonpage/fastdom@0.8.6","github:getsentry/raven-js@1.1.18"],!1,function(e,t,n){return function(e,t){e.onError=function(e){t.captureException(e,{tags:{feature:"fastdom"}}),window.console.error(e)}}.call(this,e("github:wilsonpage/fastdom@0.8.6"),e("github:getsentry/raven-js@1.1.18"))})}(),function(){function e(){}e.amd={},System.register("common/modules/analytics/beacon",["common/utils/_","common/utils/config","common/utils/ajax"],!1,function(e,t,n){return function(e,t,n){function o(t){return e.map(e.isArray(t)?t:[t],function(e){return"c="+e}).join("&")}function r(e){var n;return i?(n=t.page.beaconUrl+"/accept-beacon?"+o(e),navigator.sendBeacon(n,"")):void 0}var i=!!navigator.sendBeacon;return{fire:function(e){var n=new Image;return n.src=t.page.beaconUrl+e,n},postJson:function(e,o,r){var a=(t.page.beaconUrl||"").replace(/^\/\//,window.location.protocol+"//")+e;i&&!r?window.addEventListener("unload",function(){navigator.sendBeacon(a,o)},!1):n({url:a,type:"json",method:"post",contentType:"application/json",data:o,crossOrigin:!0})},counts:function(e){if(i)return r(e);var t=o(e);return this.fire("/counts.gif?"+t)},beaconCounts:r}}.call(this,e("common/utils/_"),e("common/utils/config"),e("common/utils/ajax"))})}(),System.register("npm:bean@1.0.15/bean",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,function(e,n,o){"undefined"!=typeof t&&t.exports?t.exports=o():"function"==typeof define&&define.amd?define(o):n[e]=o()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,o=window,r=t[e],i=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,s="addEventListener",c="removeEventListener",l=document||{},u=l.documentElement||{},p=u[s],d=p?s:"attachEvent",m={},f=Array.prototype.slice,h=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},v=function(e){return"function"==typeof e},b="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",y="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",E=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},h(b+(p?y:""))),w=function(){var e="compareDocumentPosition"in u?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in u?function(e,t){return t=9===t.nodeType||t===window?u:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),C=function(){var e=h("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(h("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(h("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),r=e.concat(h("char charCode key keyCode keyIdentifier keyLocation location")),i=e.concat(h("data")),a=e.concat(h("touches targetTouches changedTouches scale rotation")),s=e.concat(h("data origin source")),c=e.concat(h("state")),p=/over|out/,d=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,r}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,o){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+l.body.scrollLeft+u.scrollLeft,n.clientY=e.clientY+l.body.scrollTop+u.scrollTop),p.test(o)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==o?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return i}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return c}},{reg:/.*/,fix:function(){return e}}],m={},f=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||o).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var r,i,a,s,c,l=e.type,u=e.target||e.srcElement;if(this.target=u&&3===u.nodeType?u.parentNode:u,n){if(c=m[l],!c)for(r=0,i=d.length;i>r;r++)if(d[r].reg.test(l)){m[l]=c=d[r].fix;break}for(s=c(e,this,l),r=s.length;r--;)!((a=s[r])in this)&&a in e&&(this[a]=e[a])}}};return f.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},f.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},f.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},f.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},f.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},f.prototype.clone=function(e){var t=new f(this,this.element,this.isNative);return t.currentTarget=e,t},f}(),_=function(e,t){return p||t||e!==l&&e!==o?e:u},x=function(){var e=function(e,t,n,o){var r=function(n,r){return t.apply(e,o?f.call(r,n?0:1).concat(o):r)},i=function(n,o){return t.__beanDel?t.__beanDel.ft(n.target,e):o},a=n?function(e){var t=i(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),r(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(i(e))),r(e,arguments)};return a.__beanDel=t.__beanDel,a},t=function(t,n,o,r,i,a,s){var c,l=w[n];"unload"==n&&(o=R(O,t,n,o,r)),l&&(l.condition&&(o=e(t,o,l.condition,a)),n=l.base||n),this.isNative=c=E[n]&&!!t[d],this.customType=!p&&!c&&n,this.element=t,this.type=n,this.original=r,this.namespaces=i,this.eventType=p||c?n:"propertychange",this.target=_(t,c),this[d]=!!this.target[d],this.root=s,this.handler=e(t,o,null,a)};return t.prototype.inNamespaces=function(e){var t,n,o=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&o++;return e.length===o},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),k=function(){var e={},t=function(n,o,r,i,a,s){var c=a?"r":"$";if(o&&"*"!=o){var l,u=0,p=e[c+o],d="*"==n;if(!p)return;for(l=p.length;l>u;u++)if((d||p[u].matches(n,r,i))&&!s(p[u],p,u,o))return}else for(var m in e)m.charAt(0)==c&&t(n,m.substr(1),r,i,a,s)},n=function(t,n,o,r){var i,a=e[(r?"r":"$")+n];if(a)for(i=a.length;i--;)if(!a[i].root&&a[i].matches(t,o,null))return!0;return!1},o=function(e,n,o,r){var i=[];return t(e,n,o,null,r,function(e){return i.push(e)}),i},r=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),o=(t.root?"r":"$")+t.type;return(e[o]||(e[o]=[])).push(t),n},i=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,o){return n.splice(o,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},a=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:o,put:r,del:i,entries:a}}(),S=function(e){n=arguments.length?e:l.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},N=function(e,t){if(p||!t||!e||e.propertyName=="_on"+t){var n=k.get(this,t||e.type,null,!1),o=n.length,r=0;for(e=new C(e,this,!0),t&&(e.type=t);o>r&&!e.isImmediatePropagationStopped();r++)n[r].removed||n[r].handler.call(this,e)}},D=p?function(e,t,n){e[n?s:c](t,N,!1)}:function(e,t,n,o){var r;n?(k.put(r=new x(e,o||t,function(t){N.call(e,t,o)},N,null,null,!0)),o&&null==e["_on"+o]&&(e["_on"+o]=0),r.target.attachEvent("on"+r.eventType,r.handler)):(r=k.get(e,o||t,N,!0)[0],r&&(r.target.detachEvent("on"+r.eventType,r.handler),k.del(r)))},R=function(e,t,n,o,r){return function(){o.apply(this,arguments),e(t,n,r)}},O=function(e,t,n,o){var r,i,s=t&&t.replace(a,""),c=k.get(e,s,null,!1),l={};for(r=0,i=c.length;i>r;r++)n&&c[r].original!==n||!c[r].inNamespaces(o)||(k.del(c[r]),!l[c[r].eventType]&&c[r][d]&&(l[c[r].eventType]={t:c[r].eventType,c:c[r].type}));for(r in l)k.has(e,l[r].t,null,!1)||D(e,l[r].t,!1,l[r].c)},M=function(e,t){var o=function(t,o){for(var r,i=g(e)?n(e,o):e;t&&t!==o;t=t.parentNode)for(r=i.length;r--;)if(i[r]===t)return t},r=function(e){var n=o(e.target,this);n&&t.apply(n,arguments)};return r.__beanDel={ft:o,selector:e},r},T=p?function(e,t,n){var r=l.createEvent(e?"HTMLEvents":"UIEvents");r[e?"initEvent":"initUIEvent"](t,!0,!0,o,1),n.dispatchEvent(r)}:function(e,t,n){n=_(n,e),e?n.fireEvent("on"+t,l.createEventObject()):n["_on"+t]++},I=function(e,t,n){var o,r,s,c,l=g(t);if(l&&t.indexOf(" ")>0){for(t=h(t),c=t.length;c--;)I(e,t[c],n);return e}if(r=l&&t.replace(a,""),r&&w[r]&&(r=w[r].base),!t||l)(s=l&&t.replace(i,""))&&(s=h(s,".")),O(e,r,n,s);else if(v(t))O(e,null,t);else for(o in t)t.hasOwnProperty(o)&&I(e,o,t[o]);return e},j=function(e,t,o,r){var s,c,l,u,p,g,b;{if(void 0!==o||"object"!=typeof t){for(v(o)?(p=f.call(arguments,3),r=s=o):(s=r,p=f.call(arguments,4),r=M(o,s,n)),l=h(t),this===m&&(r=R(I,e,t,r,s)),u=l.length;u--;)b=k.put(g=new x(e,l[u].replace(a,""),r,s,h(l[u].replace(i,""),"."),p,!1)),g[d]&&b&&D(e,g.eventType,!0,g.customType);return e}for(c in t)t.hasOwnProperty(c)&&j.call(this,e,c,t[c])}},P=function(e,t,n,o){return j.apply(null,g(n)?[e,n,t,o].concat(arguments.length>3?f.call(arguments,5):[]):f.call(arguments))},A=function(){return j.apply(m,arguments)},L=function(e,t,n){var o,r,s,c,l,u=h(t);for(o=u.length;o--;)if(t=u[o].replace(a,""),(c=u[o].replace(i,""))&&(c=h(c,".")),c||n||!e[d])for(l=k.get(e,t,null,!1),n=[!1].concat(n),r=0,s=l.length;s>r;r++)l[r].inNamespaces(c)&&l[r].handler.apply(e,n);else T(E[t],t,e);return e},V=function(e,t,n){for(var o,r,i=k.get(t,n,null,!1),a=i.length,s=0;a>s;s++)i[s].original&&(o=[e,i[s].type],(r=i[s].handler.__beanDel)&&o.push(r.selector),o.push(i[s].original),j.apply(null,o));return e},F={on:j,add:P,one:A,off:I,remove:I,
clone:V,fire:L,Event:C,setSelectorEngine:S,noConflict:function(){return t[e]=r,this}};if(o.attachEvent){var U=function(){var e,t=k.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&I(t[e].element,t[e].type);o.detachEvent("onunload",U),o.CollectGarbage&&o.CollectGarbage()};o.attachEvent("onunload",U)}return S(),F}),n.define=o,t.exports}),function(){function e(){}e.amd={},function(t,n,o){n[t]=n[t]||o(),"undefined"!=typeof module&&module.exports?module.exports=n[t]:"function"==typeof e&&e.amd&&System.register("github:guardian/native-promise-only@0.7.6-e/lib/npo.src",[],!1,function(){return n[t]})}("Promise","undefined"!=typeof global?global:this,function(){"use strict";function e(e,t){d.add(e,t),p||(p=f(d.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t?t:!1}function n(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,n,o){var r,i;try{n===!1?o.reject(e.msg):(r=n===!0?e.msg:n.call(void 0,e.msg),r===o.promise?o.reject(TypeError("Promise-chain cycle")):(i=t(r))?i.call(r,o.resolve,o.reject):o.resolve(r))}catch(a){o.reject(a)}}function r(o){var a,c,l=this;if(!l.triggered){l.triggered=!0,l.def&&(l=l.def);try{(a=t(o))?(c=new s(l),a.call(o,function(){r.apply(c,arguments)},function(){i.apply(c,arguments)})):(l.msg=o,l.state=1,l.chain.length>0&&e(n,l))}catch(u){i.call(c||new s(l),u)}}}function i(t){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=t,o.state=2,o.chain.length>0&&e(n,o))}function a(e,t,n,o){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then(function(e){n(r,e)},o)}(r)}function s(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function l(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var o=new c(this);this.then=function(t,r){var i={success:"function"==typeof t?t:!0,failure:"function"==typeof r?r:!1};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),o.chain.push(i),0!==o.state&&e(n,o),i.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){r.call(o,e)},function(e){i.call(o,e)})}catch(a){i.call(o,a)}}var u,p,d,m=Object.prototype.toString,f="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),u=function(e,t,n,o){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:o!==!1})}}catch(h){u=function(e,t,n){return e[t]=n,e}}d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,o;return{add:function(r,i){o=new e(r,i),n?n.next=o:t=o,n=o,o=void 0},drain:function(){var e=t;for(t=n=p=void 0;e;)e.fn.call(e.self),e=e.next}}}();var g=u({},"constructor",l,!1);return l.prototype=g,u(g,"__NPO__",0,!1),u(l,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),u(l,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),u(l,"all",function(e){var t=this;return"[object Array]"!=m.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");var r=e.length,i=Array(r),s=0;a(t,e,function(e,t){i[e]=t,++s===r&&n(i)},o)})}),u(l,"race",function(e){var t=this;return"[object Array]"!=m.call(e)?t.reject(TypeError("Not an array")):new t(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");a(t,e,function(e,t){n(t)},o)})}),l})}(),function(){function e(){}e.amd={},System.register("common/modules/analytics/mvt-cookie",["common/utils/cookies"],!1,function(e,t,n){return function(e){function t(t){e.add(i,t,365)}function n(){var t=e.get(s),n=o(),r=e.get(a);return r||(r="unknown-visitor-id"),t||(t="unknown-browser-id"),n||(n="unknown-mvt-id"),r+" "+t+" "+n}function o(){return e.get(i)}function r(){return c}var i="GU_mvt_id",a="s_vi",s="bwid",c=899999;return{getMvtFullId:n,getMvtValue:o,getMvtNumValues:r,overwriteMvtCookie:t,MAX_INT:c}}.call(this,e("common/utils/cookies"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/facebook-most-viewed",["npm:qwery@3.4.2","common/utils/config","common/utils/detect"],!1,function(e,t,n){return function(e,t,n){function o(){}return function(){this.id="FacebookMostViewed",this.start="2015-06-04",this.expiry="2015-08-01",this.author="Robert Berry",this.description="Facebook most viewed container",this.audience=.1,this.audienceOffset=.25,this.successMeasure="More page views per visit",this.audienceCriteria="",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){return"facebook"===n.socialContext()},this.variants=[{id:"control",test:o},{id:"variant",test:o}]}}.call(this,e("npm:qwery@3.4.2"),e("common/utils/config"),e("common/utils/detect"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/twitter-most-viewed",["npm:qwery@3.4.2","common/utils/config","common/utils/detect"],!1,function(e,t,n){return function(e,t,n){function o(){}return function(){this.id="TwitterMostViewed",this.start="2015-06-12",this.expiry="2015-08-01",this.author="Robert Berry",this.description="Twitter most viewed container",this.audience=.1,this.audienceOffset=.35,this.successMeasure="More page views per visit",this.audienceCriteria="",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){return"twitter"===n.socialContext()},this.variants=[{id:"control",test:o},{id:"variant",test:o}]}}.call(this,e("npm:qwery@3.4.2"),e("common/utils/config"),e("common/utils/detect"))})}(),System.register("common/views/ui/notifications-subcribe-link.html!github:systemjs/plugin-text@0.0.2",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<div class="notifications-subscribe-link <%=className%>">\n    <a href="/preferences/notifications#redirect=<%=url%>" class="js-notifications-subscribe-link button button--follow"><%=text%></a>\n    <div class="notifications-subscribe-link__message">\n        <h3>Follow the story and stay updated</h3>\n        <p>Receive alerts on your device when important developments on this story are published</p>\n        <%=imgMobile%>\n        <%=imgDesktop%>\n        <a href="/preferences/notifications#redirect=<%=url%>" class="js-notifications-subscribe-link button button--enable">Enable browser notifications <%=arrow%></a>\n    </div>\n</div>\n',n.define=o,t.exports}),System.register("svgs/icon/comment-16!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-comment-16 inline-icon"><svg width="16" height="16" viewBox="0 0 16 16"><path d="M13 0l1 1v7l-1 1h-6l-2 3h-1v-3h-2l-1-1v-7l1-1h11z"/></svg>\n</span>',n.define=o,t.exports}),System.register("svgs/icon/marque-36!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-marque-36 inline-icon"><svg width="36" height="36" viewBox="0 0 36 36">\n    <path d="M21.3 8.8c0-4.9-1.5-5.7-3.3-5.7-1.8 0-3.2.7-3.2 5.7s1.5 5.5 3.2 5.5c1.8-.1 3.3-.6 3.3-5.5m-6.5 18.8c-2.3 0-2.9 1.7-2.9 2.9 0 1.8 1.6 3.4 6.3 3.4 5.3 0 6.8-1.5 6.8-3.4 0-1.7-1.3-2.9-3.4-2.9h-6.8zm-4.3-25.2c-6.2 2.8-10.5 9-10.5 16.3 0 4.9 2 9.4 5.2 12.6v-.3c0-3.2 3.1-4.4 5.9-5-2.6-.6-3.9-2.5-3.9-4.4 0-2.6 2.9-4.8 4.3-5.8l-.2-.1c-2.5-1.4-4.1-3.8-4.1-7 0-2.7 1.2-4.9 3.3-6.3m25.5 16.4c0-7.4-4.5-13.8-10.9-16.5 2.1 1.4 3.4 3.5 3.5 6.3l.1.6c0 5.4-4.4 8.2-10.7 8.2-1.6 0-2.7-.1-4.1-.5-.6.4-1.1 1.1-1.1 1.8 0 .9.8 1.6 1.8 1.6h8.8c5.5 0 8.2 2.2 8.2 7.1 0 1.6-.3 3.1-1 4.3 3.3-3.4 5.4-7.9 5.4-12.9"/>\n</svg>\n</span>',n.define=o,t.exports}),System.register("svgs/icon/marque-54!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-marque-54 inline-icon"><svg width="54" height="54" viewBox="0 0 36 36"><path d="M21.3 8.8c0-4.9-1.5-5.7-3.3-5.7-1.8 0-3.2.7-3.2 5.7s1.5 5.5 3.2 5.5c1.8-.1 3.3-.6 3.3-5.5m-6.5 18.8c-2.3 0-2.9 1.7-2.9 2.9 0 1.8 1.6 3.4 6.3 3.4 5.3 0 6.8-1.5 6.8-3.4 0-1.7-1.3-2.9-3.4-2.9h-6.8zm-4.3-25.2c-6.2 2.8-10.5 9-10.5 16.3 0 4.9 2 9.4 5.2 12.6v-.3c0-3.2 3.1-4.4 5.9-5-2.6-.6-3.9-2.5-3.9-4.4 0-2.6 2.9-4.8 4.3-5.8l-.2-.1c-2.5-1.4-4.1-3.8-4.1-7 0-2.7 1.2-4.9 3.3-6.3m25.5 16.4c0-7.4-4.5-13.8-10.9-16.5 2.1 1.4 3.4 3.5 3.5 6.3l.1.6c0 5.4-4.4 8.2-10.7 8.2-1.6 0-2.7-.1-4.1-.5-.6.4-1.1 1.1-1.1 1.8 0 .9.8 1.6 1.8 1.6h8.8c5.5 0 8.2 2.2 8.2 7.1 0 1.6-.3 3.1-1 4.3 3.3-3.4 5.4-7.9 5.4-12.9"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/market-down!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-market-down inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path fill="#B51800" d="M15 1.03L13.97 0H1L0 1l7 10h.958L15 1.016z"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/market-up!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-market-up inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path fill="#298422" d="M0 9.97L1.03 11H14l1-1L8 0h-.958L0 9.984z"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/market-same!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-market-same inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><g fill="#333"><path d="M15 1.03L13.97 0H1L0 1l7 4h.958L15 1.016zM0 9.97L1.03 11H14l1-1-7-4h-.958L0 9.984z"/></g></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/arrow!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-arrow inline-icon"><svg width="24" height="10" viewBox="0 0 24 10"><path d="M0 .7l10.5 8.4 1.1.9 1.1-.9 10.5-8.4-.5-.7-11.1 6.3-11-6.3-.6.7z"/></svg>\n</span>',n.define=o,t.exports}),System.register("svgs/icon/arrow-down!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-arrow-down inline-icon"><svg width="24" height="18" viewBox="-0.525 -4 24 18" overflow="visible" enable-background="new -0.525 -4 24 18"><path d="M23.2.7L12.7 9.1l-1.1.9-1.1-.898L0 .7.5 0l11.1 6.3L22.7 0l.5.7z"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/cross!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-cross inline-icon"><svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9l-6.5-7 1-1 7 6.5 7-6.5 1 1-6.5 7 6.5 7-1 1-7-6.5-7 6.5-1-1 6.5-7z"/></svg>\n</span>',n.define=o,t.exports}),System.register("svgs/logo/logo-guardian!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-logo-guardian inline-logo"><svg width="106.67" height="20" viewBox="0 0 320 60"><path d="M284 45h16v-2.95l-3.04-1.55v-20c1.2-.87 2.76-1.14 4.27-1.14 2.76 0 3.77.94 3.77 4.14v17l-3 1.55V45h16v-2.95l-3-1.55v-19c0-5.7-2.2-8.32-7.22-8.32-4.1 0-8.1 1.5-10.82 4.03V13H296l-12.4 2.22v2.7l3.4 1.58v21l-3 1.54V45zM245.27.37c-2.97 0-5.35 2.43-5.35 5.47 0 2.98 2.38 5.4 5.35 5.4 2.92 0 5.36-2.42 5.36-5.4 0-3.04-2.44-5.47-5.36-5.47zM237 15.1v2.83l3 1.57v20.95L237 42v3h16v-3l-3-1.55V13.07h-1l-12 2.04zm-14.07 23.95c-.73.6-1.56 1.07-3.08 1.07-4 0-5.9-3.3-5.9-10.93 0-8.74 2.4-11.67 5.58-11.67 1.78 0 2.67.57 3.4 1.4v20.1zm0-24.5c-1.24-.87-3.2-1.37-4.86-1.37-7.45 0-14.48 4.35-14.48 16.83 0 11.88 7.06 15.7 11.8 15.7 3.8 0 6.4-1.7 7.63-3.37h.33v3.26h.86l11.95-1.44V41.9l-3.2-1.82V.6h-.8l-12.6 2.04v2.8L222.93 7v7.56zM181 18l3.02 1.53v20.92L181 42v3h17v-3l-3.93-1.55v-16.4c1.78-1.42 4-1.87 6.7-1.87.87 0 1.63.16 2.23.32v-9c-.33-.1-.66-.2-1.2-.2-3.3 0-5.94 2.14-7.73 6.23v-6.46H193L181 15v3zm-19.26-.8c3.9 0 5.03 2 5.03 5.92v3.48L161 27.7c-5.9 1.12-10.37 2.95-10.37 9.3 0 5.13 3.53 8.7 8.34 8.7 3.78 0 7.35-1.67 8.7-4.43h.27c.5 3.32 3.3 4.36 6.44 4.36 2.42 0 4.77-.6 5.66-1.63v-2L177 40.5v-18c0-6.95-5-9.43-13.1-9.43-5.3 0-8.76 1.35-11.57 2.7v7.84h4.7l2.04-6.04c.7-.33 2.18-.34 2.67-.34zM164 40.07c-1.94 0-4-1.14-4-4.56 0-2.43 2.4-4.64 4.75-5L167 30v8.5s-1.9 1.56-3 1.56zM264.75 17.2c3.9 0 5.03 2 5.03 5.92v3.48L264 27.7c-5.9 1.12-10.36 2.95-10.36 9.3 0 5.13 3.53 8.7 8.34 8.7 3.78 0 7.35-1.67 8.7-4.43h.27c.5 3.32 3.3 4.36 6.44 4.36 2.4 0 4.76-.6 5.65-1.63v-2L280 40.5v-18c0-6.95-5-9.43-13.1-9.43-5.3 0-8.76 1.35-11.57 2.7v7.84h4.7l2.04-6.04c.7-.33 2.18-.34 2.67-.34zM267 40.07c-1.94 0-4-1.14-4-4.56 0-2.43 2.4-4.64 4.75-5L270 30v8.5s-1.9 1.56-3 1.56zM128.3 45.7c.44 0 .87-.03 1.3-.07 3.54-.34 6.68-2.02 8.42-4.2v4.07l12-1.5v-2l-3-2V13h-1l-11.88 2.28v2.8l3.88 1.6V38c-1.12.76-2.42 1.34-4.2 1.34-2.54 0-4.8-.8-4.8-4.34V13h-1l-12 2.5v2.6l4 1.6V36c0 5.36 2.17 9.7 8.28 9.7zM96 38c-1.2 0-2.54-.8-2.54-1.9 0-.84.6-1.72 1.35-2.28 1.65.5 3 .6 5 .6 7.78 0 13.2-3.68 13.2-10.42 0-3.03-1.3-4.64-3.2-6.4L115 19v-6l-8.24 1.62c-1.9-.72-4.54-1.6-6.97-1.6-7.8 0-13.2 4.08-13.2 10.76 0 4.08 2 7.12 5 8.83l.26.17C90.13 34 86.6 36.75 86.6 40c0 2.44 1.5 4.8 4.74 5.54-3.4.7-7.34 2.43-7.34 6.46 0 4.14 5.95 8 15.46 8C111.3 60 116 54.34 116 47c0-6.07-2.8-9-9.5-9H96zm7.5-14c0 5.7-1.34 6.5-3.5 6.5s-4-.8-4-6.5c0-5.82 1.84-7.5 4-7.5 2.22 0 3.5 1.96 3.5 7.5zM92 50.93c.06-1.48 1.1-3.4 3.7-3.58h8.6c2.48 0 3.7 1.98 3.7 3.58 0 3.2-2 4.37-8.26 4.37-5.52 0-7.83-2.2-7.74-4.37zM83 30c0-12.97-5.14-16.88-12.96-16.88C61 13.12 55 19.3 55 29.5c0 10.5 5.47 16.2 15.85 16.2C76.42 45.7 80.6 43 82 41v-3c-2.1.66-3.9 1.23-7.75 1.23C68.75 39.23 65 36 65 30h18zM69.87 16.6c2.5 0 3.84 1.85 3.84 9.55l-8.36.5c.12-7.87 1.8-10.05 4.55-10.05zM37 45v-2.95l-3-1.55V21c1.2-.85 3.25-1.73 4.76-1.73 2.76 0 4.3 1.55 4.24 4.23v17l-3 1.55V45h16v-2.95l-3-1.55v-19c0-5.7-3.32-8.32-7.68-8.32-4.1 0-8.62 1.28-11.32 3.82V0h-1L21 2v3l4 1.5v34l-3 1.55V45h15zM4 36.42c0 5.68 2.85 9.27 8.85 9.27 3.13 0 6.48-.85 8.4-2.3v-3.8c-.8.26-2.18.5-3.26.5-2.94 0-4-1.58-4-4.6V19h7v-5.05h-7V6.5L4 8v5.95L0 15v4h4v17.4z"/></svg></span>',n.define=o,t.exports}),System.register("svgs/commercial/logo-soulmates!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-logo-soulmates inline-commercial"><svg width="86" height="18" viewBox="-0.48 -1.133 86 18" overflow="visible" enable-background="new -0.48 -1.133 86 18"><path d="M81.95 9.55c-.55-.148-2.2-.55-2.852-1.1-.3-.3-.45-.75-.45-1.3 0-.6.2-.948.65-1.25.4-.3 1.05-.448 1.75-.448 1 0 1.7.25 2.15.4L83.45 7.5c.05.2.198.35.397.35.25 0 .45-.2.45-.45l.05-2c.05-.35-.147-.5-.397-.65-.4-.198-1.4-.6-2.9-.6-2.25 0-3.65 1.15-3.65 2.9 0 .85.3 1.7.8 2.202.65.7 1.55.95 3.4 1.5 1.45.5 2.05.8 2.05 2.05 0 .65-.15 1.2-.5 1.5-.45.35-1.15.6-2.1.6-1.25 0-2.15-.3-2.65-.5l-.2-1.65c0-.25-.2-.45-.45-.45s-.5.15-.5.4l-.1 2c0 .25.198.55.448.65.5.25 1.602.75 3.352.75 1.25 0 2.25-.302 2.95-.85.698-.552 1-1.5 1-2.552-.052-2.15-1.5-2.698-2.95-3.15zM32.2 0l-1.7.35c-.3 0-.5.2-.5.5s.25.5.6.5h1V15.3c0 .352.3.65.6.65.35 0 .65-.3.65-.6V.6c0-.45-.5-.6-.65-.6zm14.85 4.15c-1.702-.05-3.6 1.052-4.2 1.5-.5-1-1.5-1.5-2.95-1.5-1.7 0-2.85.7-3.7 1.25v-.55c0-.35-.3-.6-.6-.6-.35 0-.65.3-.65.6v10.402c0 .35.3.648.6.648.35 0 .65-.25.65-.7V6.6c.65-.398 2-1.2 3.7-1.2.8 0 1.3.15 1.6.5.3.302.5.85.5 1.45v7.902c0 .35.3.648.6.648.35 0 .648-.3.648-.6L43.2 7.35c0-.25 0-.45-.052-.7.4-.2 1.85-1.25 3.802-1.25.8 0 1.35.15 1.698.5.302.3.45.8.45 1.4v7.95c0 .352.3.65.602.65.3 0 .647-.2.647-.65v-7.9c0-2.1-1.298-3.15-3.298-3.2zM4.85 9.503C4.3 9.352 2.65 8.952 2 8.4c-.35-.3-.45-.75-.45-1.3 0-.6.2-.95.65-1.25.4-.3 1.05-.45 1.75-.45 1 0 1.7.25 2.15.4l.25 1.65c.05.2.2.35.4.35.25 0 .45-.2.45-.45l.05-2c.05-.35-.15-.5-.4-.648-.4-.2-1.4-.6-2.9-.6C1.7 4.1.3 5.25.3 7c0 .85.3 1.7.8 2.2.65.7 1.55.95 3.4 1.5 1.45.5 2.05.802 2.05 2.052 0 .648-.15 1.2-.5 1.5-.45.35-1.15.6-2.1.6-1.25 0-2.15-.3-2.65-.5l-.25-1.6c0-.25-.2-.45-.45-.45s-.5.15-.5.4l-.1 2c0 .25.2.55.45.65.5.25 1.6.75 3.35.75 1.25 0 2.25-.302 2.95-.852.7-.55 1-1.5 1-2.55 0-2.15-1.45-2.75-2.9-3.198zm68.9-4.9c-.6-.3-1.35-.45-2.15-.45-.647 0-1.35.1-1.897.3-.65.25-1.25.7-1.7 1.15-.5.5-.852 1-1.102 1.75-.3.798-.447 1.7-.447 2.7 0 1.8.35 3.15 1.1 4.15.9 1.25 2.35 1.9 4.35 1.9 2.05 0 3.45-.65 3.45-.65.3-.15.55-.4.35-.802-.148-.35-.6-.3-.95-.2 0 0-1.15.4-2.9.4-2.896 0-4.146-1.55-4.146-4.85 0-1.65.397-2.75 1.198-3.6.85-.85 1.9-1.1 2.65-1.1 1.198 0 2 .3 2.55 1.1.398.6.7 1.5.75 2.5l-5.5.1c-.3 0-.602.2-.602.45 0 .3.1.65.45.65H75.5c.35 0 .6-.25.6-.7 0-1.55-.35-2.75-1-3.65-.252-.55-1.35-1.15-1.35-1.15zm-7.902 10.1s-.6.198-1.3.198c-.45 0-.85-.2-1.05-.398-.3-.3-.25-.852-.25-1.3V5.55h2.65c.35 0 .6-.35.6-.65 0-.35-.3-.6-.6-.6h-2.65V2.15c0-.3-.35-.55-.65-.55-.35 0-.648.25-.648.55V4.3H60.9c-.302 0-.6.25-.6.55 0 .3.198.648.5.648h1.15v7.55c0 .85.048 1.7.6 2.25.448.45 1.15.7 2 .7.948 0 1.65-.25 1.698-.25.3-.1.35-.5.25-.8-.15-.198-.298-.348-.65-.25zm-11.3-10.4c-.95.15-1.5.35-1.5.35-.3.1-.6.5-.45.8.15.3.5.55.8.4l1.052-.3c.85-.15 1.75-.25 2.6-.052 1.05.25 1.4 1.35 1.4 2.45v5.75c-.65.552-1.55 1-2.4 1.15-1.55.25-3.25-.4-3.25-2.15 0-1.1.8-1.65 1.7-1.948.65-.2 1.9-.4 2.75-.45.25 0 .4-.25.4-.55 0-.3-.25-.45-.552-.45-.75 0-1.648 0-2.8.35-1.1.3-2.1.75-2.5 1.95-.5 1.45.1 3.1 1.4 3.95 1.6.95 3.95.6 5.25-.7v.45c0 .35.35.6.648.6.353 0 .603-.3.603-.6V7.9c0-1.15-.202-2-.702-2.6-.95-1.15-2.548-1.302-4.45-1zM29.324 4.926c.102-.35-.2-.65-.5-.65-.35 0-.648.3-.648.6v8.902c-.55.35-2 1.05-3.7 1.05-1 0-1.75-.25-2.1-.7-.15-.2-.352-.5-.352-1.4V4.88c-.05-.35-.3-.55-.6-.55-.25 0-.5.15-.6.35-.4 1.25-2.4 3-5.45 3-1.15 0-1.65-.65-1.65-1.25 0-1.05 1.15-1.2 2.05-.65.3.2.75.1.9-.2.1-.25.05-.65-.25-.8-.75-.4-1.6-.6-2.55-.6-1.35 0-2.55.45-3.45 1.3-.5.5-.9 1.3-1.2 2.05-.3.75-.5 1.65-.5 2.65 0 1.05.1 1.9.35 2.602.2.75.55 1.397 1 1.897.9 1 2.2 1.55 3.75 1.55 1.35 0 2.6-.55 3.5-1.398.5-.5.85-1.15 1.1-1.852.3-.75.5-1.65.5-2.65 0-.898-.05-1.6-.2-2.25.95-.45 2-1.45 2-1.45v6.2c0 .553.1 1.553.65 2.202.6.8 1.648 1.147 3.1 1.147 1.5 0 2.8-.647 3.65-1.25l-.052.4c0 .35.3.65.65.65.35 0 .65-.4.65-.75l-.048-10.3zm-12.8 9c-.65.65-1.6 1.05-2.65 1.05-1.2 0-2.15-.447-2.8-1.197-.65-.75-1-2.15-1-3.604 0-1.8.45-3.1 1.25-3.898.4-.4 1.2-.75 1.75-.85-.3.3-.4.65-.4.95 0 1.4 1.05 2.35 2.85 2.35.7 0 1.55-.15 2.15-.3.05.3.1.95.1 1.75 0 1.45-.4 2.95-1.25 3.748z"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/close-central!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-close-central inline-icon"><svg width="30" height="30"><path d="M21 9.8l-.8-.8-5.2 4.8-5.2-4.8-.8.8 4.8 5.2-4.8 5.2.8.8 5.2-4.8 5.2 4.8.8-.8-4.8-5.2 4.8-5.2"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/arrow-white-right!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-arrow-white-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path fill="#fff" d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/arrow-right!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-arrow-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path d="M22.8 14.6l-7.6-7.6-.7.7 5.5 6.6h-14v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>',n.define=o,t.exports}),System.register("svgs/icon/bookmark!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-bookmark inline-icon"><svg width="8.6" height="16" viewBox="0 0 8.6 16">\n    <path d="M0 15.7V1l1-1h6.5l1 1v14.7l-.2.3-4-2.2-4 2.2"/>\n</svg>\n</span>',n.define=o,t.exports}),System.register("svgs/notifications-explainer-mobile!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-notifications-explainer-mobile "><svg xmlns="http://www.w3.org/2000/svg" width="296" height="159.9" viewBox="0 0 296 159.9"><path fill="#DDD" d="M73.2 138V9c0-5.6-5-6-5-6C60.3 1 36.6.7 36.6.7 16.3.8 5 3 5 3 .5 4 0 9 0 9v129c0 8.7 5 7.5 5 7.5 8.8 2 31.6 1.8 31.6 1.8 18.4 0 31.7-2 31.7-2 5.8-1.5 5-7.4 5-7.4zm-3.2-5H2.8L3 13.6l67-.6v120z"/><path fill="#197DAB" d="M2.8 12.5h66.7v119H2.8z"/><circle fill="#4BC6DF" cx="66.6" cy="15.8" r="2.1"/><path fill="#FFF" d="M60 14h3.5v3.5H60zM55.3 14h3.5v3.5h-3.5zM50.5 14H54v3.5h-3.5z"/><path fill="#DCDCDC" d="M34 123h4.2v4.3H34zM62.8 123H67v4.3h-4.2zM6.2 123h4.2v4.3H6.2z"/><path fill="#FFF" d="M23.6 57.8h25v3h-25z"/><path fill="none" d="M9.5 39.5h53.3v14H9.5z"/><text transform="translate(15.048 53.102)" fill="#FFF" font-family="\'Roboto-Thin\'" font-size="17.8">18:41</text><g><path fill="#FFF" d="M6 71.7h60.5v11H6z"/><path fill="none" d="M18.4 74.7h26.2v1.7H18.4z"/><text transform="translate(18.396 76.408)" fill="#333" font-family="\'ArialMT\'" font-size="2.4">The Guardian</text><path fill="none" d="M18.4 77.7H65v1.8H18.3z"/><text transform="translate(18.396 79.453)" fill="#767676" font-family="\'ArialMT\'" font-size="2.4">Obama plan for trade deals with Asia...</text><path fill="none" d="M59 74.8h5.3v1.4H59z"/><text transform="translate(58.904 76.223)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="1.9">18:40</text><path fill="#005689" d="M11.2 73.5c-.2 0-.4.4-.6.6l-.2 1c0 .4 0 .7.3 1l.7.7s-.2 0-.3.2l-.2.2-.3.4v1.1l.8.4s-.3 0-.4.2c-.3 0-.5 0-.6.2l-.3.3v.5c-.4-.3-.7-.7-1-1.2-.2-.5-.3-1-.3-1.7 0-.4 0-.8.2-1.2 0-.3.2-.7.4-1l.8-1c.3 0 .6-.4 1-.5zm2.6 6h.6l.2.6c0 .3 0 .5-.3.7L13 81c-.5 0-1-.2-1-.3-.4-.2-.5-.4-.5-.6l.2-.4s.2-.2.5-.2h1.6zm3.4-2.2c0 .6 0 1.2-.4 1.7-.2.5-.5 1-1 1.3.3-.2.4-.6.4-1 0-.5-.2-1-.5-1.2-.3-.2-.8-.3-1.5-.3H12l-.3-.4V77H13c.7 0 1.3-.2 1.8-.5.4-.4.7-1 .7-1.5 0-.4 0-.7-.3-1 0-.2-.3-.4-.6-.6.4.2.8.4 1 .7l1 1c0 .3.3.7.4 1l.2 1.3zM13.7 75v.7c0 .2 0 .3-.2.4 0 .2-.2.2-.2.2H13h-.3-.3c0-.2 0-.3-.2-.5V75v-.7c0-.2 0-.3.2-.4 0-.2.2-.3.3-.3h.6l.2.2.2.3v.7z"/></g><g><path fill="#FFF" d="M23.6 110.2H296v49.6H23.6z"/><path fill="none" d="M79 124h118.3v7.8H79z"/><text transform="translate(79.041 131.636)" fill="#333" font-family="\'ArialMT\'" font-size="10.8">The Guardian</text><path fill="none" d="M79 137.7h209.7v8H79z"/><text transform="translate(79.041 145.367)" fill="#767676" font-family="\'ArialMT\'" font-size="10.7">Obama plan for trade deals with Asia...</text><path fill="none" d="M261.7 124.6h24.5v6.4h-24.5z"/><text transform="translate(261.745 130.799)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="8.7">18:40</text><path fill="#005689" d="M46.6 118.4c-1 .8-2 1.7-2.6 3-.5 1-.8 2.4-.8 4s.4 3 1 4.3c1 1.3 2 2.3 3.3 3l-1.2 1-1.5 1.5c-.5.6-1 1-1.2 1.8-.4.6-.5 1.2-.5 2 0 1 .4 2 1 2.8.8 1 1.8 1.5 3.3 1.8l-2.3.6-2 1c-.6.4-1 1-1.5 1.5-.3.6-.5 1.3-.5 2.2v.2c-1.7-1.8-3-3.8-4-6-1-2.3-1.5-4.8-1.5-7.4 0-2 .3-3.8.8-5.6.5-1.7 1.3-3.4 2.3-5 1-1.4 2.2-2.7 3.5-4 1.5-1 3-2 4.6-2.8zm11.6 26.8c1 0 2 .3 2.7.8.5.6 1 1.3 1 2.2 0 1-.6 2-1.6 2.6-1 .7-3 1-5.7 1-2.5 0-4.2-.3-5.2-1s-1.4-1.6-1.4-2.5c0-.7.3-1.4.7-2 .4-.7 1.2-1 2.4-1h7.2zm15.4-9.4c0 2.7-.5 5.2-1.5 7.5s-2.4 4.4-4 6c.6-1.2 1-2.7 1-4.5 0-2.5-.8-4.4-2.2-5.6-1.4-1.2-3.6-1.8-6.5-1.8H51c-.6 0-1-.2-1.4-.6-.4-.3-.6-.7-.6-1.2 0-.3.2-.6.4-1l.8-1c.7.4 1.4.5 2 .6h2.4c3.3 0 6-.8 8-2.3 2.2-1.7 3.2-4 3.2-6.8 0-1.6-.4-3-1-4.2-.7-1-1.6-2-2.7-2.8 1.8.8 3.3 1.7 4.7 3 1.4 1 2.7 2.4 3.7 4 1 1.5 1.8 3 2.4 5 .5 1.7.8 3.6.8 5.6zM58 125.3c0 1.3 0 2.3-.3 3-.2.8-.4 1.4-.7 1.8-.4.5-.7.8-1.2 1h-2.6c-.4-.2-.8-.5-1-1-.5-.3-.7-1-1-1.6v-3-3.4c.3-.8.5-1.4 1-1.8.2-.4.6-.7 1-.8l1.3-.2c.5 0 1 0 1.4.2.3.2.7.5 1 1 .3.3.5 1 .7 1.7.2 1 .3 2 .3 3.3z"/></g></svg></span>',n.define=o,t.exports}),System.register("svgs/notifications-explainer-desktop!es6/projects/common/utils/svg",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<span class="inline-notifications-explainer-desktop "><svg xmlns="http://www.w3.org/2000/svg" width="653.1" height="186.5" viewBox="73.5 206.8 653.1 186.5"><path fill="#FFF" d="M100.5 211.4h202v129.2h-202z"/><path fill="#DDD" d="M299.5 206.8H104c-6.8 0-6.8 6.8-6.8 6.8V344c0 7 7 7 7 7h195.3c7 0 7-7 7-7V213.6c0-6.8-7-6.8-7-6.8zm-.2 131.2H104V215.8h195.3V338z"/><path fill="#DDD" d="M73.5 346.8v4.5c5 3 14 3.4 14 3.4H316c9.5-.2 14-3.4 14-3.4v-4.5H73.5z"/><path fill="#BDBDBD" d="M104 215.8h195.3v6H104z"/><path fill="#F1F1F1" d="M161.3 217H242v3.5h-80.7z"/><g opacity=".5"><path fill="#D84A37" d="M108.3 237.4h15.4v4h-15.4z"/><path fill="#EBEBEB" d="M104 221.8h195.3v7.8H104z"/><path fill="#FFF" stroke="#BDBDBD" stroke-miterlimit="10" d="M131.5 224h80v3.7h-80z"/><path fill="#4683EB" d="M211.4 223.8h8v4h-8z"/><path fill="#197DAB" d="M107 222.6h7.3v6.4H107z"/><path fill="#FFF" d="M104 229.6h195.3V338H104z"/><path fill="#EBEBEB" d="M131.5 236.4h164V338h-164z"/><path fill="#D84A37" d="M104 242.7h.5v3.8h-.5z"/><path fill="#4683EB" d="M131.5 236.4h.5v5h-.5z"/><path fill="#FFF" d="M212.6 224.7h5.8v2h-5.8zM111.5 238.6h9v1.7h-9z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M131.5 231h9.7v4h-9.7z"/><path fill="#767676" d="M133.2 232.2h6.3v1.7h-6.3z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M125.3 279.7h3.8v3.7h-3.7z"/><path fill="#767676" d="M126 280.7h2.5v1.5H126z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M143.3 231h9.7v4h-9.7z"/><path fill="#767676" d="M145 232.2h6.3v1.7H145z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M155.4 231h9.7v4h-9.6z"/><path fill="#767676" d="M157 232.2h6.4v1.7H157z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M285.6 231h9.7v4h-9.7z"/><path fill="#767676" d="M287.3 232.2h6.3v1.7h-6.3z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M273.5 231h9.7v4h-9.7z"/><path fill="#767676" d="M275.2 232.2h6.3v1.7h-6.3z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M262 231h4.8v4h-5z"/><path fill="#767676" d="M263 232.2h2.7v1.7H263z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M266.7 231h5v4h-5z"/><path fill="#767676" d="M267.7 232.2h2.8v1.7h-2.8zM250.3 232.2h10.5v1.7h-10.5z"/><path fill="#BDBDBD" d="M265.5 224.7h6v2h-6z"/><path fill="#767676" d="M273.5 224.4h3v2.7h-3zM285.6 224.4h3v2.7h-3z"/><circle fill="#767676" cx="281" cy="225.8" r="1.4"/><circle fill="#FCDD03" cx="293.2" cy="225.8" r="2.2"/><circle fill="#4BC6DF" cx="110.1" cy="281.5" r="1.8"/><path fill="#BDBDBD" d="M108.3 243.5h6v2.2h-6zM108.3 247.2h6v2.2h-6zM108.3 251.2h8.5v2.2h-8.5zM108.3 255h7.5v2h-7.5zM108.3 258.7h9.7v2.2h-9.7zM108.3 262.5h5.8v2.2h-5.7zM108.3 266.3h5.8v2.2h-5.7zM108.3 270.6H124v2.2h-15.7zM108.3 274.4h14v2.2h-14z"/><path fill="#D84A37" d="M108.3 231.6h7.3v3h-7.3z"/><path fill="#767676" d="M144 238h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 238.2h1.7v1.7H133zM136.2 238.2h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 238.2h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 238h19v1.8h-19zM288.3 238h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M190 238h70v1.8h-70z"/><path fill="#DFDFDF" d="M131.5 241.4h164v.3h-164z"/><path fill="#767676" d="M144 243.5h18.7v1.8H144z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 243.7h1.7v1.7H133zM136.2 243.7h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 243.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 243.5H209v1.8h-39.4zM288.3 243.5h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M210.3 243.5h73.4v1.8h-73.4z"/><path fill="#DFDFDF" d="M131.5 247h164v.2h-164z"/><path fill="#767676" d="M144 248.6h18.7v1.8H144z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 248.8h1.7v1.7H133zM136.2 248.8h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 248.8h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 248.6H201v1.8h-31.4zM288.3 248.6h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M202.2 248.6h81.4v1.8h-81.4z"/><path fill="#DFDFDF" d="M131.5 252h164v.3h-164z"/><path fill="#767676" d="M144 254.5h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 254.7h1.7v1.7H133zM136.2 254.7h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 254.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 254.5h49v1.8h-49zM288.3 254.5h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M219.6 254.5h40.6v1.8h-40.6z"/><path fill="#DFDFDF" d="M131.5 258h164v.2h-164z"/><path fill="#767676" d="M144 259.8h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 260h1.7v1.7H133zM136.2 260h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 260h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 259.8h10.2v1.8h-10.2zM288.3 259.8h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 259.8h98.4v1.8h-98.4z"/><path fill="#DFDFDF" d="M131.5 263.2h164v.3h-164z"/><path fill="#767676" d="M144 265.4h18.7v1.8H144z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 265.6h1.7v1.7H133zM136.2 265.6h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 265.6h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 265.4H199v1.8h-29.4zM288.3 265.4h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 265.4h79.2v1.8h-79.2z"/><path fill="#DFDFDF" d="M131.5 269h164v.2h-164z"/><path fill="#767676" d="M144 270.8h20.8v1.8h-21z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 271h1.7v1.7H133zM136.2 271h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 271h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 270.8h42.6v1.8h-42.6zM288.3 270.8h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M213.4 270.8h72.2v1.8h-72.2z"/><path fill="#DFDFDF" d="M131.5 274.2h164v.3h-164z"/><path fill="#767676" d="M144 276h14.8v2h-15zM112.7 280.6h7.3v1.8h-7.3z"/><circle fill="#AAD8F1" cx="110.1" cy="287.4" r="1.8"/><path fill="#767676" d="M112.7 285.6h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 288h8.6v1.5h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="292.9" r="1.8"/><path fill="#767676" d="M112.7 291h9.3v1.5h-9.3z"/><path fill="#BDBDBD" d="M112.7 293.6h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="298.4" r="1.8"/><path fill="#767676" d="M112.7 296.6h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 299h8.6v1.5h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="303.7" r="1.8"/><path fill="#767676" d="M112.7 302h9.3v1.3h-9.3z"/><path fill="#BDBDBD" d="M112.7 304.4h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="309.3" r="1.8"/><path fill="#767676" d="M112.7 307.5h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 310h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="314.5" r="1.8"/><path fill="#767676" d="M112.7 312.7h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 315.2h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="320.1" r="1.8"/><path fill="#767676" d="M112.7 318.3h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 320.7h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="325.5" r="1.8"/><path fill="#767676" d="M112.7 323.7h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 326h8.6v1.5h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="330.9" r="1.8"/><path fill="#767676" d="M112.7 329.2h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 331.6h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="336.5" r="1.8"/><path fill="#767676" d="M112.7 334.7h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 337h8.6v1.5h-8.6z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 276.2h1.7v1.7H133zM136.2 276.2h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 276.2h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 276H208v2h-38.4zM288.3 276h4.4v2h-4.4z"/><path fill="#BDBDBD" d="M209.4 276h50.8v2h-50.8z"/><path fill="#DFDFDF" d="M131.5 279.5h164v.3h-164z"/><path fill="#767676" d="M144 281.7h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 282h1.7v1.6H133zM136.2 282h1.8v1.6h-1.8z"/><path fill="#CEB41D" d="M139.7 282h1.8v1.6h-1.8z"/><path fill="#767676" d="M169.6 281.7H199v1.8h-29.4zM288.3 281.7h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 281.7H260v1.8h-59.6z"/><path fill="#DFDFDF" d="M131.5 285h164v.4h-164z"/><path fill="#767676" d="M144 287h20.8v1.8h-21z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 287h1.7v1.8H133zM136.2 287h1.8v1.8h-1.8z"/><path fill="#CEB41D" d="M139.7 287h1.8v1.8h-1.8z"/><path fill="#767676" d="M169.6 287H208v1.8h-38.4zM288.3 287h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M209.4 287h50.8v1.8h-50.8z"/><path fill="#DFDFDF" d="M131.5 290.4h164v.3h-164z"/><path fill="#767676" d="M144 292.5h20.8v1.8h-21z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 292.7h1.7v1.7H133zM136.2 292.7h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 292.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 292.5H201v1.8h-31.4zM288.3 292.5h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M202.2 292.5h58v1.8h-58z"/><path fill="#DFDFDF" d="M131.5 296h164v.2h-164z"/><path fill="#767676" d="M144 298h14.8v1.7h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 298h1.7v1.8H133zM136.2 298h1.8v1.8h-1.8z"/><path fill="#CEB41D" d="M139.7 298h1.8v1.8h-1.8z"/><path fill="#767676" d="M169.6 298H209v1.7h-39.4zM288.3 298h4.4v1.7h-4.4z"/><path fill="#BDBDBD" d="M210.3 298h50v1.7h-50z"/><path fill="#DFDFDF" d="M131.5 301.3h164v.3h-164z"/><path fill="#767676" d="M144 303.3h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 303.5h1.7v1.7H133zM136.2 303.5h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 303.5h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 303.3H199v1.8h-29.4zM288.3 303.3h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 303.3h76v1.8h-76z"/><path fill="#DFDFDF" d="M131.5 306.7h164v.3h-164z"/><path fill="#767676" d="M144 308.8h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 309h1.7v1.7H133zM136.2 309h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 309h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 308.8H199v1.8h-29.4zM288.3 308.8h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 308.8h64v1.8h-64z"/><path fill="#DFDFDF" d="M131.5 312.2h164v.3h-164z"/><path fill="#767676" d="M144 314.2h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 314.3h1.7v1.7H133zM136.2 314.3h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 314.3h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 314.2h42.6v1.8h-42.6zM288.3 314.2h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M213.4 314.2h52v1.8h-52z"/><path fill="#DFDFDF" d="M131.5 317.6h164v.3h-164z"/><path fill="#767676" d="M144 319.6h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 319.7h1.7v1.7H133zM136.2 319.7h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 319.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 319.6h10.2v1.8h-10.2zM288.3 319.6h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 319.6h91.3v1.8h-91.3z"/><path fill="#DFDFDF" d="M131.5 323h164v.3h-164z"/><path fill="#767676" d="M144 329.6h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 329.8h1.7v1.7H133zM136.2 329.8h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 329.8h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 329.6h10.2v1.8h-10.2zM288.3 329.6h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 329.6h91.3v1.8h-91.3z"/><path fill="#DFDFDF" d="M131.5 333h164v.3h-164z"/><path fill="#767676" d="M144 334.7h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 335h1.7v1.6H133zM136.2 335h1.8v1.6h-1.8z"/><path fill="#CEB41D" d="M139.7 335h1.8v1.6h-1.8z"/><path fill="#767676" d="M169.6 334.7h10.2v1.8h-10.2zM288.3 334.7h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 334.7h91.3v1.8h-91.3z"/><path fill="#DFDFDF" d="M131.5 328h164v.4h-164z"/><path fill="#767676" d="M144 325h14.8v1.7h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 325h1.7v1.8H133zM136.2 325h1.8v1.8h-1.8z"/><path fill="#CEB41D" d="M139.7 325h1.8v1.8h-1.8z"/><path fill="#767676" d="M169.6 325H199v1.7h-29.4zM288.3 325h4.4v1.7h-4.4z"/><path fill="#BDBDBD" d="M200.4 325h79.2v1.7h-79.2z"/></g><g><path fill="#FFF" d="M252 218.8h43.7v9.6H252z"/><path fill="#005689" d="M252 218.8h9.7v9.6H252z"/><path fill="none" d="M263.8 220.4h19v1.4h-19z"/><text transform="translate(263.753 221.621)" fill="#333" font-family="\'ArialMT\'" font-size="1.7">The Guardian</text><path fill="none" d="M263.8 222.6H293v2.7h-29.2z"/><text transform="translate(263.753 223.592)" fill="#333" font-family="\'ArialMT\'" font-size="1.4">Obama plan for trade deals with Asia and</text><text transform="translate(263.753 225.268)" fill="#333" font-family="\'ArialMT\'" font-size="1.4">Europe in tatters after Senate vote</text><path fill="none" d="M263.8 226h11.4v1h-11.4z"/><text transform="translate(263.753 227.016)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="1.4">theguardian.com</text><path fill="#767676" d="M294.6 220.7l-.8-.7h.2l.7.6z"/><path fill="#767676" d="M294.8 220l-.7.7.6-.8z"/><path fill="#FFF" d="M255.7 221c-.2 0-.4.2-.5.4v1.4l.6.4-.2.2-.2.2-.2.3v.7l.6.3h-.4l-.3.2s0 .2-.2.3v.3c-.3-.2-.5-.5-.7-1v-1-1l.4-.8c0-.2.3-.4.5-.6 0-.2.4-.4.7-.5zm1.8 4.2c.2 0 .3 0 .5.2v.7c-.3.3-.6.3-1 .3s-.7 0-1-.2v-.3-.3l.4-.2h1zm2.5-1.5c0 .5 0 1-.3 1.2 0 .3-.3.6-.6 1 .2-.3.2-.5.2-.8 0-.4 0-.7-.3-1l-1-.2h-1.7-.2v-.3-.2H257c.5 0 1 0 1.2-.4.4-.2.5-.5.5-1v-.6l-.6-.5c.4 0 .7.2 1 .4 0 .2.3.4.5.6 0 .3.3.5.4.8v1zm-2.5-1.7v.5c0 .2 0 .3-.2.3h-.2v.2h-.3l-.2-.2v-.3-.5-.5-.3h.7v.3c.2.2.2.3.2.5z"/></g><g><path fill="#FFF" d="M227 283.4h499.6v110H227z"/><path fill="#005689" d="M227 283.4h112v110H227z"/><path fill="none" d="M361.5 301.4h217v15.8h-217z"/><text transform="translate(361.519 315.618)" fill="#333" font-family="\'ArialMT\'" font-size="19.9">The Guardian</text><path fill="none" d="M361.5 326.7h332.8V358H361.5z"/><text transform="translate(361.519 338.088)" fill="#333" font-family="\'ArialMT\'" font-size="15.9">Obama plan for trade deals with Asia and</text><text transform="translate(361.519 357.185)" fill="#333" font-family="\'ArialMT\'" font-size="15.9">Europe in tatters after Senate vote</text><path fill="none" d="M361.5 365.7h130.3v12.5H361.5z"/><text transform="translate(361.519 377.127)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="15.9">theguardian.com</text><path fill="#767676" d="M713 305.7l-8.5-8.4 1.5-1.5 8.4 8.4z"/><path fill="#767676" d="M714.4 297.3l-8.4 8.4-1.5-1.5 8.4-8.4z"/><path fill="#FFF" d="M269.2 307.7c-2 1.5-3.6 3.3-4.7 5.4-1 2.2-1.6 4.6-1.6 7.3 0 3.2.6 6 2 8.3 1.5 2.2 3.4 4 5.8 5.4l.3.2c-.7.4-1.5 1-2.4 1.8-1 .8-1.8 1.7-2.7 2.6-1 1-1.8 2-2.4 3.2-.6 1-1 2.3-1 3.6 0 2 .8 3.7 2 5.4 1.2 1.6 3 2.7 5.8 3.3-1.4.3-2.7.7-4 1.2-1.5.4-2.7 1-3.8 1.7-1 .7-2 1.6-2.7 2.7-.8 1-1 2.4-1 4v.5c-3.2-3.2-5.7-7-7.5-11-1.8-4.2-2.7-8.7-2.7-13.5 0-3.6.5-7 1.5-10.2 1-3.3 2.4-6.3 4.2-9 2-2.8 4-5.2 6.5-7.4 2.4-2 5-4 8.2-5.3zm21.3 49.2c2 0 3.7.4 5 1.4 1 1 1.7 2.4 1.7 4 0 2-1 3.5-2.7 4.8-1.8 1.3-5.3 2-10.5 2-4.5 0-7.7-.7-9.4-2-1.8-1.4-2.7-3-2.7-4.6 0-1.3.3-2.6 1-3.8.8-1.2 2.3-2 4.5-2h13zm28.3-17.3c0 5-1 9.5-3 13.7-1.8 4.3-4.4 8-7.6 11.2 1.3-2.4 2-5.2 2-8.4 0-4.7-1.4-8.2-4-10.4-2.6-2.2-6.5-3.3-12-3.3h-17c-1 0-1.8-.3-2.5-1-.7-.6-1-1.3-1-2 0-.8.2-1.4.6-2 .4-.7 1-1.2 1.5-1.7 1.3.5 2.6.8 3.8.8l4.2.2c6.2 0 11.2-1.5 15-4.3 3.7-3 5.6-7 5.6-12.3 0-3-.7-5.5-2-7.6-1-2.2-2.7-4-4.8-5.2 3 1.4 6 3.2 8.5 5.3 2.7 2.2 5 4.6 6.8 7.4 2 3 3.3 6 4.4 9.2 1 3.3 1.6 6.8 1.6 10.5zM290 320.3c0 2.4 0 4.3-.4 5.7-.4 1.4-.8 2.5-1.4 3.2-.6.8-1.3 1.2-2 1.4l-2.5.3c-.8 0-1.6-.2-2.4-.4-.8-.2-1.5-.6-2-1.4-.7-.7-1.2-1.7-1.5-3-.3-1.5-.4-3.4-.4-6 0-2.3 0-4.3.4-5.8.3-1.4.8-2.6 1.4-3.3.6-.7 1.3-1.2 2-1.4 1-.3 1.7-.4 2.5-.4 1 0 1.8.2 2.6.4.7.3 1.4.8 2 1.6.5.8 1 2 1.3 3.4.3 1.4.5 3.4.5 5.7z"/></g></svg></span>',
n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/high-commercial-component",[],!1,function(){return function(){this.id="HighCommercialComponent",this.start="2014-07-22",this.expiry="2015-07-09",this.author="Darren Hurley",this.description="Using as a DFP targeting hook to test different high relevance components",this.audience=.1,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="All users",this.dataLinkNames="",this.idealOutcome="",this.showForSensitive=!1,this.canRun=function(){return!0},this.variants=[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}})}(),function(){function e(){}e.amd={},System.register("common/modules/navigation/sticky-nav",["github:wilsonpage/fastdom@0.8.6","common/utils/$","common/utils/_","common/utils/config","common/utils/detect","common/utils/mediator"],!1,function(e,t,n){return function(e,t,n,o,r,i){function a(e,t){return e>t.prevScroll?t.direction="down":e<t.prevScroll&&(t.direction="up"),t.prevScroll=e,t.direction}function s(){this.$els={}}return s.prototype.init=function(o){var a=r.getBreakpoint(),s=2===o?"updatePositionVariantB":"updatePosition";e.read(function(){this.$els.header=t("#header"),this.$els.bannerDesktop=t(".top-banner-ad-container--above-nav"),this.$els.main=t("#maincontent"),this.$els.navHeader=t(".js-navigation-header"),this.$els.sticky=t(".sticky-nav-mt-test"),this.$els.burgerIcon=t(".js-navigation-toggle",this.$els.navHeader),this.$els.logoWrapper=t(".logo-wrapper",this.$els.navHeader),this.$els.navigationScroll=t(".navigation__scroll",this.$els.navHeader),this.$els.$navigationScroll=t(".navigation__scroll",this.$els.navHeader),this.$els.$navigationGreySection=t(".navigation__container--first",this.$els.navHeader),this.$els.navigation=t(".navigation",this.$els.navHeader),this.$els.bannerMobile=t(".top-banner-ad-container--mobile"),this.headerBigHeight=this.$els.navHeader.dim().height,this.thresholdMobile=400}.bind(this)),"mobile"===a?i.on("window:scroll",n.throttle(function(){this.updatePositionMobile(a)}.bind(this),10)):i.on("window:scroll",n.throttle(function(){this[s](a)}.bind(this),10))},s.prototype.showNavigation=function(e,t){"up"===a(e,this.$els)?(this.$els.$navigationScroll.css("display","block"),"desktop"===t||"wide"===t?(this.$els.$navigationGreySection.css("border-top","36px solid #00456e"),this.$els.burgerIcon.show(),this.$els.header.removeClass("l-header--is-slim l-header--is-slim-ab")):("mobile"===t||"tablet"===t)&&(this.$els.navigation.css("height",null),"tablet"===t&&(this.$els.burgerIcon.show(),this.$els.header.removeClass("l-header--is-slim l-header--is-slim-ab")))):(this.$els.$navigationScroll.css("display","none"),"desktop"===t||"wide"===t?(this.$els.burgerIcon.hide(),this.$els.header.addClass("l-header--is-slim l-header--is-slim-ab")):("mobile"===t||"tablet"===t)&&(this.$els.navigation.css("height",0),"tablet"===t&&(this.$els.burgerIcon.hide(),this.$els.header.addClass("l-header--is-slim l-header--is-slim-ab"))))},s.prototype.updatePositionMobile=function(n){var o,r=this.$els.bannerMobile.dim().height;e.read(function(){o=t(window).scrollTop()}),e.write(function(){o<this.thresholdMobile?(this.$els.header.css({position:"fixed",top:0,width:"100%","z-index":"1001","margin-top":0}),this.$els.bannerMobile.css({position:"fixed",top:this.headerBigHeight,width:"100%","z-index":"1000"}),this.$els.main.css("margin-top",this.headerBigHeight+r),this.$els.$navigationScroll.css("display","block")):(this.$els.bannerMobile.css({position:"absolute",top:this.thresholdMobile}),this.showNavigation(o,n))}.bind(this))},s.prototype.updatePosition=function(n){var o,r=this.$els.bannerDesktop.dim().height;e.read(function(){o=t(window).scrollTop()}),e.write(function(){o>=this.headerBigHeight+r?(this.$els.header.css({position:"fixed",top:0,width:"100%","z-index":"10000","margin-top":0,transform:"translateY(-100%)"}),this.$els.main.css("margin-top",this.headerBigHeight+r),this.$els.header.addClass("is-slim"),this.$els.header.css("transform","translateY(0%)"),this.showNavigation(o,n)):o>=this.headerBigHeight?(this.$els.bannerDesktop.css({position:"absolute",width:"100%",top:this.headerBigHeight}),this.$els.header.addClass("l-header--is-slim l-header--is-slim-ab"),this.$els.burgerIcon.hide(),this.$els.header.css({position:"static","margin-top":r,transform:"translateY(-500%)"}),this.$els.header.removeClass("is-slim"),this.$els.main.css("margin-top",this.headerBigHeight-this.$els.header.dim().height)):(this.$els.bannerDesktop.css({position:"fixed",top:0,width:"100%","z-index":"10000"}),this.$els.header.removeClass("l-header--is-slim l-header--is-slim-ab"),this.$els.burgerIcon.show(),this.$els.header.removeClass("is-slim"),this.$els.header.css({position:"static",width:"100%","margin-top":r,transform:"translateY(0%)"}),this.$els.main.css("margin-top",0))}.bind(this))},s.prototype.updatePositionVariantB=function(){var n,o=this.$els.bannerDesktop.dim().height;e.read(function(){n=t(window).scrollTop()}),e.write(function(){n>=this.headerBigHeight+o?(this.$els.header.css({position:"fixed",top:0,width:"100%","z-index":"10000","margin-top":0}),this.$els.main.css("margin-top",this.headerBigHeight+o),this.$els.header.addClass("l-header--is-slim l-header--is-slim-ab"),this.$els.header.css("transform","translateY(0%)")):n>=this.headerBigHeight?(this.$els.bannerDesktop.css({position:"absolute",width:"100%",top:this.headerBigHeight}),this.$els.header.css({position:"static","margin-top":o,transform:"translateY(-500%)"}),this.$els.header.removeClass("l-header--is-slim l-header--is-slim-ab"),this.$els.burgerIcon.insertAfter(this.$els.logoWrapper),this.$els.main.css("margin-top",0)):(this.$els.bannerDesktop.css({position:"fixed",top:0,width:"100%","z-index":"10000"}),this.$els.header.removeClass("l-header--is-slim l-header--is-slim-ab"),this.$els.header.css({position:"static",width:"100%","margin-top":o,transform:"translateY(0%)"}),this.$els.burgerIcon.insertAfter(this.$els.navigationScroll))}.bind(this))},{stickySlow:new s}}.call(this,e("github:wilsonpage/fastdom@0.8.6"),e("common/utils/$"),e("common/utils/_"),e("common/utils/config"),e("common/utils/detect"),e("common/utils/mediator"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/mt-rec2",["github:wilsonpage/fastdom@0.8.6","common/utils/$","common/utils/_","common/utils/config","common/utils/detect","common/utils/mediator","common/modules/navigation/sticky-nav"],!1,function(e,t,n){return function(e,t,n,o,r,i,a){return function(){this.id="MtRec2",this.start="2015-05-12",this.expiry="2015-06-30",this.author="Steve Vadocz",this.description="Viewability results - Recommendation option 2",this.audience=.02,this.audienceOffset=.3,this.successMeasure="",this.audienceCriteria="1% of US and UK edition",this.dataLinkNames="",this.idealOutcome="",this.showForSensitive=!1,this.canRun=function(){var e="MSIE"===r.getUserAgent.browser||"IE 11"===r.getUserAgent;return!e&&n.contains(["UK","US"],o.page.edition)},this.fireRecTest=function(){a.stickySlow.init(2)},this.variants=[{id:"A",test:function(){}},{id:"B",test:function(){}}]}}.call(this,e("github:wilsonpage/fastdom@0.8.6"),e("common/utils/$"),e("common/utils/_"),e("common/utils/config"),e("common/utils/detect"),e("common/utils/mediator"),e("common/modules/navigation/sticky-nav"))})}(),function(){function e(){}e.amd={},System.register("common/utils/atob",[],!1,function(){return window.atob?function(e){return window.atob(e)}:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(){try{document.createElement("$")}catch(e){return e}}();return function(n){if(n=n.replace(/[=]+$/,""),n.length%4===1)throw t;for(var o,r,i=0,a=0,s="";r=n.charAt(a++);~r&&(o=i%4?64*o+r:r,i++%4)?s+=String.fromCharCode(255&o>>(-2*i&6)):0)r=e.indexOf(r);return s}}()})}(),function(){function e(){}e.amd={},System.register("common/modules/asyncCallMerger",[],!1,function(e,t,n){return function(){function e(e){function t(){a=arguments,i="complete";for(var e=0;e<r.length;e++)r[e].apply(null,a)}function n(n){"init"===i?(i="waiting",r.push(n),e(t)):"waiting"===i?r.push(n):n.apply(null,a)}function o(){r=[],i="init",a=null}var r,i,a;return o(),n.reset=o,n}return{mergeCalls:e}}.call(this)})}(),System.register("common/views/save-for-later/save-link.html!github:systemjs/plugin-text@0.0.2",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<a class="button button--medium button--tertiary save-for-later__button js-save-for-later__button save-for-later__button--<%= isSaved ? \'saved\' : \'save\' %>"\n   data-link-name="Save | <%= position %>"\n   data-component="save-for-later"\n   href="<%= url %>">\n    <%= icon %>\n    <!-- Not logged in -->\n    <span class="save-for-later__label save-for-later__label--save">Save for later</span>\n    <span class="save-for-later__label save-for-later__label--saved">Article saved</span>\n</a>\n',n.define=o,t.exports}),System.register("common/views/save-for-later/save-button.html!github:systemjs/plugin-text@0.0.2",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports="<button class=\"button button--medium button--tertiary save-for-later__button js-save-for-later__button save-for-later__button--<%= isSaved ? 'saved' : 'save' %>\"\n   data-link-name=\"<%= isSaved ? 'Unsave' : 'Save' %> | <%= position %>\"\n   data-component=\"save-for-later\"\n   <%= !isSaved ? 'data-custom-event-properties=\\'{ \"prop74\": \"' + config.page.contentType + 'Save:' + config.page.pageId + '\" }\\'' : '' %>>\n    <%= icon %>\n    <span class=\"save-for-later__label save-for-later__label--save\">Save for later</span>\n    <span class=\"save-for-later__label save-for-later__label--saved\">Article saved</span>\n</button>\n",n.define=o,t.exports}),System.register("common/views/identity/saved-for-later-profile-link.html!github:systemjs/plugin-text@0.0.2",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<li class="popup__item">\n    <a href="<%=idUrl%>/saved-for-later" class="brand-bar__item--action brand-bar__item--saved-for-later" data-link-name="Saved for Later">Saved for later</a>\n</li>\n',n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/cookie-refresh",["npm:bonzo@1.4.0","npm:qwery@3.4.2","common/utils/detect","common/utils/config","common/utils/mediator","common/utils/template","common/modules/identity/api"],!1,function(e,t,n){return function(e,t,n,o,r,i,a){return function(){this.id="CookieRefresh",this.start="2015-05-14",this.expiry="2015-06-14",this.author="Mark Butler",this.description="Measured roll out of Identity session refresh",this.audience=.01,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="1% of users.",this.dataLinkNames="",this.idealOutcome="1% of users have their signed in session extended. If they are signed-in and their session is over one month old.",this.showForSensitive=!0,this.canRun=function(){return!0},this.variants=[{id:"refresh",test:function(){a.init(),a.refreshCookie()}}]}}.call(this,e("npm:bonzo@1.4.0"),e("npm:qwery@3.4.2"),e("common/utils/detect"),e("common/utils/config"),e("common/utils/mediator"),e("common/utils/template"),e("common/modules/identity/api"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/headlines",["common/utils/_","npm:bonzo@1.4.0","github:wilsonpage/fastdom@0.8.6","npm:qwery@3.4.2"],!1,function(e,t,n){return function(e,t,n,o){return function(r){function i(i){e.forEach(o(".js-a-b-headline-"+r),function(r){var a=t(r),s=o(".js-headline-text",r),c=JSON.parse(a.attr("data-headline-variants"))[i];n.write(function(){e.forEach(s,function(e){t(e).html(c)})})})}this.id="Headline"+r,this.start="2015-04-9",this.expiry="2015-07-17",this.author="Robert Berry",this.description="A/B test for headline number "+r,this.audience=.01,this.audienceOffset=.75+.01*r,this.successMeasure="Greater page views per visit",this.audienceCriteria="1% of our audience, only on fronts",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){return!0},this.variants=[{id:"a",test:function(){}},{id:"b",test:function(){i(0)}}]}}.call(this,e("common/utils/_"),e("npm:bonzo@1.4.0"),e("github:wilsonpage/fastdom@0.8.6"),e("npm:qwery@3.4.2"))})}(),function(){function e(){}e.amd={},System.register("common/modules/user-prefs",["common/utils/_","common/utils/storage"],!1,function(e,t,n){return function(e,t){function n(t,n,o){var r=e.defaults(o||{},{type:"local"});f[r.type].set(m+t,n)}function o(t,n){var o=e.defaults(n||{},{type:"local"});return f[o.type].get(m+t)}function r(t,n){var o=e.defaults(n||{},{type:"local"});f[o.type].remove(m+t)}function i(t,n){var o=e.defaults(n||{},{type:"local"});f[o.type].set(m+"switch."+t,!0)}function a(t,n){var o=e.defaults(n||{},{type:"local"});f[o.type].set(m+"switch."+t,!1)}function s(t,n){var o=e.defaults(n||{},{type:"local"});f[o.type].remove(m+"switch."+t)}function c(t,n){var o=e.defaults(n||{},{type:"local"});return f[o.type].get(m+"switch."+t)===!0}function l(t,n){var o=e.defaults(n||{},{type:"local"});return f[o.type].get(m+"switch."+t)===!1}function u(e){return!isNaN(e)}function p(e){return"true"===e||"false"===e}function d(e){var t,o,r,s,c,l,d=e.hash.substr(1).split("&");for(c=0,l=d.length;l>c;++c)if(t=d[c].match(/^gu\.prefs\.(.*)=(.*)$/))switch(o=t[1],r=t[2],o){case"switchOn":i(r);break;case"switchOff":a(r);break;default:s=u(r)?+r:p(r)?"true"===String(r).toLowerCase():r,n(o,s)}}var m="gu.prefs.",f={local:t.local,session:t.session};return d(window.location),{set:n,get:o,remove:r,switchOn:i,switchOff:a,removeSwitch:s,isOn:c,isOff:l,setPrefs:d}}.call(this,e("common/utils/_"),e("common/utils/storage"))})}(),System.register("common/views/membership-message.html!github:systemjs/plugin-text@0.0.2",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<p class="site-message__message" id="site-message__message">\n    <%=messageText%>\n</p>\n<ul class="site-message__actions u-unstyled">\n    <li class="site-message__actions__item">\n        <i class="i i-arrow-white-right"></i>\n        <a href="<%=supporterLink%>" target="_blank" data-link-name="read more"><%=linkText%></a>\n    </li>\n</ul>\n',n.define=o,t.exports}),System.register("common/views/commercial/ad-slot.html!github:systemjs/plugin-text@0.0.2",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<div id="dfp-ad--<%=name%>"\n    class="js-ad-slot ad-slot ad-slot--dfp ad-slot--<%=normalisedName%><%=types%>"\n    data-link-name="ad slot <%=name%>"\n    data-test-id="ad-slot-<%=name%>"\n    data-name="<%=name%>"\n    <%=sizeMappings%>></div>\n',n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("common/utils/$css",[],!1,function(){return function(e,t){return window.document.defaultView&&window.document.defaultView.getComputedStyle?e.css(t):e[0].currentStyle[t]}})}(),function(){function e(){}e.amd={},System.register("common/utils/user-timing",[],!1,function(){function e(e){t&&"mark"in t&&t.mark("gu."+e)}var t=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return{mark:e}})}(),function(){function e(){}e.amd={},System.register("common/modules/ui/sticky",["npm:bonzo@1.4.0","common/utils/_","common/utils/$","common/utils/mediator","common/modules/experiments/ab"],!1,function(e,t,n){return function(e,t,n,o,r){function i(){var e=r.getParticipations().MtRec1;return r.testCanBeRun("MtRec1")&&e&&"A"===e.variant}var a=function(n,o){this.$element=e(n),this.$parent=this.$element.parent(),this.opts=t.defaults(o||{},{top:0})};return a.prototype.init=function(){o.on("window:scroll",t.throttle(this.updatePosition.bind(this),10)),this.updatePosition()},a.prototype.updatePosition=function(){var e,t,o;return o=i()?n(".navigation").dim().height:0,window.scrollY>=this.$parent.offset().top-this.opts.top-o?(e=Math.min(this.opts.top,this.$parent[0].getBoundingClientRect().bottom-this.$element.dim().height)+o,t={position:"fixed",top:e}):t={position:null,top:null},this.$element.css(t)},a}.call(this,e("npm:bonzo@1.4.0"),e("common/utils/_"),e("common/utils/$"),e("common/utils/mediator"),e("common/modules/experiments/ab"))})}(),function(){function e(){}e.amd={},System.register("common/modules/commercial/third-party-tags/audience-science-gateway",["common/utils/_","common/utils/config","common/utils/storage","common/utils/url"],!1,function(e,t,n){return function(e,t,n,o){var r,i="http://pq-direct.revsci.net/pql",a="gu.ads.audsci-gateway",s={sport:["FKSWod","2xivTZ","MTLELH"],football:["6FaXJO","ORE2W-","MTLELH"],lifeandstyle:["TQV1_5","J0tykU","kLC9nW","MTLELH"],technology:["9a9VRE","TL3gqK","MTLELH"],fashion:["TQV1_5","J0tykU","kLC9nW","MTLELH"],news:["eMdl6Y","mMYVrM","MTLELH"],"default":["FLh9mM","c7Zrhu","Y1C40a","LtKGsC","MTLELH"]},c=function(){r=s[t.page.section]?t.page.section:"default"},l=e.once(function(){if(t.switches.audienceScienceGateway){var e=s[r],c=o.constructQuery({placementIdList:e.join(","),cb:(new Date).getTime()}),l=[i,"?",c].join("");return require(["js!"+l],function(){var e=window.asiPlacements,t=n.local.get(a)||{};window.asiPlacements=t[r],t[r]=e,n.local.set(a,t)})}}),u=function(){var o={},i=n.local.get(a);return t.switches.audienceScienceGateway&&i&&(o=e(e.pairs(i[r])).filter(function(e){return e[1]["default"]}).map(function(e){return["pq_"+e[0],"T"]}).zipObject().valueOf(),window.asiPlacements=i[r]),o};return c(),{load:l,getSegments:u,init:c}}.call(this,e("common/utils/_"),e("common/utils/config"),e("common/utils/storage"),e("common/utils/url"))})}(),function(){function e(){}e.amd={},System.register("common/modules/commercial/third-party-tags/krux",["common/utils/config","common/utils/cookies","common/utils/storage"],!1,function(e,t,n){return function(e,t,n){function o(){return e.switches.krux?require(["js!http://cdn.krxd.net/controltag?confid=JVZiE3vn"]):void 0}function r(e){var o="kx"+e;return n.local.getRaw(o)||t.get(o+"=([^;]*)")||""}function i(){return r("segs")?r("segs").split(","):[]}return{load:o,getSegments:i}}.call(this,e("common/utils/config"),e("common/utils/cookies"),e("common/utils/storage"))})}(),function(){function e(){}e.amd={},System.register("common/utils/time",[],!1,function(e,t,n){return function(){return{currentDate:function(){return new Date}}}.call(this)})}(),function(){function e(){}e.amd={},System.register("common/modules/component",["npm:bean@1.0.15","npm:bonzo@1.4.0","npm:qwery@3.4.2","common/utils/_","common/utils/ajax"],!1,function(e,t,n){return function(e,t,n,o,r){function i(e){return new Error("Component: "+e)}var a=function(){};return a.prototype.useBem=!1,a.prototype.templateName=null,a.prototype.componentClass=null,a.prototype.endpoint=null,a.prototype.classes=null,a.prototype.elem=null,a.prototype.model=null,a.prototype.template=null,a.prototype.rendered=!1,a.prototype.destroyed=!1,a.prototype.elems=null,a.prototype.options=null,a.prototype.defaultOptions={},a.prototype.responseDataKey="html",a.prototype.autoupdated=!1,a.prototype.updateEvery=60,a.prototype.t=null,a.prototype.fetchData=null,a.prototype.manipulationType="append",a.prototype.attachTo=function(e){if(this.checkAttached(),!e)throw new i("Need element to attach to");this.elem=e,this._prerender(),this._ready()},a.prototype.render=function(e){this.checkAttached();var n=t.create(this.template?this.template:document.getElementById("tmpl-"+this.templateName).innerHTML)[0],o=e||document.body;return this.elem=n,this._prerender(),t(o)[this.manipulationType](this.elem),this._ready(),this},a.prototype.checkAttached=function(){if(this.rendered)throw new i("Already rendered")},a.prototype.fetch=function(e,n){this.checkAttached(),this.responseDataKey=n||this.responseDataKey;var o=this;return this._fetch().then(function(n){o.elem=t.create(n[o.responseDataKey])[0],o._prerender(),o.destroyed||(t(e)[o.manipulationType](o.elem),o._ready(o.elem))}).fail(function(e){o.error(e)})},a.prototype._fetch=function(){var e,t="function"==typeof this.endpoint?this.endpoint():this.endpoint;for(e in this.options)t=t.replace(":"+e,this.options[e]);return r({url:t,type:"json",method:"get",crossOrigin:!0,data:this.fetchData})},a.prototype._ready=function(e){this.destroyed||(this.rendered=!0,this._autoupdate(),this.ready(e))},a.prototype._prerender=function(){this.elems={},this.prerender()},a.prototype._autoupdate=function(){function e(){n._fetch().then(function(o){n.autoupdate(t.create(o[n.responseDataKey])[0]),n.autoupdated&&(n.t=setTimeout(e,1e3*n.updateEvery))},function(){n.t=setTimeout(e,1e3*n.updateEvery)})}var n=this;this.autoupdated&&(this.t=setTimeout(e,1e3*this.updateEvery))},a.prototype.prerender=function(){},a.prototype.ready=function(){},a.prototype.error=function(){},a.prototype.autoupdate=function(e){var n=this.elem;this.elem=e,this._prerender(),t(n).replaceWith(this.elem)},a.prototype.dispose=function(){},a.prototype.on=function(t,n,o){return"function"==typeof n?(o=n,e.on(this.elem,t,o.bind(this))):(n=n.length?n:[n],e.on(this.elem,t,n,o.bind(this))),this},a.prototype.emit=function(t,n){e.fire(this.elem,t,n)},a.prototype.getElem=function(e){if(this.elems[e])return this.elems[e];var t=n(this.getClass(e),this.elem)[0];return this.elems[e]=t,t},a.prototype.getClass=function(e,t){var n=this.useBem?this.componentClass+"__"+e:this.classes[e];return(t?"":".")+n},a.prototype.setState=function(e,n){var o=n?this.getElem(n):this.elem;t(o).addClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.removeState=function(e,n){var o=n?this.getElem(n):this.elem;return t(o).removeClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.toggleState=function(e,n){var o=n?this.getElem(n):this.elem;t(o).toggleClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.hasState=function(e,n){var o=n?this.getElem(n):this.elem;return t(o).hasClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.setOptions=function(e){this.options=o.assign(o.clone(this.defaultOptions),this.options||{},e)},a.prototype.detach=function(){e.off(this.elem)},a.prototype.destroy=function(){this.elem&&(t(this.elem).remove(),delete this.elem),clearTimeout(this.t),this.t=null,this.autoupdated=!1,this.detach(),this.destroyed=!0,this.rendered=!1},a.define=function(e){function t(){}t.prototype=a.prototype,e.prototype=new t,e.prototype.constructor=e},a}.call(this,e("npm:bean@1.0.15"),e("npm:bonzo@1.4.0"),e("npm:qwery@3.4.2"),e("common/utils/_"),e("common/utils/ajax"))})}(),System.register("common/views/commercial/badge.html!github:systemjs/plugin-text@0.0.2",[],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports='<div class="ad-slot--paid-for-badge__inner ad-slot__content--placeholder">\n    <h3 class="ad-slot--paid-for-badge__header"><%=header%></h3>\n    <p class="ad-slot--paid-for-badge__header"><%=sponsor%></p>\n</div>\n',n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("common/modules/lazyload",["common/utils/_","common/utils/ajax","npm:bonzo@1.4.0"],!1,function(e,t,n){return function(e,t,n){var o=function(o){var r,i={success:function(){},error:function(){},always:function(){},beforeInsert:function(e){return e},force:!1},a=e.assign(i,o||{});this.load=function(){return a.url&&a.container&&(r=n(a.container),a.force||!r.hasClass("lazyloaded"))?t({url:a.url,type:"json",crossOrigin:!0}).then(function(e){r.html(a.beforeInsert(e.html)),r.addClass("lazyloaded"),a.success(e)},function(e){a.error(e)}).always(function(e){a.always(e)}):void 0}};return o}.call(this,e("common/utils/_"),e("common/utils/ajax"),e("npm:bonzo@1.4.0"))})}(),function(){function e(){}e.amd={},System.register("common/modules/ui/lazy-load-images",["npm:bean@1.0.15","npm:bonzo@1.4.0","github:wilsonpage/fastdom@0.8.6","npm:qwery@3.4.2","common/utils/_","common/utils/detect","common/utils/mediator"],!1,function(e,t,n){return function(e,t,n,o,r,i,a){function s(e){n.write(function(){e.attr("srcset",e.attr("data-srcset")),e.attr("sizes",e.attr("data-sizes")),e.removeAttr("src"),e.addClass("js-lazy-loaded-image-loaded"),n.defer(function(){a.emit("ui:images:lazyLoaded",e[0])})})}function c(o,a){var c,l=r.map(o,t);a=a||i.getViewport().height,c=r.throttle(function(){n.read(function(){var n,o,u,p=[];0===l.length?e.off(window,"scroll",c):(n=t(document.body).scrollTop(),o=n+i.getViewport().height,u=o+a,r.forEach(l,function(e){e.offset().top<u&&null!==e[0].offsetParent?s(e):p.push(e)}),l=p)})},100),e.on(window,"scroll",c),c()}function l(){c(o(".js-lazy-loaded-image")),a.on("page:new-content",function(e){c(o(".js-lazy-loaded-image",e))})}return{lazyLoad:c,reveal:s,init:l}}.call(this,e("npm:bean@1.0.15"),e("npm:bonzo@1.4.0"),e("github:wilsonpage/fastdom@0.8.6"),e("npm:qwery@3.4.2"),e("common/utils/_"),e("common/utils/detect"),e("common/utils/mediator"))})}(),function(){function e(){}e.amd={},System.register("common/modules/ui/images",["npm:bonzo@1.4.0","common/utils/picturefill","common/utils/$","common/utils/$css","common/utils/mediator"],!1,function(e,t,n){return function(e,t,n,o,r){var i={upgradePictures:function(){var e=[].slice.call(n("img[srcset]",document.body));t({elements:e})},listen:function(){r.addListeners({"ui:images:upgradePictures":function(){i.upgradePictures()},"ui:images:lazyLoaded":function(e){t({elements:[e]})}})}};return i}.call(this,e("npm:bonzo@1.4.0"),e("common/utils/picturefill"),e("common/utils/$"),e("common/utils/$css"),e("common/utils/mediator"))})}(),function(){function e(){}e.amd={},System.register("common/modules/ui/tabs",["common/utils/$","npm:bean@1.0.15","npm:bonzo@1.4.0"],!1,function(e,t,n){return function(e,t,n){var o=function(){var o={showTab:function(t,o,r){var i="tabs__tab--selected tone-colour tone-accent-border",a=e(".tabs__tab--selected a",t)[0],s=t.querySelector("#"+o.getAttribute("href").substring(1)),c=t.querySelector("#"+a.getAttribute("href").substring(1));n(a.parentNode).removeClass(i),n(o.parentNode).addClass(i),n(a.parentNode).attr("aria-selected",!1),n(o.parentNode).attr("aria-selected",!0),n(c).hide(),n(s).removeClass("modern-hidden").show().focus(),r.preventDefault()}};this.init=function(){Array.prototype.forEach.call(document.body.querySelectorAll(".tabs"),function(r){var i=e(".js-tabs",r)[0],a=0,s=0,c=0,l=0;if(i){if(i.getAttribute("data-is-bound")===!0)return!1;a=n(i).offset().height,s=n(i).offset().top,t.add(i,"click",function(e){var t=e.target;"a"===t.nodeName.toLowerCase()&&(o.showTab(r,t,e),c=n(r).offset().height-a,l>s&&window.scrollTo(0,s))}),i.setAttribute("data-is-bound",!0)}})}};return o}.call(this,e("common/utils/$"),e("npm:bean@1.0.15"),e("npm:bonzo@1.4.0"))})}(),function(){function e(){}e.amd={},System.register("github:getsentry/raven-js@1.1.18",["github:getsentry/raven-js@1.1.18/dist/raven.min"],!1,function(e,t,n){return function(e){return e}.call(this,e("github:getsentry/raven-js@1.1.18/dist/raven.min"))})}(),function(){function e(){}e.amd={},System.register("github:wilsonpage/fastdom@0.8.6",["github:wilsonpage/fastdom@0.8.6/index"],!1,function(e,t,n){return function(e){return e}.call(this,e("github:wilsonpage/fastdom@0.8.6/index"))})}(),System.register("npm:process@0.10.1",["npm:process@0.10.1/browser"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports=require("npm:process@0.10.1/browser"),n.define=o,t.exports}),System.register("npm:bonzo@1.4.0",["npm:bonzo@1.4.0/bonzo"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports=require("npm:bonzo@1.4.0/bonzo"),n.define=o,t.exports}),System.register("npm:qwery@3.4.2",["npm:qwery@3.4.2/qwery"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports=require("npm:qwery@3.4.2/qwery"),n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("github:ded/reqwest@1.1.5",["github:ded/reqwest@1.1.5/reqwest"],!1,function(e,t,n){return function(e){return e}.call(this,e("github:ded/reqwest@1.1.5/reqwest"))})}(),function(){function e(){}e.amd={},System.register("github:Wolfy87/EventEmitter@4.2.11",["github:Wolfy87/EventEmitter@4.2.11/EventEmitter"],!1,function(e,t,n){return function(e){return e}.call(this,e("github:Wolfy87/EventEmitter@4.2.11/EventEmitter"))})}(),System.register("npm:bean@1.0.15",["npm:bean@1.0.15/bean"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports=require("npm:bean@1.0.15/bean"),n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("github:guardian/native-promise-only@0.7.6-e",["github:guardian/native-promise-only@0.7.6-e/lib/npo.src"],!1,function(e,t,n){return function(e){return e}.call(this,e("github:guardian/native-promise-only@0.7.6-e/lib/npo.src"))})}(),function(){function e(){}e.amd={},System.register("common/views/svgs",["common/utils/_","svgs/icon/comment-16!es6/projects/common/utils/svg","svgs/icon/marque-36!es6/projects/common/utils/svg","svgs/icon/marque-54!es6/projects/common/utils/svg","svgs/icon/market-down!es6/projects/common/utils/svg","svgs/icon/market-up!es6/projects/common/utils/svg","svgs/icon/market-same!es6/projects/common/utils/svg","svgs/icon/arrow!es6/projects/common/utils/svg","svgs/icon/arrow-down!es6/projects/common/utils/svg","svgs/icon/cross!es6/projects/common/utils/svg","svgs/logo/logo-guardian!es6/projects/common/utils/svg","svgs/commercial/logo-soulmates!es6/projects/common/utils/svg","svgs/icon/close-central!es6/projects/common/utils/svg","svgs/icon/arrow-white-right!es6/projects/common/utils/svg","svgs/icon/arrow-right!es6/projects/common/utils/svg","svgs/icon/bookmark!es6/projects/common/utils/svg","svgs/notifications-explainer-mobile!es6/projects/common/utils/svg","svgs/notifications-explainer-desktop!es6/projects/common/utils/svg"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s,c,l,u,p,d,m,f,h,g,v){var b={commentCount16icon:t,marque36icon:n,marque54icon:o,marketDownIcon:r,marketUpIcon:i,marketSameIcon:a,arrowicon:s,arrowdownicon:c,crossIcon:l,logoguardian:u,logosoulmates:p,closeCentralIcon:d,arrowWhiteRight:m,arrowRight:f,bookmark:h,notificationsExplainerMobile:g,notificationsExplainerDesktop:v};return function(t,n,o){var r=b[t];return n&&(e.isArray(n)?r=r.replace(/class="/,"$&"+n.join(" ")+" "):window.console.error("Classes for inlineSvg must be an array: ",n)),o&&(r=r.replace(/<span /,'<span title="'+o+'" ')),r}}.call(this,e("common/utils/_"),e("svgs/icon/comment-16!es6/projects/common/utils/svg"),e("svgs/icon/marque-36!es6/projects/common/utils/svg"),e("svgs/icon/marque-54!es6/projects/common/utils/svg"),e("svgs/icon/market-down!es6/projects/common/utils/svg"),e("svgs/icon/market-up!es6/projects/common/utils/svg"),e("svgs/icon/market-same!es6/projects/common/utils/svg"),e("svgs/icon/arrow!es6/projects/common/utils/svg"),e("svgs/icon/arrow-down!es6/projects/common/utils/svg"),e("svgs/icon/cross!es6/projects/common/utils/svg"),e("svgs/logo/logo-guardian!es6/projects/common/utils/svg"),e("svgs/commercial/logo-soulmates!es6/projects/common/utils/svg"),e("svgs/icon/close-central!es6/projects/common/utils/svg"),e("svgs/icon/arrow-white-right!es6/projects/common/utils/svg"),e("svgs/icon/arrow-right!es6/projects/common/utils/svg"),e("svgs/icon/bookmark!es6/projects/common/utils/svg"),e("svgs/notifications-explainer-mobile!es6/projects/common/utils/svg"),e("svgs/notifications-explainer-desktop!es6/projects/common/utils/svg"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/mt-rec1",["github:wilsonpage/fastdom@0.8.6","common/utils/$","common/utils/_","common/utils/config","common/utils/detect","common/utils/mediator","common/modules/navigation/sticky-nav"],!1,function(e,t,n){return function(e,t,n,o,r,i,a){return function(){this.id="MtRec1",this.start="2015-05-12",this.expiry="2015-06-30",this.author="Zofia Korcz",this.description="Viewability results - Recommendation option 1",this.audience=.02,this.audienceOffset=.55,this.successMeasure="",
this.audienceCriteria="1% of US and UK edition",this.dataLinkNames="",this.idealOutcome="",this.showForSensitive=!1,this.canRun=function(){var e="MSIE"===r.getUserAgent.browser||"IE 11"===r.getUserAgent;return!e&&n.contains(["UK","US"],o.page.edition)},this.fireRecTest=function(){a.stickySlow.init()},this.variants=[{id:"A",test:function(){}},{id:"B",test:function(){}}]}}.call(this,e("github:wilsonpage/fastdom@0.8.6"),e("common/utils/$"),e("common/utils/_"),e("common/utils/config"),e("common/utils/detect"),e("common/utils/mediator"),e("common/modules/navigation/sticky-nav"))})}(),function(){function e(){}e.amd={},System.register("common/modules/identity/api",["common/utils/ajax","common/utils/atob","common/utils/config","common/utils/cookies","common/utils/mediator","common/utils/storage","common/modules/asyncCallMerger"],!1,function(e,t,n){return function(e,t,n,o,r,i,a){var s={},c=null;return s.cookieName="GU_U",s.signOutCookieName="GU_SO",s.fbCheckKey="gu.id.nextFbCheck",s.lastRefreshKey="identity.lastRefresh",s.idApiRoot=null,s.idUrl=null,s.init=function(){s.idApiRoot=n.page.idApiUrl,s.idUrl=n.page.idUrl,r.emit("module:identity:api:loaded")},s.reset=function(){s.getUserFromApi.reset(),c=null},s.getUserFromCookie=function(){if(null===c){var e=o.get(s.cookieName),t=e?JSON.parse(s.decodeBase64(e.split(".")[0])):null;t&&(c={id:t[0],primaryEmailAddress:t[1],displayName:t[2],accountCreatedDate:t[6],emailVerified:t[7],rawResponse:e})}return c},s.getCookie=function(){return o.get(s.cookieName)},s.isUserLoggedIn=function(){return null!==s.getUserFromCookie()},s.getUrl=function(){return s.idUrl},s.getUserFromApi=a.mergeCalls(function(t){s.isUserLoggedIn()?e({url:s.idApiRoot+"/user/me",type:"jsonp",crossOrigin:!0}).then(function(e){t("ok"===e.status?e.user:null)}):t(null)}),s.getUserFromApiWithRefreshedCookie=function(){var t="/user/me",n=e({url:s.idApiRoot+t,type:"jsonp",data:{refreshCookie:!0}});return n},s.getUserOrSignIn=function(e){if(s.isUserLoggedIn())return s.getUserFromCookie();e=encodeURIComponent(e||document.location.href);var t=s.getUrl()+"/signin?returnUrl="+e;s.redirectTo(t)},s.redirectTo=function(e){window.location.href=e},s.decodeBase64=function(e){return decodeURIComponent(escape(t(e.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"="))))},s.hasUserSignedOutInTheLast24Hours=function(){var e=o.get(s.signOutCookieName);return e?Math.round((new Date).getTime()/1e3)<parseInt(e,10)+86400:!1},s.refreshCookie=function(){if(s.isUserLoggedIn()){var e=i.local.get(s.lastRefreshKey),t=(new Date).getTime();s.shouldRefreshCookie(e,t)&&(s.getUserFromApiWithRefreshedCookie(),i.local.set(s.lastRefreshKey,t))}},s.shouldRefreshCookie=function(e,t){return!e||t>parseInt(e,10)+2592e6},s.shouldAutoSigninInUser=function(){var e=!!o.get(s.cookieName),t=!!i.local.get(s.fbCheckKey);return!e&&!t&&!this.hasUserSignedOutInTheLast24Hours()},s.setNextFbCheckTime=function(e){i.local.set(s.fbCheckKey,{},{expires:e})},s.emailSignup=function(t){var n="/useremails/"+s.getUserFromCookie().id+"/subscriptions",o={listId:t},r=e({url:s.idApiRoot+n,type:"jsonp",crossOrigin:!0,data:{body:JSON.stringify(o),method:"post"}});return r},s.sendValidationEmail=function(){var t="/user/send-validation-email",n=e({url:s.idApiRoot+t,type:"jsonp",crossOrigin:!0,data:{method:"post"}});return n},s.getSavedArticles=function(){var t="/syncedPrefs/me/savedArticles",n=e({url:s.idApiRoot+t,type:"jsonp",crossOrigin:!0});return n},s.saveToArticles=function(t){var n="/syncedPrefs/me/savedArticles",o=e({url:s.idApiRoot+n,type:"jsonp",crossOrigin:!0,data:{body:JSON.stringify(t),method:"post"}});return o},s}.call(this,e("common/utils/ajax"),e("common/utils/atob"),e("common/utils/config"),e("common/utils/cookies"),e("common/utils/mediator"),e("common/utils/storage"),e("common/modules/asyncCallMerger"))})}(),function(){function e(){}e.amd={},System.register("common/modules/save-for-later",["npm:qwery@3.4.2","npm:bonzo@1.4.0","npm:bean@1.0.15","github:wilsonpage/fastdom@0.8.6","common/utils/_","common/utils/$","common/utils/detect","common/utils/config","common/utils/mediator","common/utils/template","common/modules/identity/api","common/views/svgs","common/views/save-for-later/save-link.html!github:systemjs/plugin-text@0.0.2","common/views/save-for-later/save-button.html!github:systemjs/plugin-text@0.0.2"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s,c,l,u,p,d,m){function f(){this.classes={saveThisArticle:".js-save-for-later",saveThisVideo:".js-save-for-later-video",saveThisArticleButton:".js-save-for-later__button",onwardContainer:".js-onward",relatedContainer:".js-related",itemMeta:".js-item__meta",itemSaveLink:".js-save-for-later-link",itemSaveLinkHeading:".save-for-later-link__heading",profileDropdownLink:".brand-bar__item--saved-for-later",fcItemIsSaved:"fc-save-for-later--is-saved"},this.attributes={containerItemShortUrl:"data-loyalty-short-url",containerItemDataId:"data-id"},this.isContent=!/Network Front|Section/.test(s.page.contentType),this.userData={},this.savedArticlesUrl=s.page.idUrl+"/saved-for-later",r.bindAll(this,"save","delete","onSaveArticle","onDeleteArticle","createSaveFaciaItemHandler","createDeleteFaciaItemHandler")}var h=p("bookmark",["i-left"]),g=(s.page.shortUrl||"").replace("http://gu.com",""),v="web:"+a.getUserAgent.browser+":"+a.getBreakpoint(),b=function(e){var t=s.page.contentType.match(/^Network Front|Section$/)?"Front":"Content";return{prop74:t+"ContainerSave:"+e}};return f.prototype.init=function(){var e=u.isUserLoggedIn();if(e)u.getSavedArticles().then(function(e){var t={message:"Not found",description:"Resource not found"};if("error"===e.status&&e.errors[0].message===t.message&&e.errors[0].description===t.description){var n=(new Date).toISOString().replace(/\.[0-9]+Z/,"+00:00");this.userData={version:n,articles:[]}}else this.userData=e.savedArticles;this.updateSavedCount(),this.prepareFaciaItemLinks(!0),this.isContent&&this.renderSaveButtonsInArticle()}.bind(this));else{if(this.isContent){var t=l("<%= idUrl%>/save-content?returnUrl=<%= returnUrl%>&shortUrl=<%= shortUrl%>&platform=<%= platform%>",{idUrl:s.page.idUrl,returnUrl:encodeURIComponent(document.location.href),shortUrl:g,platform:v});this.renderArticleSaveButton({url:t,isSaved:!1})}this.prepareFaciaItemLinks(!1)}},f.prototype.renderSaveButtonsInArticle=function(){this.getSavedArticle(g)?this.renderArticleSaveButton({isSaved:!0}):this.renderArticleSaveButton({isSaved:!1})},f.prototype.renderArticleSaveButton=function(o){var i=t(e(this.classes.saveThisArticle));i.each(function(e){var i=t(e);i.css("display","block");var a={icon:h,isSaved:o.isSaved,position:i.attr("data-position"),config:s};o.url?i.html(l(d,r.assign({url:o.url},a))):(i.html(l(m,a)),n.one(i[0],"click",this.classes.saveThisArticleButton,this[o.isSaved?"deleteArticle":"saveArticle"].bind(this,s.page.pageId,g)))}.bind(this))},f.prototype.getElementsIndexedById=function(n){var o=e("["+this.attributes.containerItemShortUrl+"]",n);return r.forEach(o,function(e){return t(e).attr(this.attributes.containerItemShortUrl)}.bind(this))},f.prototype.prepareFaciaItemLinks=function(e){this.isContent||this.renderFaciaItemLinks(e,document.body),c.once("modules:tonal:loaded",function(){this.renderFaciaItemLinks(e,this.classes.onwardContainer)}.bind(this)),c.once("modules:onward:loaded",function(){this.renderFaciaItemLinks(e,this.classes.onwardContainer)}.bind(this)),c.once("modules:related:loaded",function(){this.renderFaciaItemLinks(e,this.classes.relatedContainer)}.bind(this))},f.prototype.renderFaciaItemLinks=function(e,t){var n=this.getElementsIndexedById(t);r.forEach(n,function(t){var n=i(t),r=i(this.classes.itemSaveLink,t),a=t.getAttribute(this.attributes.containerItemShortUrl),s=t.getAttribute(this.attributes.containerItemDataId),c=e?this.getSavedArticle(a):!1;e&&this[c?"createDeleteFaciaItemHandler":"createSaveFaciaItemHandler"](r[0],s,a),o.write(function(){if(c)r.addClass(this.classes.fcItemIsSaved);else{var e=i(i.ancestor(r[0],"fc-item")).attr("data-id");r.attr("data-custom-event-properties",JSON.stringify(b(e)))}r.attr("data-link-name",c?"Unsave":"Save"),n.addClass("fc-item--has-metadata"),r.removeClass("is-hidden")}.bind(this))}.bind(this))},f.prototype.save=function(e,t,n){var o=(new Date).toISOString().replace(/\.[0-9]+Z/,"+00:00"),r={id:e,shortUrl:t,date:o,read:!1,platform:v};this.userData.articles.push(r),u.saveToArticles(this.userData).then(function(e){n("error"!==e.status)})},f.prototype["delete"]=function(e,t,n){this.userData.articles=r.filter(this.userData.articles,function(e){return e.shortUrl!==t}),u.saveToArticles(this.userData).then(function(e){n("error"!==e.status)})},f.prototype.saveArticle=function(e,t){this.save(e,t,this.onSaveArticle)},f.prototype.onSaveArticle=function(e){this.renderArticleSaveButton({isSaved:e}),e&&this.updateSavedCount()},f.prototype.deleteArticle=function(e,t){this["delete"](e,t,this.onDeleteArticle)},f.prototype.onDeleteArticle=function(e){this.renderArticleSaveButton({isSaved:!e}),e&&this.updateSavedCount()},f.prototype.saveFaciaItem=function(e,t){this.save(e,t,this.onSaveFaciaItem)},f.prototype.onSaveFaciaItem=function(n,r,i,a){var s=this;a?(this.createDeleteFaciaItemHandler(n,r,i),this.updateSavedCount(),o.write(function(){t(n).addClass(s.classes.fcItemIsSaved).attr("data-link-name","Unsave").attr("data-custom-event-properties","")})):(this.createSaveFaciaItemHandler(n,r,i),o.write(function(){t(e(s.classes.itemSaveLinkHeading,n)[0]).html("Error Saving")}))},f.prototype.deleteFaciaItem=function(e,t){this.save(e,t,this.onDeleteFaciaItem)},f.prototype.onDeleteFaciaItem=function(n,r,a,s){var c=this;s?(this.createSaveFaciaItemHandler(n,r,a),this.updateSavedCount(),o.write(function(){var e=i(i.ancestor(n,"fc-item")).attr("data-id");t(n).removeClass(c.classes.fcItemIsSaved).attr("data-link-name","Save").attr("data-custom-event-properties",JSON.stringify(b(e)))})):(this.createDeleteFaciaItemHandler(n,r,a),o.write(function(){t(e(c.classes.itemSaveLinkHeading,n)[0]).html("Error Removing")}))},f.prototype.createSaveFaciaItemHandler=function(e,t,o){n.one(e,"click",this.save.bind(this,t,o,this.onSaveFaciaItem.bind(this,e,t,o)))},f.prototype.createDeleteFaciaItemHandler=function(e,t,o){n.one(e,"click",this["delete"].bind(this,t,o,this.onDeleteFaciaItem.bind(this,e,t,o)))},f.prototype.getSavedArticle=function(e){return r.some(this.userData.articles,function(t){return t.shortUrl.indexOf(e)>-1})},f.prototype.updateSavedCount=function(){var e=i(this.classes.profileDropdownLink),t=this.userData.articles.length;o.write(function(){e.html("Saved ("+t+")");var n=i(".brand-bar__item--profile");n.addClass("brand-bar__item--profile--show-saved"),i(".control__icon-wrapper",n).attr("data-saved-content-count",t)})},f}.call(this,e("npm:qwery@3.4.2"),e("npm:bonzo@1.4.0"),e("npm:bean@1.0.15"),e("github:wilsonpage/fastdom@0.8.6"),e("common/utils/_"),e("common/utils/$"),e("common/utils/detect"),e("common/utils/config"),e("common/utils/mediator"),e("common/utils/template"),e("common/modules/identity/api"),e("common/views/svgs"),e("common/views/save-for-later/save-link.html!github:systemjs/plugin-text@0.0.2"),e("common/views/save-for-later/save-button.html!github:systemjs/plugin-text@0.0.2"))})}(),function(){function e(){}e.amd={},System.register("common/modules/ui/message",["common/utils/$","npm:bean@1.0.15","common/utils/storage","common/modules/user-prefs","common/utils/_"],!1,function(e,t,n){return function(e,t,n,o,r){var i=function(t,n){var o=n||{};this.id=t,this.important=o.important||!1,this.permanent=o.permanent||!1,this.type=o.type||"banner",this.pinOnHide=o.pinOnHide||!1,this.siteMessageLinkName=o.siteMessageLinkName||"",this.siteMessageCloseBtn=o.siteMessageCloseBtn||"",this.prefs="messages",this.$footerMessage=e(".js-footer-message")};return i.prototype.show=function(n){var o=e(".js-site-message");return this.pinOnHide&&e(".js-footer-site-message-copy").html(n),!o.hasClass("is-hidden")&&!this.important||this.hasSeen()?(this.pinOnHide&&this.$footerMessage.removeClass("is-hidden"),!1):(e(".js-site-message-copy").html(n),this.siteMessageLinkName&&o.attr("data-link-name",this.siteMessageLinkName),this.siteMessageCloseBtn&&e(".site-message__close-btn",".js-site-message").attr("data-link-name",this.siteMessageCloseBtn),o.addClass("site-message--"+this.type).addClass("site-message--"+this.id),o.removeClass("is-hidden"),this.permanent?(o.addClass("site-message--permanent"),e(".site-message__close").addClass("is-hidden")):t.on(document,"click",".js-site-message-close",this.acknowledge.bind(this)),void("modal"===this.type&&this.bindModalListeners()))},i.prototype.bindModalListeners=function(){t.on(document,"click",".js-site-message-inner",function(e){e.stopImmediatePropagation(),e.stopPropagation()}),t.on(document,"click",".js-site-message",this.acknowledge.bind(this))},i.prototype.hide=function(){e("#header").removeClass("js-site-message"),e(".js-site-message").addClass("is-hidden"),this.pinOnHide&&this.$footerMessage.removeClass("is-hidden")},i.prototype.hasSeen=function(){var e=o.get(this.prefs);return e&&e.indexOf(this.id)>-1},i.prototype.remember=function(){var e=o.get(this.prefs)||[];e.push(this.id),o.set(this.prefs,r.uniq(e))},i.prototype.acknowledge=function(){this.remember(),this.hide()},i}.call(this,e("common/utils/$"),e("npm:bean@1.0.15"),e("common/utils/storage"),e("common/modules/user-prefs"),e("common/utils/_"))})}(),function(){function e(){}e.amd={},System.register("common/modules/commercial/create-ad-slot",["common/utils/_","common/utils/$","common/utils/config","common/utils/template","common/views/commercial/ad-slot.html!github:systemjs/plugin-text@0.0.2"],!1,function(e,t,n){return function(e,t,n,o,r){var i={right:{sizeMappings:{mobile:"1,1|300,250|300,600"+("US"===n.page.edition?"|300,1050":"")}},"right-sticky":{name:"right",sizeMappings:{mobile:"1,1|300,250|300,251|300,600"+("US"===n.page.edition?"|300,1050":"")}},"right-small":{name:"right",sizeMappings:{mobile:"1,1|300,250"}},im:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|88,85"}},inline1:{sizeMappings:{mobile:"1,1|300,50|300,250","mobile-landscape":"1,1|300,50|320,50|300,250",tablet:"1,1|300,250"}},inline2:{sizeMappings:{mobile:"1,1|300,50","mobile-landscape":"1,1|300,50|320,50",tablet:"1,1|300,250"}},inline3:{sizeMappings:{mobile:"1,1|300,50","mobile-landscape":"1,1|300,50|320,50",tablet:"1,1|300,250"}},"merchandising-high":{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|88,87"}},spbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},adbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},fobadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},comments:{sizeMappings:{mobile:"1,1|300,250"}}};return function(a,s,c,l,u){var p,d,m,f,h=u?u:a;d=h.match(/^inline-extra/)?i.inline1:i[h],n.page.hasPageSkin&&"merchandising-high"===h&&(d.sizeMappings.wide="1,1"),m={label:void 0!==d.label?d.label:!0,refresh:void 0!==d.refresh?d.refresh:!0},f=t.create(o(r,{name:d.name||a,normalisedName:(d.name||a).replace(/((?:ad|fo|sp)badge).*/,"$1"),types:s?e.map(e.isArray(s)?s:[s],function(e){return" ad-slot--"+e}).join(""):"",sizeMappings:e.map(e.pairs(d.sizeMappings),function(e){return" data-"+e[0]+'="'+e[1]+'"'}).join("")}));for(p in m)m[p]===!1&&f.attr("data-"+p,"false");return u&&f.attr("data-slot-target",u),c&&f.attr("data-series",c),l&&f.attr("data-keywords",l),f[0]}}.call(this,e("common/utils/_"),e("common/utils/$"),e("common/utils/config"),e("common/utils/template"),e("common/views/commercial/ad-slot.html!github:systemjs/plugin-text@0.0.2"))})}(),function(){function e(){}e.amd={},System.register("common/modules/commercial/ads/sticky-mpu",["npm:qwery@3.4.2","common/utils/$","common/utils/_","common/utils/config","common/modules/ui/sticky"],!1,function(e,t,n){return function(e,t,n,o,r){var i=275,a=function(e,t){this.$adSlot=e,this.opts=n.defaults(t||{},{top:0})};return a.prototype.create=function(){var n;"right"===this.$adSlot.data("name")&&(n=o.page.hasShowcaseMainPicture?t(".media-primary").dim().height:e(".content__article-body")[0].offsetTop,this.$adSlot.parent().css("height",n+i+"px"),new r(this.$adSlot[0],{top:this.opts.top}).init())},a}.call(this,e("npm:qwery@3.4.2"),e("common/utils/$"),e("common/utils/_"),e("common/utils/config"),e("common/modules/ui/sticky"))})}(),function(){function e(){}e.amd={},System.register("common/modules/commercial/user-ad-targeting",["common/utils/storage","common/utils/time","common/modules/identity/api"],!1,function(e,t,n){return function(e,t,n){function o(){if(e.local.isAvailable()){var t,o=e.local.get(i);if(o){if(t=n.getUserFromCookie(),t&&o.userHash===t.id%9999)return o.segments;e.local.remove(i)}}return[]}function r(){e.local.isAvailable()&&null===e.local.get(i)&&n.getUserFromCookie()&&n.getUserFromApi(function(n){if(n&&n.adData){var o,r=[];for(o in n.adData)r.push(o+n.adData[o]);e.local.set(i,{segments:r,userHash:n.id%9999},{expires:t.currentDate().getTime()+864e5})}})}var i="gu.ads.userSegmentsData";return{getUserSegments:o,requestUserSegmentsFromId:r}}.call(this,e("common/utils/storage"),e("common/utils/time"),e("common/modules/identity/api"))})}(),function(){function e(){}e.amd={},System.register("common/modules/onward/geo-most-popular",["github:guardian/native-promise-only@0.7.6-e","npm:qwery@3.4.2","common/utils/_","common/modules/component","common/utils/mediator"],!1,function(e,t,n){return function(e,t,n,o,r){function i(){r.emit("register:begin","geo-most-popular")}var a=new e(function(e,t){r.on("modules:onward:geo-most-popular:ready",e),r.on("modules:onward:geo-most-popular:error",t)});return o.define(i),i.prototype.endpoint="/most-read-geo.json",i.prototype.ready=function(){r.emit("register:end","geo-most-popular"),r.emit("modules:onward:geo-most-popular:ready",this)},i.prototype.error=function(e){r.emit("modules:onward:geo-most-popular:error",e)},{render:n.once(function(){return(new i).fetch(t(".js-components-container"),"rightHtml"),a}),whenRendered:a}}.call(this,e("github:guardian/native-promise-only@0.7.6-e"),e("npm:qwery@3.4.2"),e("common/utils/_"),e("common/modules/component"),e("common/utils/mediator"))})}(),function(){function e(){}e.amd={},window.matchMedia||(window.matchMedia=function(){"use strict";var e,t,n,o=window.styleMedia||window.media;return o||(e=document.createElement("style"),t=document.getElementsByTagName("script")[0],n=null,e.type="text/css",e.id="matchmediajs-test",t.parentNode.insertBefore(e,t),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,o={matchMedium:function(t){var o="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=o:e.textContent=o,"1px"===n.width}}),function(e){return{matches:o.matchMedium(e||"all"),media:e||"all"}}}()),System.register("common/utils/picturefill",["github:wilsonpage/fastdom@0.8.6"],!1,function(e,t,n){return function(e){return function(t,n,o){"use strict";function r(o){var r,s,c,l,u,p=o||{};r=p.elements||i.getAllElements,e.read(function(){i.viewportWidth=Math.max(t.innerWidth||0,n.documentElement.clientWidth);for(var e=0,o=r.length;o>e;e++)s=r[e],c=s.parentNode,l=void 0,u=void 0,"IMG"===s.nodeName.toUpperCase()&&(s[i.ns]||(s[i.ns]={}),(p.reevaluate||!s[i.ns].evaluated)&&(!i.sizesSupported&&s.srcset&&a.test(s.srcset)&&i.dodgeSrcset(s),l?(u=i.processSourceSet(l),i.applyBestCandidate(u,s)):(u=i.processSourceSet(s),(void 0===s.srcset||s[i.ns].srcset)&&i.applyBestCandidate(u,s)),s[i.ns].evaluated=!0))})}if(t.HTMLPictureElement)return function(){};var i=t.picturefill||{},a=/\s+\+?\d+(e\d+)?w/;return i.ns="picturefill",function(){i.srcsetSupported="srcset"in o,i.sizesSupported="sizes"in o,i.curSrcSupported="currentSrc"in o}(),i.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},i.makeUrl=function(){var e=n.createElement("a");return function(t){return e.href=t,e.href}}(),i.canMatchMedia=t.matchMedia&&t.matchMedia("(min-width: 0px)").matches,i.matchesMedia=function(e){return i.canMatchMedia?t.matchMedia&&t.matchMedia(e).matches:!0},i.getDpr=function(){return t.devicePixelRatio||1},i.getWidthFromLength=function(e){return e=e.replace("vw","%"),e=e.indexOf("%")>-1?i.viewportWidth*parseInt(e,10)*.01:parseInt(e,10)},i.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},i.findWidthFromSourceSize=function(e){var t,n,o,r,a,s,c,l=i.trim(e).split(/\s*,\s*/);for(n=0,o=l.length;o>n&&(r=l[n],a=i.parseSize(r),s=a.length,c=a.media,!s||c&&!i.matchesMedia(c)||!(t=i.getWidthFromLength(s)));n++);return t||i.viewportWidth},i.parseSrcset=function(e){for(var t,n,o,r,i,a=[];""!==e;)e=e.replace(/^\s+/g,""),t=e.search(/\s/g),o=null,-1!==t?(n=e.slice(0,t),r=n.slice(-1),(","===r||""===n)&&(n=n.replace(/,+$/,""),o=""),e=e.slice(t+1),null===o&&(i=e.indexOf(","),-1!==i?(o=e.slice(0,i),e=e.slice(i+1)):(o=e,e=""))):(n=e,e=""),(n||o)&&a.push({url:n,descriptor:o});return a},i.parseDescriptor=function(e,t){var n,o,r,a,s,c,l=t||"100vw",u=e&&e.replace(/(^\s+|\s+$)/g,""),p=i.findWidthFromSourceSize(l);if(u)for(o=u.split(" "),r=o.length-1;r>=0;r--)a=o[r],c=a&&a.slice(a.length-1),"h"!==c&&"w"!==c||i.sizesSupported?"x"===c&&(s=a&&parseFloat(a,10),n=s&&!isNaN(s)?s:1):n=parseFloat(parseInt(a,10)/p);return n||1},i.getCandidatesFromSourceSet=function(e,t){var n,o,r,a=i.parseSrcset(e),s=[];for(o=0,r=a.length;r>o;o++)n=a[o],s.push({url:n.url,resolution:i.parseDescriptor(n.descriptor,t)});return s},i.dodgeSrcset=function(e){e.srcset&&(e[i.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[i.ns].srcset))},i.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),o=[];return"IMG"===e.nodeName.toUpperCase()&&e[i.ns]&&e[i.ns].srcset&&(t=e[i.ns].srcset),t&&(o=i.getCandidatesFromSourceSet(t,n)),o},i.applyBestCandidate=function(t,n){var o,r,a,s;for(t.sort(i.ascendingSort),r=t.length,a=t[r-1],s=0;r>s;s++)if(o=t[s],o.resolution>=i.getDpr()){a=o;break}a&&(a.url=i.makeUrl(a.url),n.src!==a.url&&e.write(function(){n.src=a.url,i.curSrcSupported||(n.currentSrc=n.src)}))},i.ascendingSort=function(e,t){return e.resolution-t.resolution},i.getAllElements=function(){var e,t,o,r=[],a=n.getElementsByTagName("img");for(t=0,o=a.length;o>t;t++)e=a[t],("PICTURE"===e.parentNode.nodeName.toUpperCase()||null!==e.getAttribute("srcset")||e[i.ns]&&null!==e[i.ns].srcset)&&r.push(e);return r},r._=i,r}(window,window.document,new window.Image)}.call(this,e("github:wilsonpage/fastdom@0.8.6"))})}(),System.register("github:jspm/nodelibs-process@0.1.1/index",["npm:process@0.10.1"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports=System._nodeRequire?process:require("npm:process@0.10.1"),n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("common/utils/$",["npm:bonzo@1.4.0","npm:qwery@3.4.2","common/utils/_"],!1,function(e,t,n){return function(e,t,n){function o(n,o){return e(t(n,o))}return o.create=function(t){return e(e.create(t))},o.ancestor=function(t,n){return"html"===t.nodeName.toLowerCase()?!1:!t.parentNode||e(t.parentNode).hasClass(n)?t.parentNode:o.ancestor(t.parentNode,n)},o.forEachElement=function(e,o){var r=t(e);return n.forEach(r,o),r},o}.call(this,e("npm:bonzo@1.4.0"),e("npm:qwery@3.4.2"),e("common/utils/_"))})}(),function(){function e(){}e.amd={},System.register("common/utils/mediator",["github:Wolfy87/EventEmitter@4.2.11"],!1,function(e,t,n){return function(e){return new e}.call(this,e("github:Wolfy87/EventEmitter@4.2.11"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/liveblog-notifications",["common/utils/config","common/utils/$","common/utils/template","github:wilsonpage/fastdom@0.8.6","common/views/ui/notifications-subcribe-link.html!github:systemjs/plugin-text@0.0.2","common/utils/cookies","npm:bean@1.0.15","common/views/svgs"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s){return function(){this.id="LiveblogNotifications",this.start="2015-05-27",this.expiry="2015-08-01",this.author="Oliver Ash",this.description="Liveblog notifications",this.audience=0,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){return!0},this.variants=[{id:"control",test:function(){}},{id:"a",test:function(){var e=i.get("notifications-demo-following"),c=n(r,{className:e?"":"notifications--disabled",url:window.location,text:e?"Following story":"Follow story",imgMobile:s("notificationsExplainerMobile",["mobile-only","notification-explainer"]),imgDesktop:s("notificationsExplainerDesktop",["hide-on-mobile","notification-explainer"]),arrow:s("arrowWhiteRight")});o.write(function(){t(".js-liveblog-body").prepend(c)}),a.on(document.body,"click",".js-notifications-subscribe-link",function(){i.add("notifications-demo-following","true",100)})}}]}}.call(this,e("common/utils/config"),e("common/utils/$"),e("common/utils/template"),e("github:wilsonpage/fastdom@0.8.6"),e("common/views/ui/notifications-subcribe-link.html!github:systemjs/plugin-text@0.0.2"),e("common/utils/cookies"),e("npm:bean@1.0.15"),e("common/views/svgs"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/save-for-later",["npm:bonzo@1.4.0","npm:qwery@3.4.2","github:wilsonpage/fastdom@0.8.6","common/utils/detect","common/utils/config","common/utils/mediator","common/utils/template","common/modules/identity/api","common/modules/save-for-later","common/views/identity/saved-for-later-profile-link.html!github:systemjs/plugin-text@0.0.2"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s,c,l){return function(){this.id="SaveForLater",this.start="2015-04-09",this.expiry="2015-07-09",this.author="Nathaniel Bennett",this.description="Internal test of save for later functionality",this.audience=0,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="Interal only - we opt in",this.dataLinkNames="",this.idealOutcome="",this.showForSensitive=!1,this.canRun=function(){return s.isUserLoggedIn()},this.variants=[{id:"variant",test:function(){i.on("module:identity:api:loaded",function(){var e=new c;e.init()}),i.on("modules:profilenav:loaded",function(){var o=t(".popup--profile")[0];n.write(function(){e(o).prepend(e.create(a(l.replace(/^\s+|\s+$/gm,""),{idUrl:r.page.idUrl})))})})}}]}}.call(this,e("npm:bonzo@1.4.0"),e("npm:qwery@3.4.2"),e("github:wilsonpage/fastdom@0.8.6"),e("common/utils/detect"),e("common/utils/config"),e("common/utils/mediator"),e("common/utils/template"),e("common/modules/identity/api"),e("common/modules/save-for-later"),e("common/views/identity/saved-for-later-profile-link.html!github:systemjs/plugin-text@0.0.2"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/tests/membership-message",["common/utils/config","common/utils/detect","common/utils/storage","common/utils/template","common/modules/identity/api","common/modules/ui/message","common/views/membership-message.html!github:systemjs/plugin-text@0.0.2"],!1,function(e,t,n){return function(e,t,n,o,r,i,a){return function(){this.id="MembershipMessage",this.start="2015-06-17",this.expiry="2015-06-26",this.author="David Rapson",this.description="Test if loyal users are encouraged to join Membership as a Supporter",this.audience=1,this.audienceOffset=0,this.successMeasure="Loyal users will be interested in becoming a Supporter",this.audienceCriteria="Users who have seen at least 10 pages, message shown only on article pages",this.dataLinkNames="supporter message, hide, read more",this.idealOutcome="Users will sign up as a Supporter",this.canRun=function(){var o=n.local.get("alreadyVisited")||0;return!t.adblockInUse&&"Article"===e.page.contentType&&o>9},this.variants=[{id:"A",test:function(){new i("membership-message",{pinOnHide:!1,siteMessageLinkName:"membership message",siteMessageCloseBtn:"hide"}).show(o(a,{supporterLink:"https://membership.theguardian.com/about/supporter?INTCMP=MEMBERSHIP_SUBSCRIBER_LOYALTY_BANNER",messageText:"Become a Guardian Member and support fearless investigative journalism",linkText:"Become a supporter"}))}}]}}.call(this,e("common/utils/config"),e("common/utils/detect"),e("common/utils/storage"),e("common/utils/template"),e("common/modules/identity/api"),e("common/modules/ui/message"),e("common/views/membership-message.html!github:systemjs/plugin-text@0.0.2"))})}(),function(){function e(){}e.amd={},System.register("common/modules/commercial/build-page-targeting",["common/utils/_","common/utils/config","common/utils/cookies","common/utils/detect","common/modules/commercial/third-party-tags/audience-science-gateway","common/modules/commercial/third-party-tags/krux","common/modules/commercial/user-ad-targeting","common/modules/experiments/ab"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s){var c=function(e){return e.replace(/[+\s]+/g,"-").toLowerCase()},l=function(e){return e?c(e).replace(/&/g,"and").replace(/'/g,""):null},u=function(e){if(e.seriesId)return p(e.seriesId);var t=/\/series\/(.+)$/.exec(e.pageId);return null===t?"":t[1]},p=function(e){return e?c(e.split("/").pop()):null},d=function(t){return t?e.compact(e.map(t.split(","),function(e){return p(e)})):null},m=function(){var n=[],o=s.getParticipations();return e.forIn(o,function(e,t){e.variant&&"notintest"!==e.variant&&n.push(t+"-"+e.variant.substring(0,1))}),e.forIn(e.keys(t.tests),function(e){e.toLowerCase().match(/^cm/)&&n.push(e)}),n},f=function(){if(n.get("adtest")){var e=n.get("adtest"),t=e.substring(0,4);return"demo"===t&&n.remove("adtest"),e}};return function(n){var s=(n||{}).window||window,c=(n||{}).viewId,h=t.page,g=l(h.contentType),v=e.merge({url:s.location.pathname,edition:h.edition&&h.edition.toLowerCase(),se:u(h),ct:g,p:"ng",k:h.keywordIds?d(h.keywordIds):p(h.pageId),x:i.getSegments(),su:h.isSurging,pv:c,bp:o.getBreakpoint(),at:f(),gdncrm:a.getUserSegments(),ab:m(),co:d(h.authorIds),bl:d(h.blogIds),ms:l(h.source),tn:e.uniq(e.compact([h.sponsorshipType].concat(d(h.tones)))),vl:"Video"===h.contentType?(30*Math.ceil(h.videoDuration/30)).toString():void 0},r.getSegments());return e.pick(v,function(t){return e.isArray(t)?t.length>0:t})}}.call(this,e("common/utils/_"),e("common/utils/config"),e("common/utils/cookies"),e("common/utils/detect"),e("common/modules/commercial/third-party-tags/audience-science-gateway"),e("common/modules/commercial/third-party-tags/krux"),e("common/modules/commercial/user-ad-targeting"),e("common/modules/experiments/ab"))})}(),System.register("github:jspm/nodelibs-process@0.1.1",["github:jspm/nodelibs-process@0.1.1/index"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,t.exports=require("github:jspm/nodelibs-process@0.1.1/index"),n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("common/utils/detect",["common/utils/_","common/utils/mediator","common/utils/$"],!1,function(e,t,n){return function(e,t,n){function o(e){var t=C(e);return function(n){var o=C(e);o!==t&&(n(o,t),t=o)}}function r(e){var t,n,o,r=e||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return r&&r.timing&&(t=r.timing.requestStart||r.timing.fetchStart||r.timing.navigationStart,n=r.timing.responseEnd,t&&n&&(o=n-t)),o}function i(){var e=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return e&&e.navigation?e.navigation.type===e.navigation.TYPE_RELOAD:!1}function a(){return/(iPad|iPhone|iPod touch)/i.test(navigator.userAgent)}function s(){return/Android/i.test(navigator.userAgent)}function c(){return navigator.mozApps&&!window.locationbar.visible}function l(){return navigator.userAgent.indexOf("FBAN/")>-1}function u(){return navigator.userAgent.indexOf("Twitter for iPhone")>-1}function p(){return/\.t\.co/.test(document.referrer)}function d(){return/\.facebook\.com/.test(document.referrer)}function m(){var e=/socialContext=(facebook|twitter)/.exec(window.location.hash);return null!==e?e[1]:l()||d()?"facebook":u()||p()?"twitter":null}function f(e,t,n){t=t||navigator.connection||navigator.mozConnection||navigator.webkitConnection||{
type:"unknown"};var o,i,a=3===t.type||4===t.type||/^[23]g$/.test(t.type);return a?"low":(o=r(e),i="high",n&&(i="unknown"),o&&o>1e3&&(i="medium",o>3e3&&(i="low")),i)}function h(e){e=e.toLowerCase();var t,n=!1,o=/Chrome\/([0-9]+)/i;return o.test(e)&&(t=parseInt(o.exec(e)[1],10),t>=36&&(n=!0)),n?"woff2":e.indexOf("android")>-1?"ttf":"woff"}function g(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function v(){return void 0!==O?O:(window.history&&history.pushState&&(O=!0,window.navigator.userAgent.match(/Android/i)&&(O=!!window.navigator.userAgent.match(/(Chrome|Firefox)/i))),O)}function b(){var e=document.createElement("video"),t={};try{e.canPlayType&&(t.mp4=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return t}function y(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function E(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||o.clientWidth,height:e.innerHeight||n.clientHeight||o.clientHeight}}function w(e,t){var n,o=[],r=e.length;for(n=0;r>n&&t(e[n]);n++)o.push(e[n]);return o}function C(t){var n,o=T.getViewport().width,r=e.last(w(j,function(e){return e.width<=o})).name;return t||(n=e.findIndex(j,function(e){return e.name===r}),r=e(j).first(n+1).findLast(function(e){return!e.isTweakpoint}).valueOf().name),r}function _(t){var n=e.defaults(t,{min:e.first(j).name,max:e.last(j).name}),o=C(!0);return e(j).rest(function(e){return e.name!==n.min}).initial(function(e){return e.name!==n.max}).pluck("name").contains(o)}function x(){function e(e){var o="visible",r="hidden",i={focus:o,focusin:o,pageshow:o,blur:r,focusout:r,pagehide:r};e=e||window.event,I=e.type in i?i[e.type]:this[n]?"hidden":"visible",t.emit("modules:detect:pagevisibility:"+I)}var n="hidden";n in document?document.addEventListener("visibilitychange",e):(n="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(n="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(n="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e}function k(){return"visible"===I}function S(){return"WebSocket"in window}function N(){var e,t=navigator.userAgent,n=/Windows NT (\d\.\d+)/.exec(t),o="Off";return n&&(e=parseFloat(n[1],10),e>=5.1&&6.1>=e&&(o=/Chrome/.exec(t)&&6>e?"Auto":"Cleartype")),o}function D(){return window.guardian.isModernBrowser}function R(){var e="",t=!1,o="",r=-1;return n.create('<div class="ad_unit"></div>').appendTo(document.body),e=n(".ad_unit").css("display"),o=n(".ad_unit").css("-moz-binding"),"undefined"!=typeof o&&(r=n(".ad_unit").css("-moz-binding").indexOf("elemhidehit")),n(".ad_unit").remove(),("none"===e||"undefined"!=typeof o&&-1!==r)&&(t=!0),t}var O,M,T,I=document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState||"visible",j=[{name:"mobile",isTweakpoint:!1,width:0},{name:"mobileLandscape",isTweakpoint:!0,width:480},{name:"phablet",isTweakpoint:!0,width:660},{name:"tablet",isTweakpoint:!1,width:740},{name:"desktop",isTweakpoint:!1,width:980},{name:"leftCol",isTweakpoint:!0,width:1140},{name:"wide",isTweakpoint:!1,width:1300}];return M=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\bOPR\/(\d+)/),null!==e)?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{browser:n[0],version:n[1]})}(),T={hasCrossedBreakpoint:o,getConnectionSpeed:f,getFontFormatSupport:h,getVideoFormatSupport:b,hasTouchScreen:g,hasPushStateSupport:v,getOrientation:y,getBreakpoint:C,getViewport:E,getUserAgent:M,isIOS:a,isAndroid:s,isFireFoxOSApp:c,isFacebookApp:l,isTwitterApp:u,isFacebookReferral:d,isTwitterReferral:p,socialContext:m,isBreakpoint:_,isReload:i,initPageVisibility:x,pageVisible:k,hasWebSocket:S,getPageSpeed:r,breakpoints:j,fontHinting:N(),isModernBrowser:D,adblockInUse:R()}}.call(this,e("common/utils/_"),e("common/utils/mediator"),e("common/utils/$"))})}(),function(){function e(){}e.amd={},System.register("common/modules/experiments/ab",["github:getsentry/raven-js@1.1.18","common/utils/_","common/utils/config","common/utils/cookies","common/utils/mediator","common/utils/storage","common/modules/analytics/mvt-cookie","common/modules/experiments/tests/facebook-most-viewed","common/modules/experiments/tests/twitter-most-viewed","common/modules/experiments/tests/liveblog-notifications","common/modules/experiments/tests/high-commercial-component","common/modules/experiments/tests/mt-rec1","common/modules/experiments/tests/mt-rec2","common/modules/experiments/tests/save-for-later","common/modules/experiments/tests/cookie-refresh","common/modules/experiments/headlines","common/modules/experiments/tests/membership-message"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s,c,l,u,p,d,m,f,h,g){function v(){return i.local.get(P)||{}}function b(e){var t=v();return t[e.id]}function y(e,t){var n=v();n[e.id]={variant:t},i.local.set(P,n)}function E(e){var t=v();delete t[e.id],i.local.set(P,t)}function w(){var e=v();t.forEach(t.keys(e),function(e){if("undefined"==typeof n.switches["ab"+e])E({id:e});else{var o=t.some(j,function(t){return t.id===e});o||E({id:e})}})}function C(){return t.filter(j,function(e){var t=new Date-new Date(e.expiry)>0;return t?(E(e),!1):!0})}function _(){return t.filter(j,function(e){return new Date-new Date(e.expiry)>0})}function x(e){var t=new Date-new Date(e.expiry)>0,o=n.page.shouldHideAdverts;return(o?e.showForSensitive:!0)&&e.canRun()&&!t&&R(e)}function k(e){var n=t.filter(j,function(t){return t.id===e});return n?n[0]:""}function S(){var e,r=v(),i=[];return t.forEach(t.keys(r),function(e){x(k(e))&&i.push(["AB",e,r[e].variant].join(" | "))}),t.forEach(t.keys(n.tests),function(e){e.toLowerCase().match(/^cm/)&&i.push(["AB",e,"variant"].join(" | "))}),n.tests.internationalEditionVariant&&(i.push(["AB","InternationalEditionTest",n.tests.internationalEditionVariant].join(" | ")),e=o.get("GU_EDITION"),e&&i.push(["AB","InternationalEditionPreference",e].join(" | "))),i.join(",")}function N(e){if(b(e)&&x(e)){var t=v(),n=t[e.id].variant,o=I(e,n);o?o.test():"notintest"===n&&e.notInTest&&e.notInTest()}}function D(e){if(x(e)&&!b(e)){var n,o,r=a.getMvtNumValues()*e.audienceOffset,i=r+a.getMvtNumValues()*e.audience,s=a.getMvtValue();s>=r&&i>s?(n=t.map(e.variants,function(e){return e.id}),o=s%n.length,y(e,n[o])):y(e,"notintest")}}function R(e){return n.switches["ab"+e.id]}function O(e){var t=v()[e];return t&&t.variant}function M(e,t){var n=v();n[e]&&(n[e].variant=t,i.local.set(P,n))}function T(e,t){var n=k(e);return n&&b(n)&&A.getTestVariantId(e)===t&&x(n)}function I(e,n){return t.find(e.variants,function(e){return e.id===n})}var j=t.flatten([new s,new c,new l,new u,new p,new d,new m,new f,new g,t.map(t.range(1,10),function(e){return new h(e)})]),P="gu.ab.participations",A={addTest:function(e){j.push(e)},clearTests:function(){j=[]},segment:function(){t.forEach(C(),function(e){D(e)})},forceSegment:function(e,n){t(C()).filter(function(t){return t.id===e}).forEach(function(e){y(e,n)}).valueOf()},segmentUser:function(){var e,t=/^#ab/.test(window.location.hash);t?(e=window.location.hash.replace("#ab-","").split(","),e.forEach(function(e){var t,n,o;t=e.split("="),n=t[0],o=t[1],A.forceSegment(n,o)})):A.segment(),w()},run:function(){t.forEach(C(),function(e){N(e)})},isEventApplicableToAnActiveTest:function(e){var n=t.keys(v());return t.some(n,function(n){var o=k(n).events;return t.some(o,function(t){return 0===e.indexOf(t)})})},getActiveTestsEventIsApplicableTo:function(e){function n(e,t){return 0===e.indexOf(t)}var o=e.tag;return o&&t(C()).filter(function(e){var r=e.events;return r&&t.some(r,function(e){return n(o,e)})}).map(function(e){return e.id}).valueOf()},getAbLoggableObject:function(){var n={};try{t.forEach(C(),function(e){if(b(e)&&x(e)){var t=O(e.id);t&&"notintest"!==t&&(n["ab"+e.id]=t)}})}catch(o){n={},e.captureException(o)}return n},getParticipations:v,isParticipating:b,getTest:k,makeOmnitureTag:S,getExpiredTests:_,getActiveTests:C,getTestVariantId:O,setTestVariant:M,getVariant:I,testCanBeRun:function(e){return"string"==typeof e?x(t.find(j,function(t){return t.id===e})):e.id&&e.expiry&&x(e)},shouldRunTest:T,reset:function(){j=[]}};return A}.call(this,e("github:getsentry/raven-js@1.1.18"),e("common/utils/_"),e("common/utils/config"),e("common/utils/cookies"),e("common/utils/mediator"),e("common/utils/storage"),e("common/modules/analytics/mvt-cookie"),e("common/modules/experiments/tests/facebook-most-viewed"),e("common/modules/experiments/tests/twitter-most-viewed"),e("common/modules/experiments/tests/liveblog-notifications"),e("common/modules/experiments/tests/high-commercial-component"),e("common/modules/experiments/tests/mt-rec1"),e("common/modules/experiments/tests/mt-rec2"),e("common/modules/experiments/tests/save-for-later"),e("common/modules/experiments/tests/cookie-refresh"),e("common/modules/experiments/headlines"),e("common/modules/experiments/tests/membership-message"))})}(),function(){function define(){}define.amd={},System.register("common/modules/commercial/dfp",["npm:bean@1.0.15","npm:bonzo@1.4.0","github:wilsonpage/fastdom@0.8.6","npm:qwery@3.4.2","github:getsentry/raven-js@1.1.18","common/utils/$","common/utils/$css","common/utils/_","common/utils/config","common/utils/detect","common/utils/mediator","common/utils/url","common/utils/user-timing","common/modules/commercial/ads/sticky-mpu","common/modules/commercial/build-page-targeting","common/modules/onward/geo-most-popular","common/modules/experiments/ab","common/modules/analytics/beacon"],!1,function(__require,__exports,__module){return function(bean,bonzo,fastdom,qwery,raven,$,$css,_,config,detect,mediator,urlUtils,userTiming,StickyMpu,buildPageTargeting,geoMostPopular,ab,beacon){var resizeTimeout,adSlotSelector=".js-ad-slot",displayed=!1,rendered=!1,slots={},slotsToRefresh=[],hasBreakpointChanged=detect.hasCrossedBreakpoint(!0),breakoutClasses=["breakout__html","breakout__script"],callbacks={"300,251":function(e,t){new StickyMpu(t).create()},"300,250":function(e,t){isMtRecTest()&&t.hasClass("ad-slot--right")&&t.attr("data-mobile").indexOf("300,251")>-1&&new StickyMpu(t,{top:58}).create()},"1,1":function(e,t){if(!e.slot.getOutOfPage()){t.addClass("u-h");var n=t.parent();n.hasClass("js-fc-slice-mpu-candidate")&&n.addClass("fc-slice__item--no-mpu")}},"300,1050":function(){geoMostPopular.whenRendered.then(function(e){fastdom.write(function(){bonzo(e.elem).remove()})})}},isMtRecTest=function(){var e=ab.getParticipations().MtRec1,t=ab.getParticipations().MtRec2;return ab.testCanBeRun("MtRec1")&&e&&"A"===e.variant||ab.testCanBeRun("MtRec2")&&t&&"A"===t.variant},recordFirstAdRendered=_.once(function(){beacon.beaconCounts("ad-render")}),setListeners=function(){googletag.pubads().addEventListener("slotRenderEnded",raven.wrap(function(e){rendered=!0,recordFirstAdRendered(),mediator.emit("modules:commercial:dfp:rendered",e),parseAd(e)}))},setPageTargeting=function(){config.switches.ophan&&config.switches.ophanViewId?require(["ophan/ng"],function(e){var t=(e||{}).viewId;setTarget({viewId:t})},function(e){raven.captureException(new Error("Error retrieving ophan ("+e+")"),{tags:{feature:"DFP"}}),setTarget()}):setTarget()},setTarget=function(e){_.forOwn(buildPageTargeting(e),function(e,t){googletag.pubads().setTargeting(t,e)})},defineSlots=function(){slots=_(qwery(adSlotSelector)).map(function(e){return bonzo(e)}).filter(function(e){return"none"===$css(e,"display")?(fastdom.write(function(){e.remove()}),!1):!0}).map(function(e){return[e.attr("id"),{isRendered:!1,slot:defineSlot(e)}]}).zipObject().valueOf()},displayAds=function(){googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.display(_.keys(slots).shift()),displayed=!0},displayLazyAds=function(){googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),mediator.on("window:scroll",_.throttle(lazyLoad,10)),lazyLoad()},windowResize=_.debounce(function(){hasBreakpointChanged(refresh)},resizeTimeout),postDisplay=function(){mediator.on("window:resize",windowResize)},isLzAdsSwitchOn=function(){return config.switches.lzAds},init=function(e){var t=_.defaults(e||{},{resizeTimeout:2e3});return resizeTimeout=t.resizeTimeout,window.googletag||(window.googletag={cmd:[]},require(["js!googletag"])),window.googletag.cmd.push=raven.wrap({deep:!0},window.googletag.cmd.push),window.googletag.cmd.push(setListeners),window.googletag.cmd.push(setPageTargeting),window.googletag.cmd.push(defineSlots),isMtRecTest()||isLzAdsSwitchOn()?window.googletag.cmd.push(displayLazyAds):window.googletag.cmd.push(displayAds),window.googletag.cmd.push(postDisplay),dfp},lazyLoad=function(){0===slots.length?mediator.off("window:scroll"):fastdom.read(function(){var e=bonzo(document.body).scrollTop(),t=e+bonzo.viewport().height,n=.5;_(slots).keys().forEach(function(o){(t>document.getElementById(o).getBoundingClientRect().top+e-bonzo.viewport().height*n||"dfp-ad--pageskin-inread"===o)&&(googletag.display(o),slots=_(slots).omit(o).value(),displayed=!0)})})},addSlot=function(e){var t=e.attr("id"),n=function(e){slots[t]={isRendered:!1,slot:defineSlot(e)},googletag.display(t)};displayed&&!slots[t]&&(rendered?n(e):mediator.once("modules:commercial:dfp:rendered",function(){n(e)}))},refreshSlot=function(e){var t=slots[e.attr("id")].slot;t&&googletag.pubads().refresh([t])},getSlots=function(){return slots},defineSlot=function(e){var t=e.data("slot-target")||e.data("name"),n=urlUtils.getUrlVars()["ad-unit"],o=n?["/",config.page.dfpAccountId,"/",n].join(""):config.page.adUnit,r=e.attr("id"),i=defineSlotSizes(e),a=_.uniq(_.flatten(i,!0,function(e){return e[1]}),function(e){return e[0]+"-"+e[1]}),s=(e.data("out-of-page")?googletag.defineOutOfPageSlot(o,r):googletag.defineSlot(o,a,r)).addService(googletag.pubads()).defineSizeMapping(i).setTargeting("slot",t);return e.data("series")&&s.setTargeting("se",parseKeywords(e.data("series"))),e.data("keywords")&&s.setTargeting("k",parseKeywords(e.data("keywords"))),e.data("refresh")!==!1&&slotsToRefresh.push({$adSlot:e,slot:s}),s},parseAd=function(e){var t,n,o,r=e.slot.getSlotId().getDomId(),i=$("#"+r);allAdsRendered(r),e.isEmpty?removeLabel(i):(n=$(".ad-slot__content--placeholder",i),o=$("#"+r+" div"),fastdom.write(function(){n.remove(),o.addClass("ad-slot__content")}),checkForBreakout(i),addLabel(i),t=e.size.join(","),callbacks[t]&&callbacks[t](e,i),i.hasClass("ad-slot--container-inline")&&i.hasClass("ad-slot--not-mobile")?fastdom.write(function(){i.parent().css("display","flex")}):i.hasClass("ad-slot--top-above-nav")&&"1,1"===t||fastdom.write(function(){i.parent().css("display","block")}),(i.hasClass("ad-slot--top-banner-ad")&&"88,70"===t||i.hasClass("ad-slot--commercial-component")&&"88,88"===t)&&fastdom.write(function(){i.addClass("ad-slot__fluid250")}))},allAdsRendered=function(e){slots[e]&&!slots[e].isRendered&&(slots[e].isRendered=!0),_.every(slots,"isRendered")&&(userTiming.mark("All ads are rendered"),mediator.emit("modules:commercial:dfp:alladsrendered"))},addLabel=function(e){fastdom.write(function(){shouldRenderLabel(e)&&e.prepend('<div class="ad-slot__label" data-test-id="ad-slot-label">Advertisement</div>')})},removeLabel=function(e){fastdom.write(function(){$(".ad-slot__label",e).remove()})},shouldRenderLabel=function(e){return e.data("label")!==!1&&0===qwery(".ad-slot__label",e[0]).length},breakoutIFrame=function(iFrame,$slot){var shouldRemoveIFrame=!1,$iFrame=bonzo(iFrame),iFrameBody=iFrame.contentDocument.body,$iFrameParent=$iFrame.parent();iFrameBody&&_.forEach(breakoutClasses,function(breakoutClass){$("."+breakoutClass,iFrameBody).each(function(breakoutEl){var creativeConfig,$breakoutEl=bonzo(breakoutEl),breakoutContent=$breakoutEl.html();"breakout__script"===breakoutClass?"application/json"===$breakoutEl.attr("type")?(creativeConfig=JSON.parse(breakoutContent),require(["bootstraps/creatives"],function(){require(["common/modules/commercial/creatives/"+creativeConfig.name],function(e){new e($slot,creativeConfig.params,creativeConfig.opts).create()})})):eval(breakoutContent):(fastdom.write(function(){$iFrameParent.append(breakoutContent),$breakoutEl.remove()}),$(".ad--responsive",$iFrameParent[0]).each(function(e){window.setTimeout(function(){fastdom.write(function(){bonzo(e).addClass("ad--responsive--open")})},50)})),shouldRemoveIFrame=!0})}),shouldRemoveIFrame&&fastdom.write(function(){$iFrame.hide()})},checkForBreakout=function(e){$("iframe",e).each(function(t){t.readyState&&"complete"!==t.readyState?bean.on(t,"readystatechange",function(t){var n=t.srcElement;n&&"unknown"!=typeof n.readyState&&"complete"===n.readyState&&(breakoutIFrame(n,e),bean.off(n,"readystatechange"))}):breakoutIFrame(t,e)})},breakpointNameToAttribute=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},getSlotsBreakpoint=function(e,t){return _(detect.breakpoints).initial(function(t){return t.name!==e}).intersection(t).last()},shouldSlotRefresh=function(e,t,n){var o=_(detect.breakpoints).filter(function(t){return e.$adSlot.data(breakpointNameToAttribute(t.name))}).valueOf(),r=getSlotsBreakpoint(t,o);return r&&getSlotsBreakpoint(n,o)!==r},refresh=function(e,t){googletag.pubads().refresh(_(slotsToRefresh).filter(function(n){return shouldSlotRefresh(n,e,t)}).map(function(e){return e.slot}).valueOf())},createSizeMapping=function(e){return _.map(e.split("|"),function(e){return _.map(e.split(","),Number)})},defineSlotSizes=function(e){var t=googletag.sizeMapping();return _.forEach(detect.breakpoints,function(n){var o=e.data(breakpointNameToAttribute(n.name));o&&t.addSize([n.width,0],createSizeMapping(o))}),t.build()},parseKeywords=function(e){return _.map((e||"").split(","),function(e){return e.split("/").pop()})},dfp={init:init,addSlot:addSlot,refreshSlot:refreshSlot,getSlots:getSlots,reset:function(){displayed=!1,rendered=!1,slots={},slotsToRefresh=[],mediator.off("window:resize",windowResize),hasBreakpointChanged=detect.hasCrossedBreakpoint(!0)}};return dfp}.call(this,__require("npm:bean@1.0.15"),__require("npm:bonzo@1.4.0"),__require("github:wilsonpage/fastdom@0.8.6"),__require("npm:qwery@3.4.2"),__require("github:getsentry/raven-js@1.1.18"),__require("common/utils/$"),__require("common/utils/$css"),__require("common/utils/_"),__require("common/utils/config"),__require("common/utils/detect"),__require("common/utils/mediator"),__require("common/utils/url"),__require("common/utils/user-timing"),__require("common/modules/commercial/ads/sticky-mpu"),__require("common/modules/commercial/build-page-targeting"),__require("common/modules/onward/geo-most-popular"),__require("common/modules/experiments/ab"),__require("common/modules/analytics/beacon"))})}(),System.register("npm:lodash@2.4.1/dist/lodash.compat",["github:jspm/nodelibs-process@0.1.1"],!0,function(require,e,t){var n=System.global,o=n.define;return n.define=void 0,function(o){(function(){function o(e,t,n){for(var o=(n||0)-1,r=e?e.length:0;++o<r;)if(e[o]===t)return o;return-1}function r(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:C+t;return e=(e=e[n])&&e[r],"object"==n?e&&o(e,t)>-1?0:-1:e?0:-1}function i(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var o="number"==n?e:C+e,r=t[n]||(t[n]={});"object"==n?(r[o]||(r[o]=[])).push(e):r[o]=!0}}function a(e){return e.charCodeAt(0)}function s(e,t){for(var n=e.criteria,o=t.criteria,r=-1,i=n.length;++r<i;){var a=n[r],s=o[r];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return e.index-t.index}function c(e){var t=-1,n=e.length,o=e[0],r=e[n/2|0],a=e[n-1];if(o&&"object"==typeof o&&r&&"object"==typeof r&&a&&"object"==typeof a)return!1;var s=p();s["false"]=s["null"]=s["true"]=s.undefined=!1;var c=p();for(c.array=e,c.cache=s,c.push=i;++t<n;)c.push(e[t]);return c}function l(e){return"\\"+ne[e]}function u(){return b.pop()||[]}function p(){return y.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function d(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function m(e){e.length=0,b.length<x&&b.push(e)}function f(e){var t=e.cache;t&&f(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,y.length<x&&y.push(e)}function h(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var o=-1,r=n-t||0,i=Array(0>r?0:r);++o<r;)i[o]=e[t+o];return i}function g(e){function t(e){return e&&"object"==typeof e&&!po(e)&&qn.call(e,"__wrapped__")?e:new n(e)}function n(e,t){this.__chain__=!!t,this.__wrapped__=e}function i(e){function t(){if(o){var e=h(o);$n.apply(e,arguments)}if(this instanceof t){var i=y(n.prototype),a=n.apply(i,e||arguments);return Le(a)?a:i}return n.apply(r,e||arguments)}var n=e[0],o=e[2],r=e[4];return uo(t,e),t}function b(e,t,n,o,r){if(n){var i=n(e);if("undefined"!=typeof i)return i}var a=Le(e);if(!a)return e;var s=Ln.call(e);if(!X[s]||!co.nodeClass&&d(e))return e;var c=ao[s];switch(s){case z:case q:return new c(+e);case G:case Q:return new c(e);case Y:return i=c(e.source,M.exec(e)),i.lastIndex=e.lastIndex,i}var l=po(e);if(t){var p=!o;o||(o=u()),r||(r=u());for(var f=o.length;f--;)if(o[f]==e)return r[f];i=l?c(e.length):{}}else i=l?h(e):_o({},e);return l&&(qn.call(e,"index")&&(i.index=e.index),qn.call(e,"input")&&(i.input=e.input)),t?(o.push(e),r.push(i),(l?Co:So)(e,function(e,a){i[a]=b(e,t,n,o,r)}),p&&(m(o),m(r)),i):i}function y(e,t){return Le(e)?Xn(e):{}}function x(e,t,n){if("function"!=typeof e)return rn;if("undefined"==typeof t||!("prototype"in e))return e;var o=e.__bindData__;if("undefined"==typeof o&&(co.funcNames&&(o=!e.name),o=o||!co.funcDecomp,!o)){var r=Hn.call(e);co.funcNames||(o=!T.test(r)),o||(o=A.test(r),uo(e,o))}if(o===!1||o!==!0&&1&o[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)};case 4:return function(n,o,r,i){return e.call(t,n,o,r,i)}}return Bt(e,t)}function ne(e){function t(){var e=c?a:this;if(r){var m=h(r);$n.apply(m,arguments)}if((i||u)&&(m||(m=h(arguments)),i&&$n.apply(m,i),u&&m.length<s))return o|=16,ne([n,p?o:-4&o,m,null,a,s]);if(m||(m=arguments),l&&(n=e[d]),this instanceof t){e=y(n.prototype);var f=n.apply(e,m);return Le(f)?f:e}return n.apply(e,m)}var n=e[0],o=e[1],r=e[2],i=e[3],a=e[4],s=e[5],c=1&o,l=2&o,u=4&o,p=8&o,d=n;return uo(t,e),t}function re(e,t){var n=-1,i=he(),a=e?e.length:0,s=a>=_&&i===o,l=[];if(s){var u=c(t);u?(i=r,t=u):s=!1}for(;++n<a;){var p=e[n];i(t,p)<0&&l.push(p)}return s&&f(t),l}function ie(e,t,n,o){for(var r=(o||0)-1,i=e?e.length:0,a=[];++r<i;){var s=e[r];if(s&&"object"==typeof s&&"number"==typeof s.length&&(po(s)||ye(s))){t||(s=ie(s,t,n));var c=-1,l=s.length,u=a.length;for(a.length+=l;++c<l;)a[u++]=s[c]}else n||a.push(s)}return a}function ae(e,t,n,o,r,i){if(n){var a=n(e,t);if("undefined"!=typeof a)return!!a}if(e===t)return 0!==e||1/e==1/t;var s=typeof e,c=typeof t;if(!(e!==e||e&&te[s]||t&&te[c]))return!1;if(null==e||null==t)return e===t;var l=Ln.call(e),p=Ln.call(t);if(l==B&&(l=K),p==B&&(p=K),l!=p)return!1;switch(l){case z:case q:return+e==+t;case G:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case Y:case Q:return e==On(t)}var f=l==H;if(!f){var h=qn.call(e,"__wrapped__"),g=qn.call(t,"__wrapped__");if(h||g)return ae(h?e.__wrapped__:e,g?t.__wrapped__:t,n,o,r,i);if(l!=K||!co.nodeClass&&(d(e)||d(t)))return!1;var v=!co.argsObject&&ye(e)?Dn:e.constructor,b=!co.argsObject&&ye(t)?Dn:t.constructor;if(v!=b&&!(Ae(v)&&v instanceof v&&Ae(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}var y=!r;r||(r=u()),i||(i=u());for(var E=r.length;E--;)if(r[E]==e)return i[E]==t;var w=0;if(a=!0,r.push(e),i.push(t),f){if(E=e.length,w=t.length,a=w==E,a||o)for(;w--;){var C=E,_=t[w];if(o)for(;C--&&!(a=ae(e[C],_,n,o,r,i)););else if(!(a=ae(e[w],_,n,o,r,i)))break}}else ko(t,function(t,s,c){return qn.call(c,s)?(w++,a=qn.call(e,s)&&ae(e[s],t,n,o,r,i)):void 0}),a&&!o&&ko(e,function(e,t,n){return qn.call(n,t)?a=--w>-1:void 0});return r.pop(),i.pop(),y&&(m(r),m(i)),a}function se(e,t,n,o,r){(po(t)?ot:So)(t,function(t,i){var a,s,c=t,l=e[i];if(t&&((s=po(t))||No(t))){for(var u=o.length;u--;)if(a=o[u]==t){l=r[u];break}if(!a){var p;n&&(c=n(l,t),(p="undefined"!=typeof c)&&(l=c)),p||(l=s?po(l)?l:[]:No(l)?l:{}),o.push(t),r.push(l),p||se(l,t,n,o,r)}}else n&&(c=n(l,t),"undefined"==typeof c&&(c=t)),"undefined"!=typeof c&&(l=c);e[i]=l})}function le(e,t){return e+Bn(io()*(t-e+1))}function ue(e,t,n){var i=-1,a=he(),s=e?e.length:0,l=[],p=!t&&s>=_&&a===o,d=n||p?u():l;if(p){var h=c(d);a=r,d=h}for(;++i<s;){var g=e[i],v=n?n(g,i,e):g;(t?!i||d[d.length-1]!==v:a(d,v)<0)&&((n||p)&&d.push(v),l.push(g))}return p?(m(d.array),f(d)):n&&m(d),l}function pe(e){return function(n,o,r){var i={};if(o=t.createCallback(o,r,3),po(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];e(i,c,o(c,a,n),n)}else Co(n,function(t,n,r){e(i,t,o(t,n,r),r)});return i}}function de(e,t,n,o,r,a){var s=1&t,c=2&t,l=4&t,u=16&t,p=32&t;if(!c&&!Ae(e))throw new Mn;u&&!n.length&&(t&=-17,u=n=!1),p&&!o.length&&(t&=-33,p=o=!1);var d=e&&e.__bindData__;if(d&&d!==!0)return d=h(d),d[2]&&(d[2]=h(d[2])),d[3]&&(d[3]=h(d[3])),!s||1&d[1]||(d[4]=r),!s&&1&d[1]&&(t|=8),!l||4&d[1]||(d[5]=a),u&&$n.apply(d[2]||(d[2]=[]),n),p&&Yn.apply(d[3]||(d[3]=[]),o),d[1]|=t,de.apply(null,d);var m=1==t||17===t?i:ne;return m([e,t,n,o,r,a])}function me(){ee.shadowedProps=F,ee.array=ee.bottom=ee.loop=ee.top="",ee.init="iterable",ee.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)ee[n]=e[n];var o=ee.args;ee.firstArg=/^[^,]+/.exec(o)[0];var r=kn("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+o+") {\n"+lo(ee)+"\n}");return r(x,$,In,qn,w,ye,po,He,ee.keys,jn,te,so,Q,Pn,Ln)}function fe(e){return bo[e]}function he(){var e=(e=t.indexOf)===xt?o:e;return e}function ge(e){return"function"==typeof e&&Vn.test(e)}function ve(e){var t,n;return!e||Ln.call(e)!=K||(t=e.constructor,Ae(t)&&!(t instanceof t))||!co.argsClass&&ye(e)||!co.nodeClass&&d(e)?!1:co.ownLast?(ko(e,function(e,t,o){return n=qn.call(o,t),!1}),n!==!1):(ko(e,function(e,t){n=t}),"undefined"==typeof n||qn.call(e,n))}function be(e){return yo[e]}function ye(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ln.call(e)==B||!1}function Ee(e,t,n,o){return"boolean"!=typeof t&&null!=t&&(o=n,n=t,t=!1),b(e,t,"function"==typeof n&&x(n,o,1))}function we(e,t,n){return b(e,!0,"function"==typeof t&&x(t,n,1))}function Ce(e,t){var n=y(e);return t?_o(n,t):n}function _e(e,n,o){var r;return n=t.createCallback(n,o,3),So(e,function(e,t,o){return n(e,t,o)?(r=t,!1):void 0}),r}function xe(e,n,o){var r;return n=t.createCallback(n,o,3),Se(e,function(e,t,o){return n(e,t,o)?(r=t,!1):void 0}),r}function ke(e,t,n){var o=[];ko(e,function(e,t){o.push(t,e)});var r=o.length;for(t=x(t,n,3);r--&&t(o[r--],o[r],e)!==!1;);return e}function Se(e,t,n){var o=fo(e),r=o.length;for(t=x(t,n,3);r--;){var i=o[r];if(t(e[i],i,e)===!1)break}return e}function Ne(e){var t=[];return ko(e,function(e,n){Ae(e)&&t.push(n)}),t.sort()}function De(e,t){return e?qn.call(e,t):!1}function Re(e){for(var t=-1,n=fo(e),o=n.length,r={};++t<o;){var i=n[t];r[e[i]]=i}return r}function Oe(e){return e===!0||e===!1||e&&"object"==typeof e&&Ln.call(e)==z||!1}function Me(e){return e&&"object"==typeof e&&Ln.call(e)==q||!1}function Te(e){return e&&1===e.nodeType||!1}function Ie(e){var t=!0;if(!e)return t;var n=Ln.call(e),o=e.length;return n==H||n==Q||(co.argsClass?n==B:ye(e))||n==K&&"number"==typeof o&&Ae(e.splice)?!o:(So(e,function(){return t=!1}),t)}function je(e,t,n,o){return ae(e,t,"function"==typeof n&&x(n,o,2))}function Pe(e){return Zn(e)&&!eo(parseFloat(e))}function Ae(e){return"function"==typeof e}function Le(e){return!(!e||!te[typeof e])}function Ve(e){return Ue(e)&&e!=+e}function Fe(e){return null===e}function Ue(e){return"number"==typeof e||e&&"object"==typeof e&&Ln.call(e)==G||!1}function Be(e){return e&&te[typeof e]&&Ln.call(e)==Y||!1}function He(e){return"string"==typeof e||e&&"object"==typeof e&&Ln.call(e)==Q||!1}function ze(e){return"undefined"==typeof e}function qe(e,n,o){var r={};return n=t.createCallback(n,o,3),So(e,function(e,t,o){r[t]=n(e,t,o)}),r}function $e(e){var t=arguments,n=2;if(!Le(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var o=x(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(o=t[--n]);for(var r=h(arguments,1,n),i=-1,a=u(),s=u();++i<n;)se(e,r[i],o,a,s);return m(a),m(s),e}function We(e,n,o){var r={};if("function"!=typeof n){var i=[];ko(e,function(e,t){i.push(t)}),i=re(i,ie(arguments,!0,!1,1));for(var a=-1,s=i.length;++a<s;){var c=i[a];r[c]=e[c]}}else n=t.createCallback(n,o,3),ko(e,function(e,t,o){n(e,t,o)||(r[t]=e)});return r}function Ge(e){for(var t=-1,n=fo(e),o=n.length,r=wn(o);++t<o;){var i=n[t];r[t]=[i,e[i]]}return r}function Ke(e,n,o){var r={};if("function"!=typeof n)for(var i=-1,a=ie(arguments,!0,!1,1),s=Le(e)?a.length:0;++i<s;){var c=a[i];c in e&&(r[c]=e[c])}else n=t.createCallback(n,o,3),ko(e,function(e,t,o){n(e,t,o)&&(r[t]=e)});return r}function Ye(e,n,o,r){var i=po(e);if(null==o)if(i)o=[];else{var a=e&&e.constructor,s=a&&a.prototype;o=y(s)}return n&&(n=t.createCallback(n,r,4),(i?Co:So)(e,function(e,t,r){return n(o,e,t,r)})),o}function Qe(e){for(var t=-1,n=fo(e),o=n.length,r=wn(o);++t<o;)r[t]=e[n[t]];return r}function Xe(e){var t=arguments,n=-1,o=ie(t,!0,!1,1),r=t[2]&&t[2][t[1]]===e?1:o.length,i=wn(r);for(co.unindexedChars&&He(e)&&(e=e.split(""));++n<r;)i[n]=e[o[n]];return i}function Je(e,t,n){var o=-1,r=he(),i=e?e.length:0,a=!1;return n=(0>n?no(0,i+n):n)||0,po(e)?a=r(e,t,n)>-1:"number"==typeof i?a=(He(e)?e.indexOf(t,n):r(e,t,n))>-1:Co(e,function(e){return++o>=n?!(a=e===t):void 0}),a}function Ze(e,n,o){var r=!0;if(n=t.createCallback(n,o,3),po(e))for(var i=-1,a=e.length;++i<a&&(r=!!n(e[i],i,e)););else Co(e,function(e,t,o){return r=!!n(e,t,o)});return r}function et(e,n,o){var r=[];if(n=t.createCallback(n,o,3),po(e))for(var i=-1,a=e.length;++i<a;){var s=e[i];n(s,i,e)&&r.push(s)}else Co(e,function(e,t,o){n(e,t,o)&&r.push(e)});return r}function tt(e,n,o){if(n=t.createCallback(n,o,3),!po(e)){var r;return Co(e,function(e,t,o){return n(e,t,o)?(r=e,!1):void 0}),r}for(var i=-1,a=e.length;++i<a;){var s=e[i];if(n(s,i,e))return s}}function nt(e,n,o){var r;return n=t.createCallback(n,o,3),rt(e,function(e,t,o){return n(e,t,o)?(r=e,!1):void 0}),r}function ot(e,t,n){if(t&&"undefined"==typeof n&&po(e))for(var o=-1,r=e.length;++o<r&&t(e[o],o,e)!==!1;);else Co(e,t,n);return e}function rt(e,t,n){var o=e,r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:x(t,n,3),po(e))for(;r--&&t(e[r],r,e)!==!1;);else{if("number"!=typeof r){var i=fo(e);r=i.length}else co.unindexedChars&&He(e)&&(o=e.split(""));Co(e,function(e,n,a){return n=i?i[--r]:--r,t(o[n],n,a)})}return e}function it(e,t){var n=h(arguments,2),o=-1,r="function"==typeof t,i=e?e.length:0,a=wn("number"==typeof i?i:0);return ot(e,function(e){a[++o]=(r?t:e[t]).apply(e,n)}),a}function at(e,n,o){var r=-1,i=e?e.length:0,a=wn("number"==typeof i?i:0);if(n=t.createCallback(n,o,3),po(e))for(;++r<i;)a[r]=n(e[r],r,e);else Co(e,function(e,t,o){a[++r]=n(e,t,o)});return a}function st(e,n,o){var r=-(1/0),i=r;if("function"!=typeof n&&o&&o[n]===e&&(n=null),null==n&&po(e))for(var s=-1,c=e.length;++s<c;){
var l=e[s];l>i&&(i=l)}else n=null==n&&He(e)?a:t.createCallback(n,o,3),Co(e,function(e,t,o){var a=n(e,t,o);a>r&&(r=a,i=e)});return i}function ct(e,n,o){var r=1/0,i=r;if("function"!=typeof n&&o&&o[n]===e&&(n=null),null==n&&po(e))for(var s=-1,c=e.length;++s<c;){var l=e[s];i>l&&(i=l)}else n=null==n&&He(e)?a:t.createCallback(n,o,3),Co(e,function(e,t,o){var a=n(e,t,o);r>a&&(r=a,i=e)});return i}function lt(e,n,o,r){var i=arguments.length<3;if(n=t.createCallback(n,r,4),po(e)){var a=-1,s=e.length;for(i&&(o=e[++a]);++a<s;)o=n(o,e[a],a,e)}else Co(e,function(e,t,r){o=i?(i=!1,e):n(o,e,t,r)});return o}function ut(e,n,o,r){var i=arguments.length<3;return n=t.createCallback(n,r,4),rt(e,function(e,t,r){o=i?(i=!1,e):n(o,e,t,r)}),o}function pt(e,n,o){return n=t.createCallback(n,o,3),et(e,function(e,t,o){return!n(e,t,o)})}function dt(e,t,n){if(e&&"number"!=typeof e.length?e=Qe(e):co.unindexedChars&&He(e)&&(e=e.split("")),null==t||n)return e?e[le(0,e.length-1)]:v;var o=mt(e);return o.length=oo(no(0,t),o.length),o}function mt(e){var t=-1,n=e?e.length:0,o=wn("number"==typeof n?n:0);return ot(e,function(e){var n=le(0,++t);o[t]=o[n],o[n]=e}),o}function ft(e){var t=e?e.length:0;return"number"==typeof t?t:fo(e).length}function ht(e,n,o){var r;if(n=t.createCallback(n,o,3),po(e))for(var i=-1,a=e.length;++i<a&&!(r=n(e[i],i,e)););else Co(e,function(e,t,o){return!(r=n(e,t,o))});return!!r}function gt(e,n,o){var r=-1,i=po(n),a=e?e.length:0,c=wn("number"==typeof a?a:0);for(i||(n=t.createCallback(n,o,3)),ot(e,function(e,t,o){var a=c[++r]=p();i?a.criteria=at(n,function(t){return e[t]}):(a.criteria=u())[0]=n(e,t,o),a.index=r,a.value=e}),a=c.length,c.sort(s);a--;){var l=c[a];c[a]=l.value,i||m(l.criteria),f(l)}return c}function vt(e){return e&&"number"==typeof e.length?co.unindexedChars&&He(e)?e.split(""):h(e):Qe(e)}function bt(e){for(var t=-1,n=e?e.length:0,o=[];++t<n;){var r=e[t];r&&o.push(r)}return o}function yt(e){return re(e,ie(arguments,!0,!0,1))}function Et(e,n,o){var r=-1,i=e?e.length:0;for(n=t.createCallback(n,o,3);++r<i;)if(n(e[r],r,e))return r;return-1}function wt(e,n,o){var r=e?e.length:0;for(n=t.createCallback(n,o,3);r--;)if(n(e[r],r,e))return r;return-1}function Ct(e,n,o){var r=0,i=e?e.length:0;if("number"!=typeof n&&null!=n){var a=-1;for(n=t.createCallback(n,o,3);++a<i&&n(e[a],a,e);)r++}else if(r=n,null==r||o)return e?e[0]:v;return h(e,0,oo(no(0,r),i))}function _t(e,t,n,o){return"boolean"!=typeof t&&null!=t&&(o=n,n="function"!=typeof t&&o&&o[t]===e?null:t,t=!1),null!=n&&(e=at(e,n,o)),ie(e,t)}function xt(e,t,n){if("number"==typeof n){var r=e?e.length:0;n=0>n?no(0,r+n):n||0}else if(n){var i=It(e,t);return e[i]===t?i:-1}return o(e,t,n)}function kt(e,n,o){var r=0,i=e?e.length:0;if("number"!=typeof n&&null!=n){var a=i;for(n=t.createCallback(n,o,3);a--&&n(e[a],a,e);)r++}else r=null==n||o?1:n||r;return h(e,0,oo(no(0,i-r),i))}function St(){for(var e=[],t=-1,n=arguments.length,i=u(),a=he(),s=a===o,l=u();++t<n;){var p=arguments[t];(po(p)||ye(p))&&(e.push(p),i.push(s&&p.length>=_&&c(t?e[t]:l)))}var d=e[0],h=-1,g=d?d.length:0,v=[];e:for(;++h<g;){var b=i[0];if(p=d[h],(b?r(b,p):a(l,p))<0){for(t=n,(b||l).push(p);--t;)if(b=i[t],(b?r(b,p):a(e[t],p))<0)continue e;v.push(p)}}for(;n--;)b=i[n],b&&f(b);return m(i),m(l),v}function Nt(e,n,o){var r=0,i=e?e.length:0;if("number"!=typeof n&&null!=n){var a=i;for(n=t.createCallback(n,o,3);a--&&n(e[a],a,e);)r++}else if(r=n,null==r||o)return e?e[i-1]:v;return h(e,no(0,i-r))}function Dt(e,t,n){var o=e?e.length:0;for("number"==typeof n&&(o=(0>n?no(0,o+n):oo(n,o-1))+1);o--;)if(e[o]===t)return o;return-1}function Rt(e){for(var t=arguments,n=0,o=t.length,r=e?e.length:0;++n<o;)for(var i=-1,a=t[n];++i<r;)e[i]===a&&(Kn.call(e,i--,1),r--);return e}function Ot(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var o=-1,r=no(0,Fn((t-e)/(n||1))),i=wn(r);++o<r;)i[o]=e,e+=n;return i}function Mt(e,n,o){var r=-1,i=e?e.length:0,a=[];for(n=t.createCallback(n,o,3);++r<i;){var s=e[r];n(s,r,e)&&(a.push(s),Kn.call(e,r--,1),i--)}return a}function Tt(e,n,o){if("number"!=typeof n&&null!=n){var r=0,i=-1,a=e?e.length:0;for(n=t.createCallback(n,o,3);++i<a&&n(e[i],i,e);)r++}else r=null==n||o?1:no(0,n);return h(e,r)}function It(e,n,o,r){var i=0,a=e?e.length:i;for(o=o?t.createCallback(o,r,1):rn,n=o(n);a>i;){var s=i+a>>>1;o(e[s])<n?i=s+1:a=s}return i}function jt(){return ue(ie(arguments,!0,!0))}function Pt(e,n,o,r){return"boolean"!=typeof n&&null!=n&&(r=o,o="function"!=typeof n&&r&&r[n]===e?null:n,n=!1),null!=o&&(o=t.createCallback(o,r,3)),ue(e,n,o)}function At(e){return re(e,h(arguments,1))}function Lt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(po(n)||ye(n))var o=o?ue(re(o,n).concat(re(n,o))):n}return o||[]}function Vt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?st(Mo(e,"length")):0,o=wn(0>n?0:n);++t<n;)o[t]=Mo(e,t);return o}function Ft(e,t){var n=-1,o=e?e.length:0,r={};for(t||!o||po(e[0])||(t=[]);++n<o;){var i=e[n];t?r[i]=t[n]:i&&(r[i[0]]=i[1])}return r}function Ut(e,t){if(!Ae(t))throw new Mn;return function(){return--e<1?t.apply(this,arguments):void 0}}function Bt(e,t){return arguments.length>2?de(e,17,h(arguments,2),null,t):de(e,1,null,null,t)}function Ht(e){for(var t=arguments.length>1?ie(arguments,!0,!1,1):Ne(e),n=-1,o=t.length;++n<o;){var r=t[n];e[r]=de(e[r],1,null,null,e)}return e}function zt(e,t){return arguments.length>2?de(t,19,h(arguments,2),null,e):de(t,3,null,null,e)}function qt(){for(var e=arguments,t=e.length;t--;)if(!Ae(e[t]))throw new Mn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function $t(e,t){return t="number"==typeof t?t:+t||e.length,de(e,4,null,null,null,t)}function Wt(e,t,n){var o,r,i,a,s,c,l,u=0,p=!1,d=!0;if(!Ae(e))throw new Mn;if(t=no(0,t)||0,n===!0){var m=!0;d=!1}else Le(n)&&(m=n.leading,p="maxWait"in n&&(no(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var f=function(){var n=t-(Io()-a);if(0>=n){r&&Un(r);var p=l;r=c=l=v,p&&(u=Io(),i=e.apply(s,o),c||r||(o=s=null))}else c=Gn(f,n)},h=function(){c&&Un(c),r=c=l=v,(d||p!==t)&&(u=Io(),i=e.apply(s,o),c||r||(o=s=null))};return function(){if(o=arguments,a=Io(),s=this,l=d&&(c||!m),p===!1)var n=m&&!c;else{r||m||(u=a);var g=p-(a-u),v=0>=g;v?(r&&(r=Un(r)),u=a,i=e.apply(s,o)):r||(r=Gn(h,g))}return v&&c?c=Un(c):c||t===p||(c=Gn(f,t)),n&&(v=!0,i=e.apply(s,o)),!v||c||r||(o=s=null),i}}function Gt(e){if(!Ae(e))throw new Mn;var t=h(arguments,1);return Gn(function(){e.apply(v,t)},1)}function Kt(e,t){if(!Ae(e))throw new Mn;var n=h(arguments,2);return Gn(function(){e.apply(v,n)},t)}function Yt(e,t){if(!Ae(e))throw new Mn;var n=function(){var o=n.cache,r=t?t.apply(this,arguments):C+arguments[0];return qn.call(o,r)?o[r]:o[r]=e.apply(this,arguments)};return n.cache={},n}function Qt(e){var t,n;if(!Ae(e))throw new Mn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Xt(e){return de(e,16,h(arguments,1))}function Jt(e){return de(e,32,null,h(arguments,1))}function Zt(e,t,n){var o=!0,r=!0;if(!Ae(e))throw new Mn;return n===!1?o=!1:Le(n)&&(o="leading"in n?n.leading:o,r="trailing"in n?n.trailing:r),J.leading=o,J.maxWait=t,J.trailing=r,Wt(e,t,J)}function en(e,t){return de(t,16,[e])}function tn(e){return function(){return e}}function nn(e,t,n){var o=typeof e;if(null==e||"function"==o)return x(e,t,n);if("object"!=o)return ln(e);var r=fo(e),i=r[0],a=e[i];return 1!=r.length||a!==a||Le(a)?function(t){for(var n=r.length,o=!1;n--&&(o=ae(t[r[n]],e[r[n]],null,!0)););return o}:function(e){var t=e[i];return a===t&&(0!==a||1/a==1/t)}}function on(e){return null==e?"":On(e).replace(wo,fe)}function rn(e){return e}function an(e,o,r){var i=!0,a=o&&Ne(o);o&&(r||a.length)||(null==r&&(r=o),s=n,o=e,e=t,a=Ne(o)),r===!1?i=!1:Le(r)&&"chain"in r&&(i=r.chain);var s=e,c=Ae(s);ot(a,function(t){var n=e[t]=o[t];c&&(s.prototype[t]=function(){var t=this.__chain__,o=this.__wrapped__,r=[o];$n.apply(r,arguments);var a=n.apply(e,r);if(i||t){if(o===a&&Le(a))return this;a=new s(a),a.__chain__=t}return a})})}function sn(){return e._=An,this}function cn(){}function ln(e){return function(t){return t[e]}}function un(e,t,n){var o=null==e,r=null==t;if(null==n&&("boolean"==typeof e&&r?(n=e,e=1):r||"boolean"!=typeof t||(n=t,r=!0)),o&&r&&(t=1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var i=io();return oo(e+i*(t-e+parseFloat("1e-"+((i+"").length-1))),t)}return le(e,t)}function pn(e,t){if(e){var n=e[t];return Ae(n)?e[t]():n}}function dn(e,n,o){var r=t.templateSettings;e=On(e||""),o=xo({},o,r);var i,a=xo({},o.imports,r.imports),s=fo(a),c=Qe(a),u=0,p=o.interpolate||P,d="__p += '",m=Rn((o.escape||P).source+"|"+p.source+"|"+(p===I?O:P).source+"|"+(o.evaluate||P).source+"|$","g");e.replace(m,function(t,n,o,r,a,s){return o||(o=r),d+=e.slice(u,s).replace(L,l),n&&(d+="' +\n__e("+n+") +\n'"),a&&(i=!0,d+="';\n"+a+";\n__p += '"),o&&(d+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=s+t.length,t}),d+="';\n";var f=o.variable,h=f;h||(f="obj",d="with ("+f+") {\n"+d+"\n}\n"),d=(i?d.replace(N,""):d).replace(D,"$1").replace(R,"$1;"),d="function("+f+") {\n"+(h?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g="\n/*\n//# sourceURL="+(o.sourceURL||"/lodash/template/source["+U++ +"]")+"\n*/";try{var b=kn(s,"return "+d+g).apply(v,c)}catch(y){throw y.source=d,y}return n?b(n):(b.source=d,b)}function mn(e,t,n){e=(e=+e)>-1?e:0;var o=-1,r=wn(e);for(t=x(t,n,1);++o<e;)r[o]=t(o);return r}function fn(e){return null==e?"":On(e).replace(Eo,be)}function hn(e){var t=++E;return On(null==e?"":e)+t}function gn(e){return e=new n(e),e.__chain__=!0,e}function vn(e,t){return t(e),e}function bn(){return this.__chain__=!0,this}function yn(){return On(this.__wrapped__)}function En(){return this.__wrapped__}e=e?ce.defaults(oe.Object(),e,ce.pick(oe,V)):oe;var wn=e.Array,Cn=e.Boolean,_n=e.Date,xn=e.Error,kn=e.Function,Sn=e.Math,Nn=e.Number,Dn=e.Object,Rn=e.RegExp,On=e.String,Mn=e.TypeError,Tn=[],In=xn.prototype,jn=Dn.prototype,Pn=On.prototype,An=e._,Ln=jn.toString,Vn=Rn("^"+On(Ln).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Fn=Sn.ceil,Un=e.clearTimeout,Bn=Sn.floor,Hn=kn.prototype.toString,zn=ge(zn=Dn.getPrototypeOf)&&zn,qn=jn.hasOwnProperty,$n=Tn.push,Wn=jn.propertyIsEnumerable,Gn=e.setTimeout,Kn=Tn.splice,Yn=Tn.unshift,Qn=function(){try{var e={},t=ge(t=Dn.defineProperty)&&t,n=t(e,e,e)&&t}catch(o){}return n}(),Xn=ge(Xn=Dn.create)&&Xn,Jn=ge(Jn=wn.isArray)&&Jn,Zn=e.isFinite,eo=e.isNaN,to=ge(to=Dn.keys)&&to,no=Sn.max,oo=Sn.min,ro=e.parseInt,io=Sn.random,ao={};ao[H]=wn,ao[z]=Cn,ao[q]=_n,ao[W]=kn,ao[K]=Dn,ao[G]=Nn,ao[Y]=Rn,ao[Q]=On;var so={};so[H]=so[q]=so[G]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},so[z]=so[Q]={constructor:!0,toString:!0,valueOf:!0},so[$]=so[W]=so[Y]={constructor:!0,toString:!0},so[K]={constructor:!0},function(){for(var e=F.length;e--;){var t=F[e];for(var n in so)qn.call(so,n)&&!qn.call(so[n],t)&&(so[n][t]=!1)}}(),n.prototype=t.prototype;var co=t.support={};!function(){var t=function(){this.x=1},n={0:1,length:1},o=[];t.prototype={valueOf:1,y:1};for(var r in new t)o.push(r);for(r in arguments);co.argsClass=Ln.call(arguments)==B,co.argsObject=arguments.constructor==Dn&&!(arguments instanceof wn),co.enumErrorProps=Wn.call(In,"message")||Wn.call(In,"name"),co.enumPrototypes=Wn.call(t,"prototype"),co.funcDecomp=!ge(e.WinRTError)&&A.test(g),co.funcNames="string"==typeof kn.name,co.nonEnumArgs=0!=r,co.nonEnumShadows=!/valueOf/.test(o),co.ownLast="x"!=o[0],co.spliceObjects=(Tn.splice.call(n,0,1),!n[0]),co.unindexedChars="x"[0]+Dn("x")[0]!="xx";try{co.nodeClass=!(Ln.call(document)==K&&!({toString:0}+""))}catch(i){co.nodeClass=!0}}(1),t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:t}};var lo=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",co.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):co.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),co.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),co.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(co.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),co.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else if(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",co.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||co.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"};Xn||(y=function(){function t(){}return function(n){if(Le(n)){t.prototype=n;var o=new t;t.prototype=null}return o||e.Object()}}());var uo=Qn?function(e,t){Z.value=t,Qn(e,"__bindData__",Z)}:cn;co.argsClass||(ye=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&qn.call(e,"callee")&&!Wn.call(e,"callee")||!1});var po=Jn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ln.call(e)==H||!1},mo=me({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),fo=to?function(e){return Le(e)?co.enumPrototypes&&"function"==typeof e||co.nonEnumArgs&&e.length&&ye(e)?mo(e):to(e):[]}:mo,ho={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:fo,loop:"if (callback(iterable[index], index, collection) === false) return result"},go={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:fo,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},vo={top:"if (!objectTypes[typeof iterable]) return result;\n"+ho.top,array:!1},bo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yo=Re(bo),Eo=Rn("("+fo(yo).join("|")+")","g"),wo=Rn("["+fo(bo).join("")+"]","g"),Co=me(ho),_o=me(go,{top:go.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),xo=me(go),ko=me(ho,vo,{useHas:!1}),So=me(ho,vo);Ae(/x/)&&(Ae=function(e){return"function"==typeof e&&Ln.call(e)==W});var No=zn?function(e){if(!e||Ln.call(e)!=K||!co.argsClass&&ye(e))return!1;var t=e.valueOf,n=ge(t)&&(n=zn(t))&&zn(n);return n?e==n||zn(e)==n:ve(e)}:ve,Do=pe(function(e,t,n){qn.call(e,n)?e[n]++:e[n]=1}),Ro=pe(function(e,t,n){(qn.call(e,n)?e[n]:e[n]=[]).push(t)}),Oo=pe(function(e,t,n){e[n]=t}),Mo=at,To=et,Io=ge(Io=_n.now)&&Io||function(){return(new _n).getTime()},jo=8==ro(S+"08")?ro:function(e,t){return ro(He(e)?e.replace(j,""):e,t||0)};return t.after=Ut,t.assign=_o,t.at=Xe,t.bind=Bt,t.bindAll=Ht,t.bindKey=zt,t.chain=gn,t.compact=bt,t.compose=qt,t.constant=tn,t.countBy=Do,t.create=Ce,t.createCallback=nn,t.curry=$t,t.debounce=Wt,t.defaults=xo,t.defer=Gt,t.delay=Kt,t.difference=yt,t.filter=et,t.flatten=_t,t.forEach=ot,t.forEachRight=rt,t.forIn=ko,t.forInRight=ke,t.forOwn=So,t.forOwnRight=Se,t.functions=Ne,t.groupBy=Ro,t.indexBy=Oo,t.initial=kt,t.intersection=St,t.invert=Re,t.invoke=it,t.keys=fo,t.map=at,t.mapValues=qe,t.max=st,t.memoize=Yt,t.merge=$e,t.min=ct,t.omit=We,t.once=Qt,t.pairs=Ge,t.partial=Xt,t.partialRight=Jt,t.pick=Ke,t.pluck=Mo,t.property=ln,t.pull=Rt,t.range=Ot,t.reject=pt,t.remove=Mt,t.rest=Tt,t.shuffle=mt,t.sortBy=gt,t.tap=vn,t.throttle=Zt,t.times=mn,t.toArray=vt,t.transform=Ye,t.union=jt,t.uniq=Pt,t.values=Qe,t.where=To,t.without=At,t.wrap=en,t.xor=Lt,t.zip=Vt,t.zipObject=Ft,t.collect=at,t.drop=Tt,t.each=ot,t.eachRight=rt,t.extend=_o,t.methods=Ne,t.object=Ft,t.select=et,t.tail=Tt,t.unique=Pt,t.unzip=Vt,an(t),t.clone=Ee,t.cloneDeep=we,t.contains=Je,t.escape=on,t.every=Ze,t.find=tt,t.findIndex=Et,t.findKey=_e,t.findLast=nt,t.findLastIndex=wt,t.findLastKey=xe,t.has=De,t.identity=rn,t.indexOf=xt,t.isArguments=ye,t.isArray=po,t.isBoolean=Oe,t.isDate=Me,t.isElement=Te,t.isEmpty=Ie,t.isEqual=je,t.isFinite=Pe,t.isFunction=Ae,t.isNaN=Ve,t.isNull=Fe,t.isNumber=Ue,t.isObject=Le,t.isPlainObject=No,t.isRegExp=Be,t.isString=He,t.isUndefined=ze,t.lastIndexOf=Dt,t.mixin=an,t.noConflict=sn,t.noop=cn,t.now=Io,t.parseInt=jo,t.random=un,t.reduce=lt,t.reduceRight=ut,t.result=pn,t.runInContext=g,t.size=ft,t.some=ht,t.sortedIndex=It,t.template=dn,t.unescape=fn,t.uniqueId=hn,t.all=Ze,t.any=ht,t.detect=tt,t.findWhere=tt,t.foldl=lt,t.foldr=ut,t.include=Je,t.inject=lt,an(function(){var e={};return So(t,function(n,o){t.prototype[o]||(e[o]=n)}),e}(),!1),t.first=Ct,t.last=Nt,t.sample=dt,t.take=Ct,t.head=Ct,So(t,function(e,o){var r="sample"!==o;t.prototype[o]||(t.prototype[o]=function(t,o){var i=this.__chain__,a=e(this.__wrapped__,t,o);return i||null!=t&&(!o||r&&"function"==typeof t)?new n(a,i):a})}),t.VERSION="2.4.1",t.prototype.chain=bn,t.prototype.toString=yn,t.prototype.value=En,t.prototype.valueOf=En,Co(["join","pop","shift"],function(e){var o=Tn[e];t.prototype[e]=function(){var e=this.__chain__,t=o.apply(this.__wrapped__,arguments);return e?new n(t,e):t}}),Co(["push","reverse","sort","unshift"],function(e){var n=Tn[e];t.prototype[e]=function(){return n.apply(this.__wrapped__,arguments),this}}),Co(["concat","slice","splice"],function(e){var o=Tn[e];t.prototype[e]=function(){return new n(o.apply(this.__wrapped__,arguments),this.__chain__)}}),co.spliceObjects||Co(["pop","shift","splice"],function(e){var o=Tn[e],r="splice"==e;t.prototype[e]=function(){var e=this.__chain__,t=this.__wrapped__,i=o.apply(t,arguments);return 0===t.length&&delete t[0],e||r?new n(i,e):i}}),t}var v,b=[],y=[],E=0,w={},C=+new Date+"",_=75,x=40,S=" 	\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",N=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,M=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,I=/<%=([\s\S]+?)%>/g,j=RegExp("^["+S+"]*0+(?=.$)"),P=/($^)/,A=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,V=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],F=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],U=0,B="[object Arguments]",H="[object Array]",z="[object Boolean]",q="[object Date]",$="[object Error]",W="[object Function]",G="[object Number]",K="[object Object]",Y="[object RegExp]",Q="[object String]",X={};X[W]=!1,X[B]=X[H]=X[z]=X[q]=X[G]=X[K]=X[Y]=X[Q]=!0;var J={leading:!1,maxWait:0,trailing:!1},Z={configurable:!1,enumerable:!1,value:null,writable:!1},ee={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},te={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ne={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},oe=te[typeof window]&&window||this,re=te[typeof e]&&e&&!e.nodeType&&e,ie=te[typeof t]&&t&&!t.nodeType&&t,ae=ie&&ie.exports===re&&re,se=te[typeof n]&&n;!se||se.global!==se&&se.window!==se||(oe=se);var ce=g();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(oe._=ce,define(function(){return ce})):re&&ie?ae?(ie.exports=ce)._=ce:re._=ce:oe._=ce}).call(this)}(require("github:jspm/nodelibs-process@0.1.1")),n.define=o,t.exports}),function(){function e(){}e.amd={},System.register("common/utils/url",["common/utils/_","common/utils/detect","common/utils/mediator"],!1,function(e,t,n){return function(e,t,n){var o=t.hasPushStateSupport(),r={getUrlVars:function(t){var n=t||{};return e((n.query||r.getCurrentQueryString()).split("&")).compact().map(function(e){return e.indexOf("=")>-1?e.split("="):[e,!0]}).zipObject().valueOf()},getCurrentQueryString:function(){return window.location.search.replace(/^\?/,"")},pushQueryString:function(e){e.querystring&&o&&r.getCurrentQueryString()!==e.querystring&&history.pushState(e.state||{},e.title||window.title,e.querystring+window.location.hash)},constructQuery:function(t){return e(t).pairs().map(function(t){var n=t[1];return e.isArray(n)&&(n=n.join(",")),[t[0],"=",n].join("")}).join("&")},getPath:function(e){var t=document.createElement("a");return t.href=e,t.pathname},pushUrl:function(e,t,n,r){o&&window.history[r?"replaceState":"pushState"](e,t,n)},back:function(){o&&window.history.back()}};return n.on("modules:url:pushquerystring",r.pushQueryString),{getUrlVars:r.getUrlVars,getPath:r.getPath,pushUrl:r.pushUrl,constructQuery:r.constructQuery,back:r.back,hasHistorySupport:o}}.call(this,e("common/utils/_"),e("common/utils/detect"),e("common/utils/mediator"))})}(),function(){function e(){}e.amd={},System.register("common/modules/article/spacefinder",["common/utils/$","github:wilsonpage/fastdom@0.8.6","npm:qwery@3.4.2","npm:bonzo@1.4.0","npm:bean@1.0.15","github:guardian/native-promise-only@0.7.6-e","common/utils/_","common/utils/mediator","common/modules/experiments/ab"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s,c){function l(e){return{top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e}}function u(e,n){t.write(function(){o(e).addClass("spacefinder--error").attr("data-spacefinder-msg",n)})}function p(e,t,o,r){var i,s=a(e);return s=s.filter(function(e){var n=e.top>=t.minAbove,i=e.top+t.minBelow<=o,a=n&&i;return r&&!a&&(n||u(e.element,"too close to top of body"),i||u(e.element,"too close to bottom of body")),a}),t.clearContentMeta&&(i=l(n(".js-content-meta")[0]),s=s.filter(function(e){var n=e.top>i.bottom+t.clearContentMeta;return r&&!n&&u(e.element,"too close to content meta"),n})),a(t.selectors).forOwn(function(e,t){var o=a(n(v+t)).map(l);s=s.filter(function(n){var i=E(n,o,e);return r&&!i&&u(n.element,"too close to selector ("+t+")"),i})}),s.valueOf()}function d(){var t=a.filter(e(".js-article__body img"),function(e){return!e.complete});return i.all(a.map(t,function(e){return new i(function(t){window.setTimeout(t,5e3),r.on(e,"load",t)})}))}function m(){return new i(function(e){window.setTimeout(e,5e3),function t(){var o=n(".js-article__body .element-rich-link--not-upgraded");return o.length?void s.once("rich-link:loaded",t):e()}()})}function f(){var e=c.getParticipations().MtRec1,t=c.getParticipations().MtRec2;return c.testCanBeRun("MtRec1")&&e&&"A"===e.variant||c.testCanBeRun("MtRec2")&&t&&"A"===t.variant}function h(){return f()?i.all([d(),m()]):i.resolve()}function g(e,r){var s,c,u;return e=e||b,h().then(function(){return new i(function(i){t.read(function(){s=n(v)[0].offsetHeight,c=a(n(v+" > p")).map(l),r&&t.write(function(){o(c.pluck("element").valueOf()).attr("data-spacefinder-msg","").removeClass("spacefinder--valid").removeClass("spacefinder--error")}),u=p(c,e,s,r),r&&t.write(function(){o(a.pluck(u,"element")).addClass("spacefinder--valid")}),i(u.length?u[0].element:void 0)})})})}var v=".js-article__body",b={minAbove:250,minBelow:300,clearContentMeta:50,selectors:{" > h2":{minAbove:0,minBelow:250}," > *:not(p):not(h2)":{minAbove:25,minBelow:250}}},y=function(e,t,n){var o=e.top-t.bottom>=n.minAbove,r=t.top-e.top>=n.minBelow;return o||r},E=function(e,t,n){return a(t).every(function(t){return y(e,t,n)}).valueOf()};return{getParaWithSpace:g,_testElem:y,_testElems:E}}.call(this,e("common/utils/$"),e("github:wilsonpage/fastdom@0.8.6"),e("npm:qwery@3.4.2"),e("npm:bonzo@1.4.0"),e("npm:bean@1.0.15"),e("github:guardian/native-promise-only@0.7.6-e"),e("common/utils/_"),e("common/utils/mediator"),e("common/modules/experiments/ab"))})}(),function(){function e(){}e.amd={},System.register("common/modules/commercial/badges",["npm:bonzo@1.4.0","github:wilsonpage/fastdom@0.8.6","npm:qwery@3.4.2","github:guardian/native-promise-only@0.7.6-e","common/utils/_","common/utils/$","common/utils/config","common/utils/template","common/modules/commercial/create-ad-slot","common/modules/commercial/dfp","common/views/commercial/badge.html!github:systemjs/plugin-text@0.0.2"],!1,function(e,t,n){return function(e,t,n,o,r,i,a,s,c,l,u){var p={sponsoredfeatures:{count:0,header:"Sponsored by:",namePrefix:"sp"},"advertisement-features":{count:0,header:"Brought to you by:",namePrefix:"ad"},"foundation-features":{count:0,header:"Supported by:",namePrefix:"fo"}},d=function(e,t,n){n&&e.append(s(u,{header:t,sponsor:n}))},m=function(n,r,a){var s=p[r],l=s.namePrefix+"badge",u=l+ ++s.count,m=e(c(u,["paid-for-badge","paid-for-badge--front"],a.series,a.keywords,l));return d(m,s.header,a.sponsor),new o(function(e){t.write(function(){i(".js-container__header",n).after(m),e(m)})})},f=function(){var t,s;return a.switches.sponsored?(t=o.all(r.map(i(".js-sponsored-front"),function(t){var o=e(t);return m(n(".fc-container",t)[0],o.data("sponsorship"),{sponsor:o.data("sponsor")})})),s=t.then(function(){return o.all(r.map(i(".js-sponsored-container"),function(t){if(0===n(".ad-slot--paid-for-badge",t).length){var o=e(t);return m(t,o.data("sponsorship"),{sponsor:o.data("sponsor"),series:o.data("series"),keywords:o.data("keywords")})}}))})):!1},h={init:f,add:function(t){var o=e(t);return o.hasClass("js-sponsored-container")&&0===n(".ad-slot--paid-for-badge",t).length?m(t,o.data("sponsorship"),{sponsor:o.data("sponsor"),series:o.data("series"),keywords:o.data("keywords")}).then(function(e){l.addSlot(e)}):void 0},reset:function(){for(var e in p)p[e].count=0}};return h}.call(this,e("npm:bonzo@1.4.0"),e("github:wilsonpage/fastdom@0.8.6"),e("npm:qwery@3.4.2"),e("github:guardian/native-promise-only@0.7.6-e"),e("common/utils/_"),e("common/utils/$"),e("common/utils/config"),e("common/utils/template"),e("common/modules/commercial/create-ad-slot"),e("common/modules/commercial/dfp"),e("common/views/commercial/badge.html!github:systemjs/plugin-text@0.0.2"))})}(),function(){function e(){}e.amd={},System.register("common/utils/_",["npm:lodash@2.4.1/dist/lodash.compat"],!1,function(e,t,n){return function(e){return e}.call(this,e("npm:lodash@2.4.1/dist/lodash.compat"))})}(),function(){function e(){}e.amd={},System.register("common/utils/config",["common/utils/_","common/utils/pad","common/utils/url"],!1,function(e,t,n){return function(e,t,n){var o=guardian.config,r=n.getUrlVars()["ad-unit"];return r&&(o.page.adUnit=["/",o.page.dfpAccountId,"/",r].join("")),e.extend({hasTone:function(e){return(this.page.tones||"").indexOf(e)>-1},hasSeries:function(e){return(this.page.series||"").indexOf(e)>-1},referencesOfType:function(t){return e(this.page.references||[]).filter(function(e){return"undefined"!=typeof e[t]}).map(function(e){return e[t]}).valueOf()},referenceOfType:function(e){return this.referencesOfType(e)[0]},webPublicationDateAsUrlPart:function(){if(this.page.webPublicationDate){var e=new Date(this.page.webPublicationDate);return e.getFullYear()+"/"+t(e.getMonth()+1,2)+"/"+t(e.getDate(),2)}},dateFromSlug:function(){var e=this.page.pageId.match(/\d{4}\/\w{3}\/\d{2}/);return e?e[0]:null},isMedia:e.contains(["Video","Audio"],o.page.contentType)},o)}.call(this,e("common/utils/_"),e("common/utils/pad"),e("common/utils/url"))})}(),function(){function e(){}e.amd={},System.register("common/utils/ajax",["github:getsentry/raven-js@1.1.18","github:ded/reqwest@1.1.5","common/utils/config","common/utils/get-property"],!1,function(e,t,n){return function(e,t,n,o){function r(o){var r;return o.url.match("^(https?:)?//")||(o.url=i+o.url,o.crossOrigin=!0),n&&"money"===n.page.section&&n.switches.imgix&&(o.data?o.data.inImgixTest=!0:o.data={inImgixTest:!0}),r=t(o),e.wrap({deep:!0},r.then),r}var i=o(n,"page.ajaxUrl","");return r.setHost=function(e){i=e},r}.call(this,e("github:getsentry/raven-js@1.1.18"),e("github:ded/reqwest@1.1.5"),e("common/utils/config"),e("common/utils/get-property"))})}(),function(){function e(){}e.amd={},System.register("core",["github:getsentry/raven-js@1.1.18","common/utils/picturefill","common/utils/_","common/utils/$","common/utils/ajax","common/utils/config","common/utils/cookies","common/utils/detect","common/utils/mediator","common/utils/robust","common/utils/storage","common/utils/template","common/utils/url","common/utils/fastdom-errors","common/modules/analytics/beacon","common/modules/article/spacefinder","common/modules/commercial/badges","common/modules/commercial/create-ad-slot","common/modules/commercial/build-page-targeting","common/modules/commercial/user-ad-targeting","common/modules/component","common/modules/experiments/ab","common/modules/lazyload","common/modules/ui/lazy-load-images","common/modules/ui/images","common/modules/ui/tabs","common/modules/user-prefs","common/views/svgs"],!1,function(e,t,n){return function(){}.call(this,e("github:getsentry/raven-js@1.1.18"),e("common/utils/picturefill"),e("common/utils/_"),e("common/utils/$"),e("common/utils/ajax"),e("common/utils/config"),e("common/utils/cookies"),e("common/utils/detect"),e("common/utils/mediator"),e("common/utils/robust"),e("common/utils/storage"),e("common/utils/template"),e("common/utils/url"),e("common/utils/fastdom-errors"),e("common/modules/analytics/beacon"),e("common/modules/article/spacefinder"),e("common/modules/commercial/badges"),e("common/modules/commercial/create-ad-slot"),e("common/modules/commercial/build-page-targeting"),e("common/modules/commercial/user-ad-targeting"),e("common/modules/component"),e("common/modules/experiments/ab"),e("common/modules/lazyload"),e("common/modules/ui/lazy-load-images"),e("common/modules/ui/images"),e("common/modules/ui/tabs"),e("common/modules/user-prefs"),e("common/views/svgs"))})}();