"format register";!function(){function t(){}t.amd={},System.register("common/utils/page",["common/utils/$","common/utils/config","common/utils/_"],!1,function(t,e,i){return function(t,e,i){function n(t,e,i,n){return t?e?e(n||t):n||t:i?i():!1}function o(t,o){var s=e.referencesOfType("pa-football-team"),a=e.page.footballMatch||{};return i.assign(a,{date:e.webPublicationDateAsUrlPart(),teams:s,isLive:e.page.isLive,pageType:i.find([["minbymin",e.page.isLiveBlog],["report",e.hasTone("Match reports")],["preview",e.hasSeries("Match previews")],["stats",a.id],[null,!0]],function(t){return t[1]===!0})[0]}),n(a.id||a.pageType&&2===a.teams.length,t,o,a)}function s(e,i){var o=(t(".js-football-competition").attr("data-link-name")||"").replace("keyword: football/","");return n(o,e,i)}function a(t,i){return n(e.hasSeries("Clockwatch"),t,i)}function r(t,i){return a(function(){return n(e.page.isLive,t,i)},i)}function c(t,i){return n(e.page.hasOwnProperty("footballMatch"),t,i)}function l(e,i){var o=t(".js-after-article")[0],s=o?"none"!==window.getComputedStyle(o).getPropertyValue("display"):!1;return n(s,e,i,o)}return{isMatch:o,isCompetition:s,isClockwatch:a,isLiveClockwatch:r,isFootballStatsPage:c,belowArticleVisible:l}}.call(this,t("common/utils/$"),t("common/utils/config"),t("common/utils/_"))})}(),function(){function t(){}t.amd={},System.register("common/modules/charts/doughnut",["common/utils/_","common/utils/$"],!1,function(t,e,i){return function(t,e){function i(t){return e.create(document.createElementNS("http://www.w3.org/2000/svg",t))}function n(t){return"translate("+t+")"}var o=function(o,s){s=t.assign({percentCutout:35,unit:"",showValues:!1},s||{});var a,r,c,l,u,d,p,h,f,m,v=s.width,g=s.height||v,y=Math.min(g/2,v/2),b=y*(s.percentCutout/100),k=o.reduce(function(t,e){return{value:t.value+e.value}}).value,w=Math.PI/2,j=2*Math.PI,T=[v/2,g/2],x={x:v/2,y:g/2},S=e.create('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="chart chart--doughnut"></svg>').attr({width:v,height:g,viewbox:"0 0 "+[v,g].join(" ")}),C=-w;return o.forEach(function(t){a=t.value/k*j,r=C+a,c=(r-C)%j>Math.PI?1:0,l={start:{x:x.x+Math.cos(C)*y,y:x.y+Math.sin(C)*y},end:{x:x.x+Math.cos(r)*y,y:x.y+Math.sin(r)*y}},u={start:{x:x.x+Math.cos(r)*b,y:x.y+Math.sin(r)*b},end:{x:x.x+Math.cos(C)*b,y:x.y+Math.sin(C)*b}},d=(b+y)/2,p=(C+r)/2,h=["M",l.start.x,l.start.y,"A",y,y,0,c,1,l.end.x,l.end.y,"L",u.start.x,u.start.y,"A",b,b,0,c,0,u.end.x,u.end.y,"Z"],f=i("g").attr("class","chart__arc").append(i("path").attr({d:h.join(" "),fill:t.color})),m=i("text").attr("class","chart__label"),s.showValues?m.append(i("tspan").attr("class","chart__label-text").text(t.label).attr({x:0,dy:"0"})).append(i("tspan").attr("class","chart__label-value").text(t.value).attr({x:0,dy:"1em"})):m.text(t.label),m.attr({transform:n([Math.cos(p)*d+x.x,Math.sin(p)*d+x.y])}).appendTo(f),f.appendTo(S),C+=t.value/k*j}),S.append(i("text").attr("class","chart__unit").text(s.unit).attr({transform:n(T),dy:"0.4em"}))};return o}.call(this,t("common/utils/_"),t("common/utils/$"))})}(),function(){function t(){}t.amd={},System.register("common/modules/sport/football/match-info",["common/utils/$","common/utils/ajax"],!1,function(t,e,i){return function(t,e){var i=function(t,e){this.endpoint+=(t.id?t.id:[t.date].concat(t.teams).join("/"))+".json?page="+encodeURIComponent(e)};return i.prototype.endpoint="/football/api/match-nav/",i.prototype.fetch=function(){return e({crossOrigin:!0,url:this.endpoint})},i}.call(this,t("common/utils/$"),t("common/utils/ajax"))})}(),function(){function t(){}t.amd={},System.register("common/modules/sport/football/match-list-live",["npm:bonzo@1.4.0","common/utils/$","common/modules/component"],!1,function(t,e,i){return function(t,e,i){var n=function(t,e,i){this.endpoint+=["football",t,e,i].filter(function(t){return t}).join("/")+".json"};return i.define(n),n.prototype.endpoint="/",n.prototype.autoupdated=!0,n.prototype.updateEvery=10,n.prototype.prerender=function(){var t=this.elem;e(".football-team__form",t).remove(),e(".date-divider",t).remove(),e(this.elem).addClass("table--small"),e(".football-matches__date",this.elem).replaceWith('<span class="item__live-indicator">Live</span>')},n.prototype.autoupdate=function(i){var n,o,s=e(".football-match",i),a=this;e(".football-match",this.elem).each(function(e,i){n=t(e).removeClass("football-match--updated"),o=t(s[i]),["score-home","score-away","match-status"].forEach(function(t){t="data-"+t,o.attr(t)!==n.attr(t)&&(n.replaceWith(o.addClass("football-match--updated")),a.prerender())})})},n}.call(this,t("npm:bonzo@1.4.0"),t("common/utils/$"),t("common/modules/component"))})}(),function(){function t(){}t.amd={},System.register("common/modules/sport/football/score-board",["common/modules/component"],!1,function(t,e,i){return function(t){var e=function(){};return t.define(e),e.prototype.componentClass="match-summary",e.prototype.responseDataKey="matchSummary",e}.call(this,t("common/modules/component"))})}(),function(){function t(){}t.amd={},System.register("common/modules/sport/football/tag-page-stats",["common/utils/$","common/utils/ajax","common/utils/config","npm:bonzo@1.4.0","npm:qwery@3.4.2"],!1,function(t,e,i){return function(t,e,i){return function(){var n=t(".js-insert-team-stats-after");n.length&&e({url:"/"+i.page.pageId+"/fixtures-and-results-container",type:"json",method:"get",crossOrigin:"true",success:function(t){t.html&&n.after(t.html)}})}}.call(this,t("common/utils/$"),t("common/utils/ajax"),t("common/utils/config"),t("npm:bonzo@1.4.0"),t("npm:qwery@3.4.2"))})}(),function(){function t(){}t.amd={},System.register("common/modules/charts/table-doughnut",["npm:bonzo@1.4.0","common/utils/$","common/modules/charts/doughnut"],!1,function(t,e,i){return function(t,e,i){var n=function(){};return n.prototype.render=function(n){var o,s,a=n.scrollWidth||n.getAttribute("data-chart-width"),r=e("th",n),c=e("td",n).map(function(t,e){return{label:r[e].innerHTML,value:parseInt(t.getAttribute("data-chart-value"),10),color:t.getAttribute("data-chart-color")}});return t(n).addClass("u-h"),o=new i(c,{showValues:"true"===n.getAttribute("data-chart-show-values"),unit:n.getAttribute("data-chart-unit"),width:a}),s=o.attr("class"),o.attr("class",s+" "+n.getAttribute("data-chart-class")).insertAfter(n)},n}.call(this,t("npm:bonzo@1.4.0"),t("common/utils/$"),t("common/modules/charts/doughnut"))})}(),function(){function t(){}t.amd={},System.register("common/modules/sport/football/football",["common/modules/component"],!1,function(t,e,i){return function(t){function e(e){var i=new t;return i.endpoint=e,i}function i(t,i){return e("/football/match-day/"+t+"/"+i+".json")}function n(t){return e("/football/"+t+"/table.json")}function o(t){return e(t+".json")}return{matchDayFor:i,tableFor:n,statsFor:o}}.call(this,t("common/modules/component"))})}(),function(){function t(){}t.amd={},System.register("bootstraps/football",["npm:bean@1.0.15","npm:bonzo@1.4.0","common/utils/_","common/utils/$","common/utils/ajax","common/utils/config","common/utils/detect","common/utils/mediator","common/utils/page","common/modules/charts/table-doughnut","common/modules/sport/football/football","common/modules/sport/football/match-info","common/modules/sport/football/match-list-live","common/modules/sport/football/score-board","common/modules/sport/football/tag-page-stats","common/modules/ui/rhc"],!1,function(t,e,i){return function(t,e,i,n,o,s,a,r,c,l,u,d,p,h,f,m){function v(t,e){var i;return(i=new d(t,s.page.pageId)).fetch().then(function(o){var s;o.nav&&o.nav.trim().length>0&&(s=n.create(o.nav).first().each(function(e){(t.id||n(".tabs__tab",e).length>2)&&n(".js-football-tabs").append(e)})),e&&e(o,s,i.endpoint)},function(){n(".score-container").remove(),n(".js-score").removeClass("u-h")})}function g(e,i){e=e.filter(function(t){return t});var o=0===e.filter(function(t){return t.ready===!1}).length;o&&c.belowArticleVisible(function(){var o;n(".js-after-article").append(n.create('<div class="football-extras"></div>').each(function(t){e.forEach(function(e,a){i?n.create(i).each(function(t){s.page.isLiveBlog&&n(t).addClass("dropdown--key-events"),n(".dropdown__label",t).append(e.name),n(".dropdown__content",t).append(e.content),n(".dropdown__button",t).attr("data-link-name","Show dropdown: "+e.name).each(function(t){0===a&&(o=t)})}).appendTo(t):t.appendChild(e.content)})})),o&&t.fire(o,"click")},function(){e.forEach(function(t){m.addComponent(t.content,t.importance)})})}function y(t,e,i){e[2]={ready:!1},n.create('<div class="js-football-table" data-link-name="football-table-embed"></div>').each(function(o){u.tableFor(t).fetch(o).then(function(){e[2]=n(".table__container",o).length>0?{name:"Table",importance:3,content:o,ready:!0}:void 0,g(e,i)},function(){delete e[2],g(e,i)})})}function b(t,i,n){e(t).append(e.create('<div class="loading"><div class="loading__message">'+(i||"Loading\u2026")+"</div>"+(n?'<a href="'+n.href+'" class="loading__link">'+n.text+"</a>":"")+'<div class="loading__animation"></div></div>'))}function k(t){n(".loading",t).remove()}function w(){var d,m=[];c.isMatch(function(t){if(m[0]={ready:!1},"stats"===t.pageType)v(t);else{var i=n(".js-score"),o=new h,s=e.create('<div class="score-container"><div class="score__loading'+("report"!==t.pageType?" score__loading--live":"")+'"><div class="loading__text">Fetching the scores\u2026</div><div class="is-updating"></div></div></div>')[0];"report"===t.pageType?i.after(s):i.addClass("u-h").before(s),v(t,function(e,r,p){if(d=e.dropdown,s.innerHTML="",o.template=e.matchSummary,/^\s+$/.test(o.template)?i.removeClass("u-h"):(o.endpoint=p,o.updateEvery=a.isBreakpoint({min:"desktop"})?30:60,o.autoupdated=t.isLive,o.render(s),o.setState(t.pageType)),e.hasStarted&&r){var h=n(".tab--stats a",r).attr("href").replace(/^.*\/\/[^\/]+/,"");n.create('<div class="match-stats__container"></div>').each(function(t){u.statsFor(h).fetch(t).then(function(){n(".js-chart",t).each(function(t){(new l).render(t)}),m[0]={name:"Match stats",importance:3,content:t,ready:!0},g(m,d)})})}else delete m[0],g(m,d);c.isCompetition(function(t){m[1]={ready:!1},""!==e.group&&y(t+"/"+e.group,m,d),n.create('<div class="js-football-match-day" data-link-name="football-match-day-embed"></div>').each(function(i){u.matchDayFor(t,e.matchDate).fetch(i).then(function(){m[1]={name:"Today\u2019s matches",importance:2,content:i,ready:!0},g(m,d)},function(){delete m[1],g(m,d)})})})})}}),c.isCompetition(function(t){var e=n(".js-secondary-column").dim().height;(0===e||e>1800)&&y(t,m,d)}),c.isLiveClockwatch(function(){var t=new p("match-day",c.isCompetition()||"premierleague",s.dateFromSlug()),e=n(".media-primary"),i=n.create('<div class="football-matches__container" data-link-name="football-matches-clockwatch"></div>').css({minHeight:e[0]?e[0].offsetHeight:0});e.addClass("u-h"),b(i[0],"Fetching today\u2019s matches\u2026",{text:"Impatient?",href:"/football/live"}),n(".js-football-meta").append(i),t.fetch(i[0]).fail(function(){t.destroy(),i.remove(),e.removeClass("u-h")}).always(function(){0===n(".football-match",i[0]).length&&(t.destroy(),i.remove(),e.removeClass("u-h")),i.css({minHeight:0}),k(i[0])})}),c.isFootballStatsPage(function(){n(".js-chart").each(function(t){(new l).render(t)})}),t.on(document.body,"click",".js-show-more",function(t){t.preventDefault();var i=t.currentTarget;o({url:i.getAttribute("href")+".json"}).then(function(t){n.create(t.html).each(function(o){n('[data-show-more-contains="'+i.getAttribute("data-puts-more-into")+'"]').append(n(i.getAttribute("data-shows-more"),o));var s=t[i.getAttribute("data-new-url")];s?e(i).attr("href",s):e(i).remove()})})}),t.on(document.body,"change",n("form.football-leagues")[0],function(){window.location=this.value}),s.page.isFootballWorldCup2014||t.on(document.body,"click",".table tr[data-link-to]",function(t){t.target.getAttribute("href")||(window.location=this.getAttribute("data-link-to"))}),s.page.isFootballWorldCup2014&&(n("a").attr("target","_top"),function(){var e,o,s,a;try{s=n(".interactive iframe",window.parent.document).get(0)}catch(c){}a=function l(){return e||(o=n("#js-context").offset().height+50,s&&(s.height=o),e=setTimeout(function(){clearTimeout(e),e=null},200)),l}(),r.on("window:resize",i.debounce(a,200)),t.on(document,"click",".dropdown__button",a)}()),f()}return{init:w}}.call(this,t("npm:bean@1.0.15"),t("npm:bonzo@1.4.0"),t("common/utils/_"),t("common/utils/$"),t("common/utils/ajax"),t("common/utils/config"),t("common/utils/detect"),t("common/utils/mediator"),t("common/utils/page"),t("common/modules/charts/table-doughnut"),t("common/modules/sport/football/football"),t("common/modules/sport/football/match-info"),t("common/modules/sport/football/match-list-live"),t("common/modules/sport/football/score-board"),t("common/modules/sport/football/tag-page-stats"),t("common/modules/ui/rhc"))})}();